{"version":3,"file":"index.js","sources":["../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../src/lib/api/contrib/elasticsearch/ESRequestSerializer.js","../../src/lib/api/contrib/elasticsearch/ESResponseSerializer.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../node_modules/regenerator-runtime/runtime.js","../../node_modules/@babel/runtime/regenerator/index.js","../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../src/lib/api/contrib/elasticsearch/ESSearchApi.js","../../src/lib/api/contrib/invenio/InvenioRequestSerializer.js","../../src/lib/api/contrib/invenio/InvenioResponseSerializer.js","../../src/lib/api/contrib/invenio/InvenioSearchApi.js","../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../node_modules/@babel/runtime/helpers/esm/get.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inherits.js","../../src/lib/api/contrib/invenio/InvenioSuggestionApi.js","../../src/lib/api/UrlHandlerApi.js","../../src/lib/state/types/index.js","../../src/lib/state/selectors/query.js","../../src/lib/state/reducers/query.js","../../src/lib/state/reducers/results.js","../../src/lib/state/reducers/index.js","../../src/lib/store.js","../../src/lib/state/actions/query.js","../../src/lib/components/ActiveFilters/ActiveFilters.js","../../src/lib/components/ActiveFilters/index.js","../../src/lib/components/BucketAggregation/BucketAggregationValues.js","../../src/lib/components/BucketAggregation/BucketAggregation.js","../../src/lib/components/BucketAggregation/index.js","../../node_modules/style-inject/dist/style-inject.es.js","../../src/lib/components/AutocompleteSearchBar/AutocompleteSearchBar.js","../../src/lib/components/AutocompleteSearchBar/index.js","../../src/lib/components/ShouldRender/ShouldRender.js","../../src/lib/components/Count/Count.js","../../src/lib/components/Count/index.js","../../src/lib/components/EmptyResults/EmptyResults.js","../../src/lib/components/EmptyResults/index.js","../../src/lib/components/Error/Error.js","../../src/lib/components/Error/index.js","../../src/lib/components/LayoutSwitcher/LayoutSwitcher.js","../../src/lib/components/LayoutSwitcher/index.js","../../src/lib/components/ResultsLoader/ResultsLoader.js","../../src/lib/components/ResultsLoader/index.js","../../src/lib/components/Pagination/Pagination.js","../../src/lib/components/Pagination/index.js","../../src/lib/components/Bootstrap/Bootstrap.js","../../src/lib/components/Bootstrap/index.js","../../src/lib/components/ReactSearchKit/ReactSearchKit.js","../../src/lib/components/ResultsGrid/ResultsGrid.js","../../src/lib/components/ResultsGrid/index.js","../../src/lib/components/ResultsList/ResultsList.js","../../src/lib/components/ResultsList/index.js","../../src/lib/components/ResultsMultiLayout/ResultsMultiLayout.js","../../src/lib/components/ResultsMultiLayout/index.js","../../src/lib/components/ResultsPerPage/ResultsPerPage.js","../../src/lib/components/ResultsPerPage/index.js","../../src/lib/components/SearchBar/SearchBar.js","../../src/lib/components/SearchBar/index.js","../../src/lib/components/Sort/Sort.js","../../src/lib/components/Sort/index.js","../../src/lib/components/SortBy/SortBy.js","../../src/lib/components/SortBy/index.js","../../src/lib/components/SortOrder/SortOrder.js","../../src/lib/components/SortOrder/index.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../src/lib/components/HOC/withState.js","../../src/lib/events.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _isEmpty from 'lodash/isEmpty';\n\nexport class ESRequestSerializer {\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize = stateQuery => {\n    const { queryString, sortBy, sortOrder, page, size } = stateQuery;\n\n    const bodyParams = {};\n    if (!_isEmpty(queryString)) {\n      bodyParams['query'] = {\n        query_string: {\n          query: queryString,\n        },\n      };\n    }\n    if (sortBy) {\n      const sortObj = {};\n      sortObj[sortBy] = sortOrder && sortOrder === 'desc' ? 'desc' : 'asc';\n      bodyParams['sort'] = sortObj;\n    }\n\n    if (size > 0) {\n      bodyParams['size'] = size;\n    }\n\n    if (page > 0) {\n      const s = size > 0 ? size : 0;\n      const from = (page - 1) * s;\n      bodyParams['from'] = from;\n    }\n\n    return bodyParams;\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nexport class ESResponseSerializer {\n  /**\n   * Return a serialized version of the API backend response for the app state `results`.\n   * @param {object} payload the backend response payload\n   */\n  serialize = payload => {\n    return {\n      aggregations: payload.aggregations || {},\n      hits: payload.hits.hits.map(hit => hit._source),\n      total: payload.hits.total.value,\n    };\n  };\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _get from 'lodash/get';\nimport _hasIn from 'lodash/hasIn';\nimport axios from 'axios';\nimport { ESRequestSerializer } from './ESRequestSerializer';\nimport { ESResponseSerializer } from './ESResponseSerializer';\n\nexport class ESSearchApi {\n  constructor(config) {\n    this.validateConfig(config);\n    this.initSerializers(config);\n    this.initAxios(config);\n  }\n\n  validateConfig(config) {\n    if (!_hasIn(config, 'url')) {\n      throw new Error('ESSearchApi config: `node` field is required.');\n    }\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = _get(\n      config,\n      'es.requestSerializer',\n      ESRequestSerializer\n    );\n    const responseSerializerCls = _get(\n      config,\n      'es.responseSerializer',\n      ESResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls();\n    this.responseSerializer = new responseSerializerCls();\n  }\n\n  initAxios(config) {\n    delete config.es;\n    const axiosConfig = {\n      baseURL: config.url,\n      ...config,\n    };\n    this.http = axios.create(axiosConfig);\n  }\n\n  /**\n   * Perform the backend request to search and return the serialized list of results for the app state `results`.\n   * @param {string} stateQuery the `query` state with the user input\n   */\n  search = async stateQuery => {\n    const payload = this.requestSerializer.serialize(stateQuery);\n    const response = await this.http.request({\n      method: 'POST',\n      data: payload,\n    });\n    return this.responseSerializer.serialize(response.data);\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from 'qs';\nimport _extend from 'lodash/extend';\n\n/** Default backend request serializer */\nexport class InvenioRequestSerializer {\n  _addFilter = (filter, filterUrlParams) => {\n    if (!Array.isArray(filter)) {\n      throw new Error(\n        `Filter value \"${filter}\" in query state must be an array.`\n      );\n    }\n    if (!(filter.length === 2 || filter.length === 3)) {\n      throw new Error(\n        `Filter value \"${filter}\" in query state must be an array of 2 or 3 elements`\n      );\n    }\n    const aggName = filter[0];\n    const fieldValue = filter[1];\n    filterUrlParams[aggName] = fieldValue;\n    const hasChild = filter.length === 3;\n    if (hasChild) {\n      this._addFilter(filter[2], filterUrlParams);\n    }\n  };\n\n  _addFilters = filters => {\n    if (!Array.isArray(filters)) {\n      throw new Error(`Filters query state \"${filters}\" must be an array.`);\n    }\n    /**\n     * input: [\n     *   [ 'type_agg', 'value1' ]\n     *   [ 'type_agg', 'value2', [ 'subtype_agg', 'a value' ] ]\n     * ]\n     */\n    const filterUrlParams = {};\n    filters.forEach(filter => {\n      this._addFilter(filter, filterUrlParams);\n    });\n    /**\n     * output: {\n     *  type_agg: 'value1'.\n     *  subtype_agg: 'a value'\n     * }\n     */\n    return filterUrlParams;\n  };\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize = stateQuery => {\n    const { queryString, sortBy, sortOrder, page, size, filters } = stateQuery;\n\n    const getParams = {};\n    if (queryString !== null) {\n      getParams['q'] = queryString;\n    }\n    if (sortBy !== null) {\n      getParams['sort'] = sortBy;\n\n      if (sortOrder !== null) {\n        getParams['sort'] = sortOrder === 'desc' ? `-${sortBy}` : sortBy;\n      }\n    }\n    if (page > 0) {\n      getParams['page'] = page;\n    }\n    if (size > 0) {\n      getParams['size'] = size;\n    }\n    const filterParams = this._addFilters(filters);\n    _extend(getParams, filterParams);\n\n    return Qs.stringify(getParams, { arrayFormat: 'repeat' });\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\n/** Default backend response serializer */\nexport class InvenioResponseSerializer {\n  /**\n   * Return a serialized version of the API backend response for the app state `results`.\n   * @param {object} payload the backend response payload\n   */\n  serialize = payload => {\n    return {\n      aggregations: payload.aggregations || {},\n      hits: payload.hits.hits,\n      total: payload.hits.total,\n    };\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _get from 'lodash/get';\nimport _hasIn from 'lodash/hasIn';\nimport axios from 'axios';\nimport { InvenioRequestSerializer } from './InvenioRequestSerializer';\nimport { InvenioResponseSerializer } from './InvenioResponseSerializer';\n\nexport class InvenioSearchApi {\n  constructor(config) {\n    this.validateConfig(config);\n    this.initSerializers(config);\n    this.initAxios(config);\n  }\n\n  validateConfig(config) {\n    if (!_hasIn(config, 'url')) {\n      throw new Error('InvenioSearchApi config: `url` field is required.');\n    }\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = _get(\n      config,\n      'invenio.requestSerializer',\n      InvenioRequestSerializer\n    );\n    const responseSerializerCls = _get(\n      config,\n      'invenio.responseSerializer',\n      InvenioResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls();\n    this.responseSerializer = new responseSerializerCls();\n  }\n\n  initAxios(config) {\n    delete config.invenio;\n    const axiosConfig = {\n      paramsSerializer: this.requestSerializer.serialize,\n      baseURL: config.url, // transform URL to baseURL to have clean external APIs\n      ...config,\n    };\n    this.http = axios.create(axiosConfig);\n    if (config.interceptors) {\n      this.addInterceptors(config.interceptors);\n    }\n  }\n\n  addInterceptors(interceptors) {\n    if (interceptors.request) {\n      this.http.interceptors.request.use(\n        interceptors.request.resolve,\n        interceptors.request.reject\n      );\n    }\n    if (interceptors.response) {\n      this.http.interceptors.response.use(\n        interceptors.response.resolve,\n        interceptors.response.reject\n      );\n    }\n  }\n\n  /**\n   * Perform the backend request to search and return the serialized list of results for the app state `results`.\n   * @param {string} stateQuery the `query` state with the user input\n   */\n  search = async stateQuery => {\n    const response = await this.http.request({\n      params: stateQuery,\n    });\n    return this.responseSerializer.serialize(response.data);\n  };\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _get from 'lodash/get';\nimport _hasIn from 'lodash/hasIn';\nimport Qs from 'qs';\nimport { InvenioSearchApi } from './InvenioSearchApi';\n\nclass InvenioSuggestionRequestSerializer {\n  constructor(queryField) {\n    this.queryField = queryField;\n  }\n\n  /**\n   * Return a serialized version of the app state `query` for the API backend.\n   * @param {object} stateQuery the `query` state to serialize\n   */\n  serialize = stateQuery => {\n    const { suggestionString } = stateQuery;\n\n    const getParams = {};\n    if (suggestionString !== null) {\n      getParams['q'] = this.queryField + ':' + suggestionString;\n    }\n\n    return Qs.stringify(getParams, { arrayFormat: 'repeat', encode: false });\n  };\n}\n\nclass InvenioSuggestionResponseSerializer {\n  constructor(responseField) {\n    this.responseFieldPath = responseField.split('.');\n  }\n\n  _serializeSuggestions = responseHits => {\n    return Array.from(\n      new Set(\n        responseHits.map(hit => _get(hit.metadata, this.responseFieldPath))\n      )\n    );\n  };\n\n  /**\n   * Return a serialized version of the API backend response for the app state `suggestions`.\n   * @param {object} payload the backend response payload\n   */\n  serialize = payload => {\n    return {\n      suggestions: this._serializeSuggestions(payload.hits.hits || []),\n    };\n  };\n}\n\nexport class InvenioSuggestionApi extends InvenioSearchApi {\n  validateConfig(config) {\n    super.validateConfig(config);\n\n    if (!_hasIn(config, 'invenio.suggestions.queryField')) {\n      throw new Error(\n        'InvenioSuggestionApi config: `invenio.suggestions.queryField` is required.'\n      );\n    }\n    if (!_hasIn(config, 'invenio.suggestions.responseField')) {\n      throw new Error(\n        'InvenioSuggestionApi config: `invenio.suggestions.queryField` is responseField.'\n      );\n    }\n  }\n\n  initSerializers(config) {\n    const requestSerializerCls = _get(\n      config,\n      'invenio.requestSerializer',\n      InvenioSuggestionRequestSerializer\n    );\n    const responseSerializerCls = _get(\n      config,\n      'invenio.responseSerializer',\n      InvenioSuggestionResponseSerializer\n    );\n\n    this.requestSerializer = new requestSerializerCls(\n      config.invenio.suggestions.queryField\n    );\n    this.responseSerializer = new responseSerializerCls(\n      config.invenio.suggestions.responseField\n    );\n  }\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from 'qs';\nimport _isString from 'lodash/isString';\nimport _isBoolean from 'lodash/isBoolean';\nimport _isObject from 'lodash/isObject';\nimport _isNaN from 'lodash/isNaN';\nimport _isNil from 'lodash/isNil';\nimport _cloneDeep from 'lodash/cloneDeep';\n\nconst pushHistory = query => {\n  if (window.history.pushState) {\n    window.history.pushState({ path: query }, '', query);\n  }\n};\n\nconst replaceHistory = query => {\n  if (window.history.replaceState) {\n    window.history.replaceState({ path: query }, '', query);\n  }\n};\n\n/** Default URL parser implementation */\nclass UrlParser {\n  _sanitizeParamValue = value => {\n    let parsedValue = parseInt(value);\n    if (_isNaN(parsedValue)) {\n      try {\n        const _value = JSON.parse(value);\n        if (!_isNil(_value)) {\n          parsedValue = _value;\n        }\n      } catch (e) {\n        if (value !== 'undefined') {\n          parsedValue = value;\n        } else {\n          console.error(`Cannot parse value ${value}.`);\n        }\n      }\n    }\n    return parsedValue;\n  };\n\n  /**\n   * Parse the URL query string and return an object with all the params.\n   * @param {string} queryString the query string to parse\n   */\n  parse = (queryString = '') => {\n    const parsedParams = Qs.parse(queryString, { ignoreQueryPrefix: true });\n    const params = {};\n    Object.entries(parsedParams).forEach(entry => {\n      const key = entry[0];\n      const value = entry[1];\n      params[key] = this._sanitizeParamValue(value);\n    });\n    return params;\n  };\n}\n\n/** Default implementation for a param validator class */\nclass UrlParamValidator {\n  /**\n   * Return true if the param value is valid, false otherwise\n   * @param {object} queryState the `query` state\n   * @param {boolean} updateUrlQueryString a flag to push the new updated version of `query` state to the URL query string\n   */\n  isValid = (key, value) => true;\n}\n\n/** Object responsible to update the URL query string and parse it to update the app state */\nexport class UrlHandlerApi {\n  constructor(config = {}) {\n    this.urlParamsMapping = _isObject(config.urlParamsMapping)\n      ? config.urlParamsMapping\n      : {\n          queryString: 'q',\n          sortBy: 'sort',\n          sortOrder: 'order',\n          page: 'p',\n          size: 's',\n          layout: 'l',\n          filters: 'f',\n        };\n\n    this.keepHistory =\n      config.keepHistory !== undefined ? config.keepHistory : true;\n    if (!_isBoolean(this.keepHistory)) {\n      throw new Error(\n        `\"keepHistory configuration must be a boolean, ${this.keepHistory} provided.`\n      );\n    }\n\n    this.urlFilterSeparator =\n      config.urlFilterSeparator !== undefined ? config.urlFilterSeparator : '+';\n    if (!_isString(this.urlFilterSeparator)) {\n      throw new Error(\n        `\"urlFilterSeparator configuration must be a string, ${this.urlFilterSeparator} provided.`\n      );\n    }\n\n    this.urlParamValidator =\n      config.urlParamValidator || new UrlParamValidator();\n    this.urlParser = config.urlParser || new UrlParser();\n\n    // build the serializer from URL params to Query state by flipping the urlParamsMapping\n    this.fromUrlParamsMapping = {};\n    Object.keys(this.urlParamsMapping).forEach(stateKey => {\n      this.fromUrlParamsMapping[this.urlParamsMapping[stateKey]] = stateKey;\n    });\n  }\n\n  /**\n   * Map filters from list to string that is human readable\n   * [ 'type', 'photo', [ 'subtype', 'png' ]] => type:photo+subtype:png\n   */\n  _filterListToString = filter => {\n    const childFilter =\n      filter.length === 3\n        ? this.urlFilterSeparator.concat(this._filterListToString(filter[2]))\n        : '';\n    return `${filter[0]}:${filter[1]}${childFilter}`;\n  };\n\n  /**\n   * Map each query state field to an URL param\n   */\n  _mapQueryStateToUrlParams = queryState => {\n    const params = {};\n    Object.keys(queryState)\n      .filter(stateKey => stateKey in this.urlParamsMapping)\n      .filter(stateKey => {\n        // filter out negative or null values\n        if (\n          (stateKey === 'page' || stateKey === 'size') &&\n          queryState[stateKey] <= 0\n        ) {\n          return false;\n        }\n        return queryState[stateKey] !== null;\n      })\n      .forEach(stateKey => {\n        const paramKey = this.urlParamsMapping[stateKey];\n        if (stateKey === 'filters') {\n          params[paramKey] = queryState[stateKey].map(filter =>\n            this._filterListToString(filter)\n          );\n        } else {\n          params[paramKey] = queryState[stateKey];\n        }\n      });\n\n    // will omit undefined and null values from the query\n    return Qs.stringify(params, {\n      addQueryPrefix: true,\n      skipNulls: true,\n      indices: false, // order for filters params is not important, remove indices\n    });\n  };\n\n  /**\n   * Map filters from string to list\n   * type:photo+subtype:png => [ 'type', 'photo', [ 'subtype', 'png' ]]\n   */\n  _filterStringToList = filterStr => {\n    const childSepPos = filterStr.indexOf(this.urlFilterSeparator);\n    const hasChild = childSepPos > -1;\n\n    const aggNamePos = filterStr.indexOf(':');\n    if (aggNamePos === -1) {\n      throw new Error(\n        `Filter \"${filterStr}\" not parsable. Format expected: \"<agg name>:<value>\"`\n      );\n    }\n    const aggName = filterStr.slice(0, aggNamePos);\n    const end = hasChild ? childSepPos : filterStr.length;\n    const value = filterStr.slice(aggNamePos + 1, end);\n    let filterList = [aggName, value];\n    if (hasChild) {\n      const childFilter = filterStr.slice(childSepPos + 1, filterStr.length);\n      filterList.push(this._filterStringToList(childFilter));\n    }\n    return filterList;\n  };\n\n  /**\n   * Map each URL param to a query state field\n   */\n  _mapUrlParamsToQueryState = urlParamsObj => {\n    const result = {};\n    Object.keys(urlParamsObj).forEach(paramKey => {\n      if (this.urlParamValidator.isValid(paramKey, urlParamsObj[paramKey])) {\n        const queryStateKey = this.fromUrlParamsMapping[paramKey];\n        result[queryStateKey] = urlParamsObj[paramKey];\n        // custom transformation for filters\n        if (queryStateKey === 'filters') {\n          if (!Array.isArray(urlParamsObj[paramKey])) {\n            // if only 1 filter, create an array with one element\n            urlParamsObj[paramKey] = [urlParamsObj[paramKey]];\n          }\n          result[queryStateKey] = urlParamsObj[paramKey].map(filter =>\n            this._filterStringToList(filter)\n          );\n        }\n      }\n    });\n    return result;\n  };\n\n  _mergeParamsIntoState = (urlStateObj, queryState) => {\n    const _queryState = _cloneDeep(queryState);\n    Object.keys(urlStateObj).forEach(stateKey => {\n      if (stateKey in _queryState) {\n        _queryState[stateKey] = urlStateObj[stateKey];\n      }\n    });\n    return _queryState;\n  };\n\n  /**\n   * Return a new version of the given `query` state with updated values parsed from the URL query string.\n   * @param {object} queryState the `query` state\n   */\n  get = queryState => {\n    const urlParamsObj = this.urlParser.parse(window.location.search);\n    const urlStateObj = this._mapUrlParamsToQueryState(urlParamsObj);\n    const newQueryState = this._mergeParamsIntoState(urlStateObj, queryState);\n    const newUrlParams = this._mapQueryStateToUrlParams(newQueryState);\n    replaceHistory(newUrlParams);\n    return newQueryState;\n  };\n\n  /**\n   * Update the URL query string parameters from the given `query` state\n   * @param {object} stateQuery the `query` state\n   */\n  set = stateQuery => {\n    if (this.keepHistory) {\n      const newUrlParams = this._mapQueryStateToUrlParams(stateQuery);\n      pushHistory(newUrlParams);\n    } else {\n      this.replace(stateQuery);\n    }\n  };\n\n  /**\n   * Replace the URL query string parameters from the given `query` state\n   * @param {object} stateQuery the `query` state\n   */\n  replace = stateQuery => {\n    const newUrlParams = this._mapQueryStateToUrlParams(stateQuery);\n    replaceHistory(newUrlParams);\n  };\n}\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nexport const SET_QUERY_COMPONENT_INITIAL_STATE =\n  'SET_QUERY_COMPONENT_INITIAL_STATE';\nexport const SET_QUERY_STATE_URL_EXTERNALLY_CHANGED =\n  'SET_QUERY_STATE_URL_EXTERNALLY_CHANGED';\nexport const SET_QUERY_STRING = 'SET_QUERY_STRING';\nexport const SET_QUERY_SORTING = 'SET_QUERY_SORTING';\nexport const SET_QUERY_SORT_BY = 'SET_QUERY_SORT_BY';\nexport const SET_QUERY_SORT_ORDER = 'SET_QUERY_SORT_ORDER';\nexport const SET_QUERY_STATE = 'SET_QUERY_STATE';\nexport const SET_QUERY_PAGINATION_PAGE = 'SET_QUERY_PAGINATION_PAGE';\nexport const SET_QUERY_PAGINATION_SIZE = 'SET_QUERY_PAGINATION_SIZE';\nexport const SET_QUERY_FILTERS = 'SET_QUERY_FILTERS';\nexport const SET_QUERY_SUGGESTIONS = 'SET_QUERY_SUGGESTIONS';\nexport const SET_SUGGESTION_STRING = 'SET_SUGGESTION_STRING';\nexport const CLEAR_QUERY_SUGGESTIONS = 'CLEAR_QUERY_SUGGESTIONS';\n\nexport const RESULTS_LOADING = 'RESULTS_LOADING';\nexport const RESULTS_FETCH_SUCCESS = 'RESULTS_FETCH_SUCCESS';\nexport const RESULTS_FETCH_ERROR = 'RESULTS_FETCH_ERROR';\nexport const RESULTS_UPDATE_LAYOUT = 'RESULTS_UPDATE_LAYOUT';\nexport const SET_RESULTS_COMPONENT_INITIAL_STATE =\n  'SET_RESULTS_COMPONENT_INITIAL_STATE';\nexport const RESET_QUERY = 'RESET_QUERY';\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport Qs from 'qs';\nimport _isEmpty from 'lodash/isEmpty';\nimport _pick from 'lodash/pick';\n/**\n * Return true if the first string starts and contains the second.\n * @param {string} first a string\n * @param {string} second a string\n */\nfunction startsWith(first, second) {\n  return first.indexOf(second) === 0;\n}\n\nfunction toString(array) {\n  return Qs.stringify({ q: array });\n}\n\nfunction parse(str) {\n  return Qs.parse(str)['q'];\n}\n\nfunction removeLastChild(arr) {\n  const hasChild = arr.length === 3;\n  if (hasChild) {\n    const result = [arr[0], arr[1]];\n    const lastChild = removeLastChild(arr[2]);\n    if (lastChild.length) {\n      result.push(lastChild);\n    }\n    return result;\n  }\n  return [];\n}\n\nexport const updateQueryFilters = (queryFilter, stateFilters) => {\n  if (_isEmpty(queryFilter)) return;\n  /**\n   * convert query and state to strings so they can be compared\n   */\n  const strQuery = toString(queryFilter);\n  const strStateFilters = stateFilters.map(stateObjQuery =>\n    toString(stateObjQuery)\n  );\n\n  /**\n   * filter out any state that starts with the query or any parent of the query\n   * e.g. query = ['file_type', 'pdf']\n   *      state = [[ 'file_type', 'pdf' ]]\n   *      filtered = []\n   *\n   *      query = [ 'type', 'publication' ]\n   *      state = [['type', 'publication', ['subtype', 'report' ]]\n   *      filtered = []\n   *\n   *      query = ['type', 'publication', ['subtype', 'report']]]\n   *      state = [[ 'type', 'publication' ]]\n   *      filtered = []\n   */\n  let anyRemoved = false;\n  const filteredStrStates = strStateFilters.filter(strStateFilter => {\n    const childFilterExists = startsWith(strStateFilter, strQuery);\n    const parentFilterExists = startsWith(strQuery, strStateFilter);\n\n    if (childFilterExists && !anyRemoved) {\n      anyRemoved = true;\n    }\n    return !childFilterExists && !parentFilterExists;\n  });\n\n  if (!anyRemoved) {\n    /**\n     * if nothing has been removed, it means it was not previously there, so\n     * the user query has to be added.\n     * e.g. query = ['type', 'publication', ['subtype', 'report']]\n     *      state = []\n     *      filtered = [['type', 'publication', ['subtype', 'report']]]\n     */\n    filteredStrStates.push(strQuery);\n  } else {\n    /**\n     * if a filter has been removed, it might have been a child. Add its parent if it is the root parent.\n     * e.g. query = ['type', 'publication', 'subtype', 'report']\n     *      state = [['type', 'publication', ['subtype', 'report']]]\n     *      filtered = [['type', 'publication']]\n     */\n    const hasChild = queryFilter.length === 3;\n    if (hasChild) {\n      const arr = removeLastChild(queryFilter);\n      filteredStrStates.push(toString(arr));\n    }\n  }\n\n  /**\n   * convert back to lists\n   */\n  return filteredStrStates.map(strState => parse(strState));\n};\n\nexport const updateQueryState = (oldState, newState, storeKeys) => {\n  let pickedState = _pick(newState, storeKeys);\n  if ('filters' in pickedState) {\n    pickedState['filters'] = updateQueryFilters(\n      pickedState.filters,\n      oldState.filters\n    );\n  }\n  return pickedState;\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport {\n  SET_QUERY_COMPONENT_INITIAL_STATE,\n  SET_QUERY_STATE_URL_EXTERNALLY_CHANGED,\n  SET_QUERY_STRING,\n  SET_QUERY_SORTING,\n  SET_QUERY_SORT_BY,\n  SET_QUERY_SORT_ORDER,\n  SET_QUERY_PAGINATION_PAGE,\n  SET_QUERY_PAGINATION_SIZE,\n  SET_QUERY_FILTERS,\n  SET_QUERY_SUGGESTIONS,\n  SET_QUERY_STATE,\n  SET_SUGGESTION_STRING,\n  CLEAR_QUERY_SUGGESTIONS,\n  RESULTS_UPDATE_LAYOUT,\n  RESET_QUERY,\n} from '../types';\nimport { updateQueryFilters, updateQueryState } from '../selectors';\n\nconst store_keys = [\n  'queryString',\n  'sortBy',\n  'sortOrder',\n  'page',\n  'size',\n  'layout',\n  'filters',\n  'suggestions',\n];\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case SET_QUERY_STRING:\n      return { ...state, queryString: action.payload, page: 1 };\n    case SET_QUERY_SORTING:\n      return {\n        ...state,\n        sortBy: action.payload.sortBy,\n        sortOrder: action.payload.sortOrder,\n        page: 1,\n      };\n    case SET_QUERY_SORT_BY:\n      return {\n        ...state,\n        sortBy: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_SORT_ORDER:\n      return {\n        ...state,\n        sortOrder: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_PAGINATION_PAGE:\n      return {\n        ...state,\n        page: action.payload,\n      };\n    case SET_QUERY_PAGINATION_SIZE:\n      return {\n        ...state,\n        size: action.payload,\n        page: 1,\n      };\n    case SET_QUERY_FILTERS: {\n      return {\n        ...state,\n        page: 1,\n        filters: updateQueryFilters(action.payload, state.filters),\n      };\n    }\n    case SET_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case CLEAR_QUERY_SUGGESTIONS:\n      return {\n        ...state,\n        suggestions: action.payload.suggestions,\n      };\n    case SET_SUGGESTION_STRING:\n      return {\n        ...state,\n        suggestionString: action.payload,\n      };\n    case SET_QUERY_COMPONENT_INITIAL_STATE:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_QUERY_STATE_URL_EXTERNALLY_CHANGED:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_QUERY_STATE:\n      return {\n        ...state,\n        ...updateQueryState(state, action.payload, store_keys),\n      };\n    case RESULTS_UPDATE_LAYOUT:\n      return {\n        ...state,\n        layout: action.payload,\n      };\n    case RESET_QUERY:\n      return {\n        ...state,\n        queryString: '',\n        page: 1,\n        filters: [],\n      };\n    default:\n      return state;\n  }\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport {\n  RESULTS_LOADING,\n  RESULTS_FETCH_SUCCESS,\n  RESULTS_FETCH_ERROR,\n} from '../types';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case RESULTS_LOADING:\n      return {\n        ...state,\n        loading: true,\n        data: {\n          ...state.data,\n        },\n      };\n    case RESULTS_FETCH_SUCCESS:\n      return {\n        loading: false,\n        data: {\n          ...state.data,\n          aggregations: action.payload.aggregations,\n          hits: action.payload.hits,\n          total: action.payload.total,\n        },\n        error: {},\n      };\n    case RESULTS_FETCH_ERROR:\n      return {\n        loading: false,\n        data: {\n          ...state.data,\n          aggregations: {},\n          hits: [],\n          total: 0,\n        },\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { combineReducers } from 'redux';\n\nimport queryReducer from './query';\nimport resultsReducer from './results';\n\nexport default combineReducers({\n  query: queryReducer,\n  results: resultsReducer,\n});\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { connect } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './state/reducers';\n\nexport function configureStore(appConfig) {\n  const initialQueryState = {\n    queryString: '',\n    suggestions: [],\n    sortBy: null,\n    sortOrder: null,\n    page: 1,\n    size: 10,\n    filters: [],\n    layout: null,\n  };\n\n  const initialResultsState = {\n    loading: false,\n    data: {\n      hits: [],\n      total: 0,\n      aggregations: {},\n    },\n    error: {},\n  };\n\n  // configure the initial state\n  const preloadedQueryState = appConfig.urlHandlerApi\n    ? appConfig.urlHandlerApi.get(initialQueryState)\n    : initialQueryState;\n  const preloadedState = {\n    query: preloadedQueryState,\n    results: initialResultsState,\n  };\n  return createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunk.withExtraArgument(appConfig))\n  );\n}\n\nfunction connectExtended(mapStateToProps, mapDispatchToProps, mergeProps) {\n  return connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    mergeProps\n  );\n}\n\nexport { connectExtended as connect };\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _cloneDeep from 'lodash/cloneDeep';\nimport {\n  SET_QUERY_COMPONENT_INITIAL_STATE,\n  SET_QUERY_STATE_URL_EXTERNALLY_CHANGED,\n  SET_QUERY_STRING,\n  SET_QUERY_SORTING,\n  SET_QUERY_SORT_BY,\n  SET_QUERY_SORT_ORDER,\n  SET_QUERY_STATE,\n  SET_QUERY_PAGINATION_PAGE,\n  SET_QUERY_PAGINATION_SIZE,\n  SET_QUERY_FILTERS,\n  SET_QUERY_SUGGESTIONS,\n  SET_SUGGESTION_STRING,\n  CLEAR_QUERY_SUGGESTIONS,\n  RESET_QUERY,\n  RESULTS_LOADING,\n  RESULTS_FETCH_SUCCESS,\n  RESULTS_FETCH_ERROR,\n  RESULTS_UPDATE_LAYOUT,\n} from '../types';\n\nexport const setInitialState = initialState => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_COMPONENT_INITIAL_STATE,\n      payload: initialState,\n    });\n  };\n};\n\nexport const onAppInitialized = searchOnInit => {\n  return dispatch => {\n    if (searchOnInit) {\n      dispatch(executeQuery({ shouldUpdateUrlQueryString: false }));\n    }\n  };\n};\n\nexport const onBrowserHistoryExternallyChanged = () => {\n  return (dispatch, getState, config) => {\n    const urlHandlerApi = config.urlHandlerApi;\n    if (urlHandlerApi) {\n      const currentStateQuery = getState().query;\n      const newStateQuery = urlHandlerApi.get(currentStateQuery);\n      dispatch({\n        type: SET_QUERY_STATE_URL_EXTERNALLY_CHANGED,\n        payload: newStateQuery,\n      });\n      dispatch(\n        executeQuery({\n          shouldUpdateUrlQueryString: false,\n          shouldReplaceUrlQueryString: true,\n        })\n      );\n    }\n  };\n};\n\nexport const updateQueryString = queryString => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_STRING,\n      payload: queryString,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySorting = (sortByValue, sortOrderValue) => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_SORTING,\n      payload: { sortBy: sortByValue, sortOrder: sortOrderValue },\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySortBy = sortByValue => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_SORT_BY,\n      payload: sortByValue,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQuerySortOrder = sortOrderValue => {\n  return dispatch => {\n    dispatch({ type: SET_QUERY_SORT_ORDER, payload: sortOrderValue });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryPaginationPage = page => {\n  return dispatch => {\n    dispatch({ type: SET_QUERY_PAGINATION_PAGE, payload: page });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryPaginationSize = size => {\n  return dispatch => {\n    dispatch({ type: SET_QUERY_PAGINATION_SIZE, payload: size });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateQueryFilters = filters => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_FILTERS,\n      payload: filters,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const updateResultsLayout = layout => {\n  return async (dispatch, getState, config) => {\n    const urlHandlerApi = config.urlHandlerApi;\n    if (urlHandlerApi) {\n      await dispatch({\n        type: RESULTS_UPDATE_LAYOUT,\n        payload: layout,\n      });\n      const newStateQuery = getState().query;\n      urlHandlerApi.set(newStateQuery);\n    } else {\n      dispatch({\n        type: RESULTS_UPDATE_LAYOUT,\n        payload: layout,\n      });\n    }\n  };\n};\n\nexport const resetQuery = () => {\n  return dispatch => {\n    dispatch({\n      type: RESET_QUERY,\n    });\n    dispatch(executeQuery());\n  };\n};\n\nexport const executeQuery = ({\n  shouldUpdateUrlQueryString = true,\n  shouldReplaceUrlQueryString = false,\n} = {}) => {\n  return async (dispatch, getState, config) => {\n    const queryState = _cloneDeep(getState().query);\n    const searchApi = config.searchApi;\n    const urlHandlerApi = config.urlHandlerApi;\n\n    if (urlHandlerApi) {\n      if (shouldReplaceUrlQueryString) {\n        urlHandlerApi.replace(queryState);\n      } else if (shouldUpdateUrlQueryString) {\n        urlHandlerApi.set(queryState);\n      }\n    }\n\n    dispatch({ type: RESULTS_LOADING });\n    try {\n      const response = await searchApi.search(queryState);\n      dispatch({\n        type: RESULTS_FETCH_SUCCESS,\n        payload: {\n          aggregations: response.aggregations,\n          hits: response.hits,\n          total: response.total,\n        },\n      });\n    } catch (reason) {\n      console.error(reason);\n      dispatch({ type: RESULTS_FETCH_ERROR, payload: reason });\n    }\n  };\n};\n\nexport const updateSuggestions = suggestionString => {\n  return dispatch => {\n    dispatch({\n      type: SET_SUGGESTION_STRING,\n      payload: suggestionString,\n    });\n    dispatch(executeSuggestionQuery());\n  };\n};\n\nexport const executeSuggestionQuery = () => {\n  return async (dispatch, getState, config) => {\n    const queryState = _cloneDeep(getState().query);\n    const suggestionApi = config.suggestionApi;\n\n    try {\n      const response = await suggestionApi.search(queryState);\n      dispatch({\n        type: SET_QUERY_SUGGESTIONS,\n        payload: {\n          suggestions: response.suggestions,\n        },\n      });\n    } catch (reason) {\n      console.error('Could not load suggestions due to: ' + reason);\n    }\n  };\n};\n\nexport const clearSuggestions = () => {\n  return dispatch => {\n    dispatch({\n      type: CLEAR_QUERY_SUGGESTIONS,\n      payload: {\n        suggestions: [],\n      },\n    });\n  };\n};\n\nexport const updateQueryState = queryState => {\n  return dispatch => {\n    dispatch({\n      type: SET_QUERY_STATE,\n      payload: queryState,\n    });\n    dispatch(executeQuery());\n  };\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Label, Icon } from 'semantic-ui-react';\n\nexport default class ActiveFilters extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryFilters = props.updateQueryFilters;\n    this.renderElement = props.renderElement || this._renderElement;\n    this.renderActiveFilters =\n      props.renderActiveFilters || this._renderActiveFilters;\n  }\n\n  _getLabel = filter => {\n    const aggName = filter[0];\n    let value = filter[1];\n    let currentFilter = [aggName, value];\n    const hasChild = filter.length === 3;\n    if (hasChild) {\n      const { label, activeFilter } = this._getLabel(filter[2]);\n      value = `${value}.${label}`;\n      currentFilter.push(activeFilter);\n    }\n    return {\n      label: value,\n      activeFilter: currentFilter,\n    };\n  };\n\n  _renderElement = (filters, removeActiveFilter) => {\n    return filters.map((filter, index) => {\n      const { label, activeFilter } = this._getLabel(filter);\n      return (\n        <Label\n          image\n          key={index}\n          onClick={() => removeActiveFilter(activeFilter)}\n        >\n          {label}\n          <Icon name=\"delete\" />\n        </Label>\n      );\n    });\n  };\n\n  render() {\n    const filters = this.props.filters;\n    return filters.length\n      ? this.renderElement(filters, this.updateQueryFilters)\n      : null;\n  }\n}\n\nActiveFilters.propTypes = {\n  filters: PropTypes.array.isRequired,\n  updateQueryFilters: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nActiveFilters.defaultProps = {\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQueryFilters } from '../../state/actions';\nimport ActiveFiltersComponent from './ActiveFilters';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQueryFilters: filter => dispatch(updateQueryFilters(filter)),\n});\n\nexport const ActiveFilters = connect(\n  state => ({\n    filters: state.query.filters,\n  }),\n  mapDispatchToProps\n)(ActiveFiltersComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Checkbox, List } from 'semantic-ui-react';\n\nexport default class BucketAggregationValues extends Component {\n  constructor(props) {\n    super(props);\n    this.field = props.field;\n    this.aggName = props.aggName;\n    this.childAgg = props.childAgg;\n    this.onFilterClicked = props.onFilterClicked;\n    this.renderContainerElement =\n      props.renderContainerElement || this._renderContainerElement;\n    this.renderValueElement =\n      props.renderValueElement || this._renderValueElement;\n  }\n\n  _isSelected = (aggName, value, selectedFilters) => {\n    // return True there is at least one filter that has this value\n    return (\n      selectedFilters.filter(\n        filter => filter[0] === aggName && filter[1] === value\n      ).length >= 1\n    );\n  };\n\n  getChildAggCmps = (bucket, selectedFilters) => {\n    const hasChildAggregation =\n      this.childAgg && this.childAgg['aggName'] in bucket;\n    let selectedChildFilters = [];\n    if (hasChildAggregation) {\n      const childBuckets = bucket[this.childAgg['aggName']]['buckets'];\n      selectedFilters.forEach(filter => {\n        const isThisAggregation = filter[0] === this.aggName;\n        const isThisValue = filter[1] === bucket.key;\n        const hasChild = filter.length === 3;\n        if (isThisAggregation && isThisValue && hasChild) {\n          selectedChildFilters.push(filter[2]);\n        }\n      });\n      const onFilterClicked = value => {\n        this.onFilterClicked([this.aggName, bucket.key, value]);\n      };\n      return (\n        <BucketAggregationValues\n          buckets={childBuckets}\n          selectedFilters={selectedChildFilters}\n          field={this.childAgg.field}\n          aggName={this.childAgg.aggName}\n          childAgg={this.childAgg.childAgg}\n          onFilterClicked={onFilterClicked}\n          renderContainerElement={this.renderContainerElement}\n          renderValueElement={this.renderValueElement}\n        />\n      );\n    }\n    return null;\n  };\n\n  _renderValueElement = (\n    bucket,\n    isSelected,\n    onFilterClicked,\n    getChildAggCmps\n  ) => {\n    const label = `${bucket.key} (${bucket.doc_count})`;\n    const childAggCmps = getChildAggCmps(bucket);\n    return (\n      <List.Item key={bucket.key}>\n        <Checkbox\n          label={label}\n          value={bucket.key}\n          onClick={() => onFilterClicked(bucket.key)}\n          checked={isSelected}\n        />\n        {childAggCmps}\n      </List.Item>\n    );\n  };\n\n  _renderContainerElement = valuesCmp => <List>{valuesCmp}</List>;\n\n  render() {\n    const { buckets, selectedFilters } = this.props;\n\n    const valuesCmp = buckets.map(bucket => {\n      const isSelected = this._isSelected(\n        this.aggName,\n        bucket.key,\n        selectedFilters\n      );\n      const onFilterClicked = value => {\n        this.onFilterClicked([this.aggName, value]);\n      };\n      const getChildAggCmps = bucket =>\n        this.getChildAggCmps(bucket, selectedFilters);\n      return this.renderValueElement(\n        bucket,\n        isSelected,\n        onFilterClicked,\n        getChildAggCmps\n      );\n    });\n    return this.renderContainerElement(valuesCmp);\n  }\n}\n\nBucketAggregationValues.propTypes = {\n  buckets: PropTypes.array.isRequired,\n  selectedFilters: PropTypes.array.isRequired,\n  field: PropTypes.string.isRequired,\n  aggName: PropTypes.string.isRequired,\n  childAgg: PropTypes.shape({\n    field: PropTypes.string.isRequired,\n    aggName: PropTypes.string.isRequired,\n    childAgg: PropTypes.object,\n  }),\n  onFilterClicked: PropTypes.func.isRequired,\n  renderContainerElement: PropTypes.func,\n  renderValueElement: PropTypes.func,\n};\n\nBucketAggregationValues.defaultProps = {\n  renderContainerElement: null,\n  renderValueElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card } from 'semantic-ui-react';\nimport _get from 'lodash/get';\nimport BucketAggregationValues from './BucketAggregationValues';\n\nexport default class BucketAggregation extends Component {\n  constructor(props) {\n    super(props);\n    this.title = props.title;\n    this.agg = props.agg;\n    this.updateQueryFilters = props.updateQueryFilters;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  onFilterClicked = filter => {\n    this.updateQueryFilters(filter);\n  };\n\n  _renderValues = (resultBuckets, selectedFilters) => {\n    return (\n      <BucketAggregationValues\n        buckets={resultBuckets}\n        selectedFilters={selectedFilters}\n        field={this.agg.field}\n        aggName={this.agg.aggName}\n        childAgg={this.agg.childAgg}\n        onFilterClicked={this.onFilterClicked}\n        renderContainerElement={this.props.renderValuesContainerElement}\n        renderValueElement={this.props.renderValueElement}\n      />\n    );\n  };\n\n  _renderElement = (title, containerCmp) => {\n    return containerCmp ? (\n      <Card>\n        <Card.Content>\n          <Card.Header>{title}</Card.Header>\n        </Card.Content>\n        <Card.Content>{containerCmp}</Card.Content>\n      </Card>\n    ) : null;\n  };\n\n  _getSelectedFilters = userSelectionFilters => {\n    // get selected filters for this field only\n    return userSelectionFilters.filter(\n      filter => filter[0] === this.agg.aggName\n    );\n  };\n\n  _getResultBuckets = resultsAggregations => {\n    // get buckets of this field\n    const thisAggs = _get(resultsAggregations, this.agg.aggName, {});\n    return 'buckets' in thisAggs ? thisAggs['buckets'] : [];\n  };\n\n  render() {\n    const { userSelectionFilters, resultsAggregations } = this.props;\n    const selectedFilters = this._getSelectedFilters(userSelectionFilters);\n    const resultBuckets = this._getResultBuckets(resultsAggregations);\n    const valuesCmp = resultBuckets.length\n      ? this._renderValues(resultBuckets, selectedFilters)\n      : null;\n    return this.renderElement(this.title, valuesCmp);\n  }\n}\n\nBucketAggregation.propTypes = {\n  title: PropTypes.string.isRequired,\n  agg: PropTypes.shape({\n    field: PropTypes.string.isRequired,\n    aggName: PropTypes.string.isRequired,\n    childAgg: PropTypes.object,\n  }),\n  userSelectionFilters: PropTypes.array.isRequired,\n  resultsAggregations: PropTypes.object.isRequired,\n  updateQueryFilters: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n  renderValuesContainerElement: PropTypes.func,\n  renderValueElement: PropTypes.func,\n};\n\nBucketAggregation.defaultProps = {\n  renderElement: null,\n  renderValuesContainerElement: null,\n  renderValueElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQueryFilters } from '../../state/actions';\nimport BucketAggregationComponent from './BucketAggregation';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQueryFilters: filter => dispatch(updateQueryFilters(filter)),\n});\n\nexport const BucketAggregation = connect(\n  state => ({\n    userSelectionFilters: state.query.filters,\n    resultsAggregations: state.results.data.aggregations,\n  }),\n  mapDispatchToProps\n)(BucketAggregationComponent);\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'semantic-ui-react';\nimport './AutocompleteSearchBar.scss';\n\nclass AutocompleteSearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryString = this.props.updateQueryString;\n    this.updateSuggestions = this.props.debounce\n      ? _.debounce(this.props.updateSuggestions, this.props.debounceTime, {\n          leading: true,\n        })\n      : this.props.updateSuggestions;\n    this.clearSuggestions = this.props.clearSuggestions;\n    this.minCharsToAutocomplete = this.props.minCharsToAutocomplete;\n    this.state = {\n      currentValue: this.props.queryString || '',\n    };\n    this.renderElement = props.renderElement || this._renderElement;\n    this.renderSuggestions = props.renderSuggestions || this._renderSuggestions;\n    this.handleAutocompleteChange =\n      props.handleAutocompleteChange || this._handleAutocompleteChange;\n  }\n\n  _handleAutocompleteChange = suggestionString => {\n    if (suggestionString.length >= this.minCharsToAutocomplete) {\n      this.updateSuggestions(suggestionString);\n    }\n  };\n\n  onInputChange = async queryString => {\n    await this.setState({\n      currentValue: queryString,\n    });\n\n    this.handleAutocompleteChange(this.state.currentValue);\n  };\n\n  executeSearch = () => {\n    this.updateQueryString(this.state.currentValue);\n  };\n\n  _renderSuggestions(querySuggestions) {\n    const onSuggestionSelected = async suggestion => {\n      await this.setState({\n        currentValue: suggestion,\n      });\n      this.clearSuggestions();\n      this.executeSearch();\n    };\n\n    if (querySuggestions.length === 0) {\n      return null;\n    }\n\n    return (\n      <ul>\n        {querySuggestions.map(text => (\n          <li onClick={() => onSuggestionSelected(text)} key={text}>\n            {text}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  _renderElement(\n    placeholder,\n    queryString,\n    querySuggestions,\n    onInputChange,\n    executeSearch\n  ) {\n    const onBtnSearchClick = (event, input) => {\n      executeSearch();\n    };\n    const onKeyPress = (event, input) => {\n      if (event.key === 'Enter') {\n        executeSearch();\n      }\n    };\n\n    return (\n      <div className=\"AutoCompleteText\">\n        <Input\n          action={{\n            content: 'Search',\n            onClick: onBtnSearchClick,\n          }}\n          fluid\n          placeholder={placeholder}\n          onChange={(event, { value }) => {\n            onInputChange(value);\n          }}\n          value={queryString}\n          onKeyPress={onKeyPress}\n        />\n        {this.renderSuggestions(querySuggestions)}\n      </div>\n    );\n  }\n\n  render() {\n    const { placeholder, suggestions } = this.props;\n    return this.renderElement(\n      placeholder,\n      this.state.currentValue,\n      suggestions,\n      this.onInputChange,\n      this.executeSearch\n    );\n  }\n}\n\nAutocompleteSearchBar.propTypes = {\n  queryString: PropTypes.string,\n  updateQueryString: PropTypes.func.isRequired,\n  updateSuggestions: PropTypes.func.isRequired,\n  clearSuggestions: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n  renderSuggestions: PropTypes.func,\n  handleAutocompleteChange: PropTypes.func,\n  debounce: PropTypes.bool,\n  debounceTime: PropTypes.number,\n  placeholder: PropTypes.string,\n  minCharsToAutocomplete: PropTypes.number,\n};\n\nAutocompleteSearchBar.defaultProps = {\n  renderElement: null,\n  renderSuggestions: null,\n  handleAutocompleteChange: null,\n  placeholder: 'Type something',\n  minCharsToAutocomplete: 3,\n};\n\nconst AutocompleteSearchBarUncontrolled = props => (\n  <AutocompleteSearchBar key={props.queryString} {...props} />\n);\nexport default AutocompleteSearchBarUncontrolled;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport {\n  updateQueryString,\n  updateSuggestions,\n  clearSuggestions,\n} from '../../state/actions';\nimport AutocompleteSearchBarComponent from '../AutocompleteSearchBar/AutocompleteSearchBar';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQueryString: query => dispatch(updateQueryString(query)),\n  updateSuggestions: query => dispatch(updateSuggestions(query)),\n  clearSuggestions: () => dispatch(clearSuggestions()),\n});\n\nconst mapStateToProps = state => ({\n  queryString: state.query.queryString,\n  suggestions: state.query.suggestions,\n});\n\nexport const AutocompleteSearchBar = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AutocompleteSearchBarComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ShouldRender extends Component {\n  render() {\n    const { condition } = this.props;\n    return condition ? <Fragment>{this.props.children}</Fragment> : null;\n  }\n}\n\nShouldRender.propTypes = {\n  condition: PropTypes.bool,\n};\n\nShouldRender.defaultProps = {\n  condition: true,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Label } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class Count extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement(totalResults) {\n    return <Label color={'blue'}>{totalResults}</Label>;\n  }\n\n  render() {\n    const { loading, totalResults } = this.props;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0}>\n        {this.renderElement(totalResults)}\n      </ShouldRender>\n    );\n  }\n}\n\nCount.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  renderElement: PropTypes.func,\n};\n\nCount.defaultProps = {\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport CountComponent from './Count';\n\nexport const Count = connect(state => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n}))(CountComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Segment, Header, Icon, Button } from 'semantic-ui-react';\nimport _isEmpty from 'lodash/isEmpty';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class EmptyResults extends Component {\n  constructor(props) {\n    super(props);\n    this.resetQuery = props.resetQuery;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement = (queryString, resetQuery) => (\n    <Segment placeholder textAlign=\"center\">\n      <Header icon>\n        <Icon name=\"search\" />\n        No results found!\n      </Header>\n      <em>Current search \"{queryString}\"</em>\n      <br />\n      <Button primary onClick={() => resetQuery()}>\n        Clear query\n      </Button>\n    </Segment>\n  );\n\n  render() {\n    const { loading, totalResults, error, queryString } = this.props;\n    return (\n      <ShouldRender\n        condition={!loading && _isEmpty(error) && totalResults === 0}\n      >\n        {this.renderElement(queryString, this.resetQuery)}\n      </ShouldRender>\n    );\n  }\n}\n\nEmptyResults.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  error: PropTypes.object.isRequired,\n  queryString: PropTypes.string,\n  resetQuery: PropTypes.func.isRequired,\n};\n\nEmptyResults.defaultProps = {\n  queryString: '',\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { resetQuery } from '../../state/actions';\nimport EmptyResultsComponent from './EmptyResults';\n\nconst mapDispatchToProps = dispatch => ({\n  resetQuery: () => dispatch(resetQuery()),\n});\nexport const EmptyResults = connect(\n  state => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    error: state.results.error,\n    queryString: state.query.queryString,\n  }),\n  mapDispatchToProps\n)(EmptyResultsComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { ShouldRender } from '../ShouldRender';\nimport _isEmpty from 'lodash/isEmpty';\n\nexport default class Error extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement = error => {\n    return <div>Oups! Something went wrong while fetching results.</div>;\n  };\n\n  render() {\n    const { loading, error } = this.props;\n    return (\n      <ShouldRender condition={!loading && !_isEmpty(error)}>\n        <Fragment>{this.renderElement(error)}</Fragment>\n      </ShouldRender>\n    );\n  }\n}\n\nError.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.object.isRequired,\n  renderElement: PropTypes.func,\n};\n\nError.defaultProps = {\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport ErrorComponent from './Error';\n\nexport const Error = connect(state => ({\n  loading: state.results.loading,\n  error: state.results.error,\n}))(ErrorComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Menu, Icon } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class LayoutSwitcher extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultValue = this.props.defaultLayout;\n    this.updateLayout = props.updateLayout;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement = (currentLayout, onLayoutChange) => {\n    const clickHandler = (event, { name }) => {\n      onLayoutChange(name);\n    };\n    return (\n      <Menu compact icon>\n        <Menu.Item\n          name=\"list\"\n          active={currentLayout === 'list'}\n          onClick={clickHandler}\n        >\n          <Icon name=\"list layout\" />\n        </Menu.Item>\n        <Menu.Item\n          name=\"grid\"\n          active={currentLayout === 'grid'}\n          onClick={clickHandler}\n        >\n          <Icon name=\"grid layout\" />\n        </Menu.Item>\n      </Menu>\n    );\n  };\n\n  componentDidMount() {\n    if (this.props.currentLayout === null) {\n      this.setInitialState({\n        layout: this.defaultValue,\n      });\n    }\n  }\n\n  onLayoutChange = layoutName => {\n    this.updateLayout(layoutName);\n  };\n\n  render() {\n    const { currentLayout, loading, totalResults } = this.props;\n    return (\n      <ShouldRender\n        condition={currentLayout !== null && !loading && totalResults > 0}\n      >\n        {this.renderElement(currentLayout, this.onLayoutChange)}\n      </ShouldRender>\n    );\n  }\n}\n\nLayoutSwitcher.propTypes = {\n  defaultLayout: PropTypes.oneOf(['list', 'grid']),\n  updateLayout: PropTypes.func.isRequired,\n  setInitialState: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  currentLayout: PropTypes.string,\n  totalResults: PropTypes.number.isRequired,\n  renderElement: PropTypes.func,\n};\n\nLayoutSwitcher.defaultProps = {\n  defaultLayout: 'list',\n  currentLayout: null,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateResultsLayout, setInitialState } from '../../state/actions';\nimport LayoutSwitcherComponent from './LayoutSwitcher';\n\nconst mapDispatchToProps = dispatch => ({\n  updateLayout: layout => dispatch(updateResultsLayout(layout)),\n  setInitialState: initialState => dispatch(setInitialState(initialState)),\n});\nexport const LayoutSwitcher = connect(\n  state => ({\n    loading: state.results.loading,\n    currentLayout: state.query.layout,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(LayoutSwitcherComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Loader } from 'semantic-ui-react';\n\nexport default class ResultsLoader extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement = () => <Loader active size=\"huge\" inline=\"centered\" />;\n\n  render() {\n    return this.props.loading ? this.renderElement() : this.props.children;\n  }\n}\n\nResultsLoader.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  renderElement: PropTypes.func,\n};\n\nResultsLoader.defaultProps = {\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport ResultsLoaderComponent from './ResultsLoader';\n\nexport const ResultsLoader = connect(state => ({\n  loading: state.results.loading,\n}))(ResultsLoaderComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Pagination as Paginator } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class Pagination extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultValue = props.defaultValue;\n    this.updateQueryPage = props.updateQueryPage;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  componentDidMount() {\n    if (this.props.currentPage === -1) {\n      this.setInitialState({\n        page: this.defaultValue,\n      });\n    }\n  }\n\n  onPageChange = activePage => {\n    if (activePage === this.props.currentPage) return;\n    this.updateQueryPage(activePage);\n  };\n\n  _renderElement = (\n    currentPage,\n    currentSize,\n    totalResults,\n    onPageChange,\n    options,\n    ...extraParams\n  ) => {\n    const pages = Math.ceil(totalResults / currentSize);\n    const boundaryRangeCount = options.boundaryRangeCount;\n    const siblingRangeCount = options.siblingRangeCount;\n    const showEllipsis = options.showEllipsis;\n    const showFirst = options.showFirst;\n    const showLast = options.showLast;\n    const showPrev = options.showPrev;\n    const showNext = options.showNext;\n    const _onPageChange = (event, { activePage }) => {\n      onPageChange(activePage);\n    };\n\n    return (\n      <Paginator\n        activePage={currentPage}\n        totalPages={pages}\n        onPageChange={_onPageChange}\n        boundaryRange={boundaryRangeCount}\n        siblingRange={siblingRangeCount}\n        ellipsisItem={showEllipsis ? undefined : null}\n        firstItem={showFirst ? undefined : null}\n        lastItem={showLast ? undefined : null}\n        prevItem={showPrev ? undefined : null}\n        nextItem={showNext ? undefined : null}\n        {...extraParams}\n      />\n    );\n  };\n  render() {\n    const {\n      loading,\n      totalResults,\n      currentPage,\n      currentSize,\n      options,\n    } = this.props;\n    return (\n      <ShouldRender\n        condition={\n          !loading && currentPage > -1 && currentSize > -1 && totalResults > 0\n        }\n      >\n        {this.renderElement(\n          currentPage,\n          currentSize,\n          totalResults,\n          this.onPageChange,\n          options\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nPagination.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  currentSize: PropTypes.number.isRequired,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  options: PropTypes.PropTypes.shape({\n    boundaryRangeCount: PropTypes.number,\n    siblingRangeCount: PropTypes.number,\n    showEllipsis: PropTypes.bool,\n    showFirst: PropTypes.bool,\n    showLast: PropTypes.bool,\n    showPrev: PropTypes.bool,\n    showNext: PropTypes.bool,\n  }),\n  defaultValue: PropTypes.number,\n  renderElement: PropTypes.func,\n};\n\nPagination.defaultProps = {\n  options: {\n    boundaryRangeCount: 1,\n    siblingRangeCount: 1,\n    showEllipsis: true,\n    showFirst: true,\n    showLast: true,\n    showPrev: true,\n    showNext: true,\n  },\n  defaultValue: 10,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport {\n  updateQueryPaginationPage,\n  setInitialState,\n} from '../../state/actions';\nimport PaginationComponent from './Pagination';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQueryPage: page => dispatch(updateQueryPaginationPage(page)),\n  setInitialState: value => dispatch(setInitialState(value)),\n});\n\nexport const Pagination = connect(\n  state => ({\n    currentPage: state.query.page,\n    currentSize: state.query.size,\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(PaginationComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Bootstrap extends Component {\n  constructor(props) {\n    super(props);\n    this.app = props.app;\n    this.searchOnInit = props.searchOnInit;\n    this.historyListen = props.historyListen;\n    this.eventListenerEnabled = props.eventListenerEnabled;\n    this.onAppInitialized = props.onAppInitialized;\n    this.onBrowserHistoryExternallyChanged =\n      props.onBrowserHistoryExternallyChanged;\n    this.searchOnUrlQueryStringChanged = props.searchOnUrlQueryStringChanged;\n  }\n\n  updateQueryState = query => this.props.updateQueryState(query);\n\n  onQueryChanged = ({ detail: payload }) => {\n    let appReceiver = payload.app || this.app;\n    if (appReceiver === this.app) {\n      this.updateQueryState(payload.search_query);\n    }\n  };\n\n  componentDidMount() {\n    if (this.historyListen) {\n      this.historyUnlisten = this.historyListen(() => {\n        this.onBrowserHistoryExternallyChanged();\n      });\n    }\n\n    if (this.eventListenerEnabled) {\n      window.addEventListener('queryChanged', this.onQueryChanged);\n    }\n\n    window.onpopstate = () => {\n      this.searchOnUrlQueryStringChanged();\n    };\n\n    this.onAppInitialized(this.searchOnInit);\n  }\n\n  render() {\n    return <Fragment>{this.props.children}</Fragment>;\n  }\n\n  componentWillUnmount() {\n    this.historyUnlisten && this.historyUnlisten();\n    window.onpopstate = () => {};\n    window.removeEventListener('queryChanged', this.onQueryChanged);\n  }\n}\n\nBootstrap.propTypes = {\n  searchOnInit: PropTypes.bool,\n  historyListen: PropTypes.func,\n  eventListenerEnabled: PropTypes.bool,\n  app: PropTypes.string,\n};\n\nBootstrap.defaultProps = {\n  searchOnInit: true,\n  historyListen: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport {\n  onAppInitialized as _onAppInitialized,\n  onBrowserHistoryExternallyChanged,\n  executeQuery,\n  updateQueryState,\n} from '../../state/actions';\nimport BootstrapComponent from './Bootstrap';\n\nconst mapDispatchToProps = dispatch => ({\n  onAppInitialized: searchOnInit => dispatch(_onAppInitialized(searchOnInit)),\n  onBrowserHistoryExternallyChanged: () =>\n    dispatch(onBrowserHistoryExternallyChanged()),\n  updateQueryState: queryState => dispatch(updateQueryState(queryState)),\n  searchOnUrlQueryStringChanged: () =>\n    dispatch(executeQuery({ shouldUpdateUrlQueryString: false })),\n});\n\nexport const Bootstrap = connect(null, mapDispatchToProps)(BootstrapComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { configureStore } from '../../store';\nimport { UrlHandlerApi } from '../../api';\nimport { Bootstrap } from '../Bootstrap';\n\nexport class ReactSearchKit extends Component {\n  constructor(props) {\n    super(props);\n    const appConfig = {\n      searchApi: props.searchApi,\n      suggestionApi: props.suggestionApi,\n      urlHandlerApi: props.urlHandlerApi.enabled\n        ? props.urlHandlerApi.customHandler ||\n          new UrlHandlerApi(props.urlHandlerApi.overrideConfig)\n        : null,\n      defaultSortByOnEmptyQuery: props.defaultSortByOnEmptyQuery,\n    };\n    this.historyListen = props.history ? props.history.listen : null;\n    this.store = configureStore(appConfig);\n    this.app = props.app;\n    this.eventListenerEnabled = props.eventListenerEnabled;\n  }\n\n  render() {\n    const { searchOnInit } = this.props;\n\n    return (\n      <Provider store={this.store}>\n        <Bootstrap\n          searchOnInit={searchOnInit}\n          historyListen={this.historyListen}\n          app={this.app}\n          eventListenerEnabled={this.eventListenerEnabled}\n        >\n          {this.props.children}\n        </Bootstrap>\n      </Provider>\n    );\n  }\n}\n\nReactSearchKit.propTypes = {\n  searchApi: PropTypes.object.isRequired,\n  suggestionApi: PropTypes.object,\n  urlHandlerApi: PropTypes.shape({\n    enabled: PropTypes.bool.isRequired,\n    overrideConfig: PropTypes.shape({\n      keepHistory: PropTypes.bool,\n      urlFilterSeparator: PropTypes.string,\n      urlParamsMapping: PropTypes.object,\n      urlParamValidator: PropTypes.object,\n      urlParser: PropTypes.object,\n    }),\n    customHandler: PropTypes.object,\n  }),\n  searchOnInit: PropTypes.bool,\n  defaultSortByOnEmptyQuery: PropTypes.string,\n  history: PropTypes.shape({\n    listen: PropTypes.func.isRequired,\n  }),\n  app: PropTypes.string,\n  eventListenerEnabled: PropTypes.bool,\n};\n\nReactSearchKit.defaultProps = {\n  suggestionApi: null,\n  urlHandlerApi: {\n    enabled: true,\n    overrideConfig: {},\n    customHandler: null,\n  },\n  searchOnInit: true,\n  defaultSortByOnEmptyQuery: null,\n  history: null,\n  app: 'RSK',\n  eventListenerEnabled: true,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, Image } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class ResultsGrid extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n    this.renderGridItem = props.renderGridItem || this._renderGridItem;\n  }\n\n  _renderGridItem(result, index) {\n    return (\n      <Card fluid key={index} href={`#${result.id}`}>\n        <Image src={result.imgSrc || 'http://placehold.it/200'} />\n        <Card.Content>\n          <Card.Header>{result.title}</Card.Header>\n          <Card.Description>{result.description}</Card.Description>\n        </Card.Content>\n      </Card>\n    );\n  }\n\n  _renderElement(results, resultsPerRow) {\n    const _results = results.map((result, index) =>\n      this.renderGridItem(result, index)\n    );\n\n    return <Card.Group itemsPerRow={resultsPerRow}>{_results}</Card.Group>;\n  }\n\n  render() {\n    const { loading, totalResults, results } = this.props;\n    const resultsPerRow = this.props.resultsPerRow;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0}>\n        {this.renderElement(results, resultsPerRow)}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsGrid.propTypes = {\n  resultsPerRow: PropTypes.number,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n  renderElement: PropTypes.func,\n  renderGridItem: PropTypes.func,\n};\n\nResultsGrid.defaultProps = {\n  resultsPerRow: 3,\n  renderElement: null,\n  renderGridItem: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport ResultsGridComponent from './ResultsGrid';\n\nexport const ResultsGrid = connect(state => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  results: state.results.data.hits,\n}))(ResultsGridComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Item } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class ResultsList extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n    this.renderListItem = props.renderListItem || this._renderListItem;\n  }\n\n  _renderListItem(result, index) {\n    return (\n      <Item key={index} href={`#${result.id}`}>\n        <Item.Image\n          size=\"small\"\n          src={result.imgSrc || 'http://placehold.it/200'}\n        />\n\n        <Item.Content>\n          <Item.Header>{result.title}</Item.Header>\n          <Item.Description>{result.description}</Item.Description>\n        </Item.Content>\n      </Item>\n    );\n  }\n\n  _renderElement(results) {\n    const _results = results.map((result, index) =>\n      this.renderListItem(result, index)\n    );\n\n    return (\n      <Item.Group divided relaxed link>\n        {_results}\n      </Item.Group>\n    );\n  }\n\n  render() {\n    const { loading, totalResults, results } = this.props;\n    return (\n      <ShouldRender condition={!loading && totalResults > 0}>\n        {this.renderElement(results)}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsList.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  results: PropTypes.array.isRequired,\n  renderElement: PropTypes.func,\n  renderListItem: PropTypes.func,\n};\n\nResultsList.defaultProps = {\n  renderElement: null,\n  renderListItem: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport ResultsListComponent from './ResultsList';\n\nexport const ResultsList = connect(state => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  results: state.results.data.hits,\n}))(ResultsListComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ResultsList } from '../ResultsList';\nimport { ResultsGrid } from '../ResultsGrid';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class ResultsMultiLayout extends Component {\n  constructor(props) {\n    super(props);\n    this.renderElement = props.renderElement || this._renderElement;\n    this.ResultsListCmp = props.resultsListCmp || ResultsList;\n    this.ResultsGridCmp = props.resultsGridCmp || ResultsGrid;\n  }\n\n  _renderElement = layout =>\n    layout === 'list' ? <this.ResultsListCmp /> : <this.ResultsGridCmp />;\n\n  render() {\n    const { loading, totalResults, currentLayout } = this.props;\n    return (\n      <ShouldRender\n        condition={currentLayout != null && !loading && totalResults > 0}\n      >\n        {this.renderElement(currentLayout)}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsMultiLayout.propTypes = {\n  totalResults: PropTypes.number.isRequired,\n  currentLayout: PropTypes.string,\n  renderElement: PropTypes.func,\n  resultsListCmp: PropTypes.func,\n  resultsGridCmp: PropTypes.func,\n};\n\nResultsMultiLayout.defaultProps = {\n  currentLayout: null,\n  renderElement: null,\n  resultsListCmp: null,\n  resultsGridCmp: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport ResultsMultiLayoutComponent from './ResultsMultiLayout';\n\nexport const ResultsMultiLayout = connect(state => ({\n  loading: state.results.loading,\n  totalResults: state.results.data.total,\n  currentLayout: state.query.layout,\n}))(ResultsMultiLayoutComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class ResultsPerPage extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.defaultValue = props.defaultValue;\n    this.updateQuerySize = this.props.updateQuerySize;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  componentDidMount() {\n    if (this.props.currentSize === -1) {\n      this.setInitialState({\n        size: this.defaultValue,\n      });\n    }\n  }\n\n  _renderElement = (currentSize, options, onValueChange) => {\n    const _options = options.map((element, index) => {\n      return { key: index, text: element.text, value: element.value };\n    });\n    return (\n      <Dropdown\n        inline\n        compact\n        options={_options}\n        value={currentSize}\n        onChange={(e, { value }) => onValueChange(value)}\n      />\n    );\n  };\n\n  onChange = value => {\n    if (value === this.props.currentSize) return;\n    this.updateQuerySize(value);\n  };\n\n  render() {\n    const { loading, currentSize, totalResults } = this.props;\n    return (\n      <ShouldRender\n        condition={!loading && totalResults > 0 && currentSize !== -1}\n      >\n        {this.renderElement(currentSize, this.options, this.onChange)}\n      </ShouldRender>\n    );\n  }\n}\n\nResultsPerPage.propTypes = {\n  currentSize: PropTypes.number.isRequired,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  values: PropTypes.array.isRequired,\n  defaultValue: PropTypes.number,\n  updateQuerySize: PropTypes.func.isRequired,\n  setInitialState: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nResultsPerPage.defaultProps = {\n  defaultValue: 10,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport {\n  updateQueryPaginationSize,\n  setInitialState,\n} from '../../state/actions';\nimport ResultsPerPageComponent from './ResultsPerPage';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQuerySize: size => dispatch(updateQueryPaginationSize(size)),\n  setInitialState: value => dispatch(setInitialState(value)),\n});\n\nexport const ResultsPerPage = connect(\n  state => ({\n    loading: state.results.loading,\n    currentSize: state.query.size,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(ResultsPerPageComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'semantic-ui-react';\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.updateQueryString = this.props.updateQueryString;\n    this.state = {\n      currentValue: this.props.queryString || '',\n    };\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  _renderElement(placeholder, queryString, onInputChange, executeSearch) {\n    placeholder = placeholder || 'Type something';\n    const onBtnSearchClick = (event, input) => {\n      executeSearch();\n    };\n    const onKeyPress = (event, input) => {\n      if (event.key === 'Enter') {\n        executeSearch();\n      }\n    };\n    return (\n      <Input\n        action={{\n          content: 'Search',\n          onClick: onBtnSearchClick,\n        }}\n        fluid\n        placeholder={placeholder}\n        onChange={(event, { value }) => {\n          onInputChange(value);\n        }}\n        value={queryString}\n        onKeyPress={onKeyPress}\n      />\n    );\n  }\n\n  onInputChange = queryString => {\n    this.setState({\n      currentValue: queryString,\n    });\n  };\n\n  executeSearch = () => {\n    this.updateQueryString(this.state.currentValue);\n  };\n\n  render() {\n    const { placeholder } = this.props;\n    return this.renderElement(\n      placeholder,\n      this.state.currentValue,\n      this.onInputChange,\n      this.executeSearch\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  placeholder: PropTypes.string,\n  queryString: PropTypes.string.isRequired,\n  updateQueryString: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nSearchBar.defaultProps = {\n  placeholder: '',\n  queryString: '',\n  renderElement: null,\n};\n\nconst SearchBarUncontrolled = props => (\n  <SearchBar key={props.queryString} {...props} />\n);\nexport default SearchBarUncontrolled;\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQueryString } from '../../state/actions';\nimport SearchBarComponent from './SearchBar';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQueryString: query => dispatch(updateQueryString(query)),\n});\n\nexport const SearchBar = connect(\n  state => ({\n    queryString: state.query.queryString,\n  }),\n  mapDispatchToProps\n)(SearchBarComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class Sort extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.updateQuerySorting = props.updateQuerySorting;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n\n    this.options.forEach(\n      option =>\n        (option['value'] = this._computeValue(option.sortBy, option.sortOrder))\n    );\n\n    // compute default value for sort field and sort order\n    const defaultValue = this.options.find(\n      option => 'default' in option && option.default\n    );\n    this.defaultValue = {\n      sortBy: defaultValue.sortBy || this.options[0].sortBy,\n      sortOrder: defaultValue.sortOrder || this.options[0].sortOrder,\n    };\n\n    const defaultValueOnEmptyString = this.options.find(\n      option => 'defaultOnEmptyString' in option && option.defaultOnEmptyString\n    );\n    this.defaultValueOnEmptyString = {\n      sortBy: defaultValueOnEmptyString\n        ? defaultValueOnEmptyString.sortBy\n        : this.options[0].sortBy,\n      sortOrder: defaultValueOnEmptyString\n        ? defaultValueOnEmptyString.sortOrder\n        : this.options[0].sortOrder,\n    };\n  }\n\n  componentDidMount() {\n    if (\n      this.props.currentSortBy === null &&\n      this.props.currentSortOrder === null\n    ) {\n      const defaultValue = this.props.currentQueryString\n        ? this.defaultValue\n        : this.defaultValueOnEmptyString;\n      this.setInitialState({\n        sortBy: defaultValue.sortBy,\n        sortOrder: defaultValue.sortOrder,\n      });\n    }\n  }\n\n  _computeValue = (sortBy, sortOrder) => {\n    return `${sortBy}-${sortOrder}`;\n  };\n\n  _renderElement = (\n    currentSortBy,\n    currentSortOrder,\n    options,\n    onValueChange\n  ) => {\n    const selected = this._computeValue(currentSortBy, currentSortOrder);\n    const _options = options.map((element, index) => {\n      return {\n        key: index,\n        text: element.text,\n        value: element.value,\n      };\n    });\n    return (\n      <Dropdown\n        selection\n        compact\n        options={_options}\n        value={selected}\n        onChange={(e, { value }) => onValueChange(value)}\n      />\n    );\n  };\n\n  onChange = value => {\n    if (\n      value ===\n      this._computeValue(this.props.currentSortBy, this.props.currentSortOrder)\n    )\n      return;\n    const selected = this.options.find(option => option.value === value);\n    this.updateQuerySorting(selected.sortBy, selected.sortOrder);\n  };\n\n  render() {\n    const {\n      currentSortBy,\n      currentSortOrder,\n      loading,\n      totalResults,\n    } = this.props;\n    return (\n      <ShouldRender\n        condition={\n          currentSortBy !== null &&\n          currentSortOrder !== null &&\n          !loading &&\n          totalResults > 0\n        }\n      >\n        {this.renderElement(\n          currentSortBy,\n          currentSortOrder,\n          this.options,\n          this.onChange\n        )}\n      </ShouldRender>\n    );\n  }\n}\n\nSort.propTypes = {\n  values: PropTypes.array.isRequired,\n  currentSortBy: PropTypes.string,\n  currentSortOrder: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQuerySorting: PropTypes.func.isRequired,\n  setInitialState: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nSort.defaultProps = {\n  currentSortBy: null,\n  currentSortOrder: null,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQuerySorting, setInitialState } from '../../state/actions';\nimport SortComponent from './Sort';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQuerySorting: (sortBy, sortOrder) =>\n    dispatch(updateQuerySorting(sortBy, sortOrder)),\n  setInitialState: value => dispatch(setInitialState(value)),\n});\n\nexport const Sort = connect(\n  state => ({\n    currentQueryString: state.query.queryString,\n    currentSortBy: state.query.sortBy,\n    currentSortOrder: state.query.sortOrder,\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n  }),\n  mapDispatchToProps\n)(SortComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class SortBy extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.defaultValue = this.props.defaultValue;\n    this.defaultValueOnEmptyString = this.props.defaultValueOnEmptyString;\n    this.updateQuerySortBy = props.updateQuerySortBy;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  componentDidMount() {\n    if (this.props.currentSortBy === null) {\n      const sortBy = this.props.currentQueryString\n        ? this.defaultValue\n        : this.defaultValueOnEmptyString || this.defaultValue;\n      this.setInitialState({\n        sortBy: sortBy,\n      });\n    }\n  }\n\n  _renderElement = (currentSortBy, options, onValueChange) => {\n    const _options = options.map((element, index) => {\n      return { key: index, text: element.text, value: element.value };\n    });\n    return (\n      <Dropdown\n        selection\n        compact\n        options={_options}\n        value={currentSortBy}\n        onChange={(e, { value }) => onValueChange(value)}\n      />\n    );\n  };\n\n  onChange = value => {\n    if (value === this.props.currentSortBy) return;\n    this.updateQuerySortBy(value);\n  };\n\n  render() {\n    const { currentSortBy, loading, totalResults } = this.props;\n    return (\n      <ShouldRender\n        condition={currentSortBy !== null && !loading && totalResults > 0}\n      >\n        {this.renderElement(currentSortBy, this.options, this.onChange)}\n      </ShouldRender>\n    );\n  }\n}\n\nSortBy.propTypes = {\n  values: PropTypes.array.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n  defaultValueOnEmptyString: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  currentSortBy: PropTypes.string,\n  currentQueryString: PropTypes.string.isRequired,\n  updateQuerySortBy: PropTypes.func.isRequired,\n  setInitialState: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nSortBy.defaultProps = {\n  defaultValueOnEmptyString: null,\n  currentSortBy: null,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQuerySortBy, setInitialState } from '../../state/actions';\nimport SortByComponent from './SortBy';\nconst mapDispatchToProps = dispatch => ({\n  updateQuerySortBy: sortByValue => dispatch(updateQuerySortBy(sortByValue)),\n  setInitialState: value => dispatch(setInitialState(value)),\n});\n\nexport const SortBy = connect(\n  state => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    currentSortBy: state.query.sortBy,\n    currentQueryString: state.query.queryString,\n  }),\n  mapDispatchToProps\n)(SortByComponent);\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018-2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown } from 'semantic-ui-react';\nimport { ShouldRender } from '../ShouldRender';\n\nexport default class SortOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.options = props.values;\n    this.defaultValue = this.props.defaultValue;\n    this.updateQuerySortOrder = props.updateQuerySortOrder;\n    this.setInitialState = props.setInitialState;\n    this.renderElement = props.renderElement || this._renderElement;\n  }\n\n  componentDidMount() {\n    if (this.props.currentSortOrder === null) {\n      this.setInitialState({\n        sortOrder: this.defaultValue,\n      });\n    }\n  }\n\n  _renderElement = (currentSortOrder, options, onValueChange) => {\n    const _options = options.map((element, index) => {\n      return { key: index, text: element.text, value: element.value };\n    });\n    return (\n      <Dropdown\n        selection\n        compact\n        options={_options}\n        value={currentSortOrder}\n        onChange={(e, { value }) => onValueChange(value)}\n      />\n    );\n  };\n\n  onChange = value => {\n    if (value === this.props.currentSortOrder) return;\n    this.updateQuerySortOrder(value);\n  };\n\n  render() {\n    const { currentSortOrder, loading, totalResults } = this.props;\n    return (\n      <ShouldRender\n        condition={currentSortOrder !== null && !loading && totalResults > 0}\n      >\n        {this.renderElement(currentSortOrder, this.options, this.onChange)}\n      </ShouldRender>\n    );\n  }\n}\n\nSortOrder.propTypes = {\n  values: PropTypes.array.isRequired,\n  defaultValue: PropTypes.string.isRequired,\n  currentSortOrder: PropTypes.string,\n  loading: PropTypes.bool.isRequired,\n  totalResults: PropTypes.number.isRequired,\n  updateQuerySortOrder: PropTypes.func.isRequired,\n  setInitialState: PropTypes.func.isRequired,\n  renderElement: PropTypes.func,\n};\n\nSortOrder.defaultProps = {\n  currentSortOrder: null,\n  renderElement: null,\n};\n","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2018 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport { connect } from '../../store';\nimport { updateQuerySortOrder, setInitialState } from '../../state/actions';\nimport SortOrderComponent from './SortOrder';\n\nconst mapDispatchToProps = dispatch => ({\n  updateQuerySortOrder: sortOrderValue =>\n    dispatch(updateQuerySortOrder(sortOrderValue)),\n  setInitialState: value => dispatch(setInitialState(value)),\n});\n\nexport const SortOrder = connect(\n  state => ({\n    loading: state.results.loading,\n    totalResults: state.results.data.total,\n    currentSortOrder: state.query.sortOrder,\n  }),\n  mapDispatchToProps\n)(SortOrderComponent);\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","/*\n * This file is part of React-SearchKit.\n * Copyright (C) 2019 CERN.\n *\n * React-SearchKit is free software; you can redistribute it and/or modify it\n * under the terms of the MIT License; see LICENSE file for more details.\n */\n\nimport React from 'react';\nimport { connect } from '../../store';\n\nexport function withState(Component) {\n  const WrappedComponent = ({ dispatch, ...props }) => <Component {...props} />;\n  const mapStateToProps = state => ({\n    currentQueryState: state.query,\n    currentResultsState: state.results,\n  });\n\n  return connect(\n    mapStateToProps,\n    null\n  )(WrappedComponent);\n}\n","export const onQueryChanged = payload => {\n  var evt = new CustomEvent('queryChanged', {\n    detail: payload,\n  });\n  console.log(payload.search_query);\n\n  window.dispatchEvent(evt);\n};\n"],"names":["ESRequestSerializer","serialize","stateQuery","queryString","sortBy","sortOrder","page","size","bodyParams","_isEmpty","query_string","query","sortObj","s","from","ESResponseSerializer","payload","aggregations","hits","map","hit","_source","total","value","defineProperty","undefined","require$$0","ESSearchApi","config","search","requestSerializer","http","request","method","data","response","responseSerializer","validateConfig","initSerializers","initAxios","_hasIn","Error","requestSerializerCls","_get","responseSerializerCls","es","axiosConfig","baseURL","url","axios","create","InvenioRequestSerializer","_addFilter","filter","filterUrlParams","Array","isArray","length","aggName","fieldValue","hasChild","_addFilters","filters","forEach","getParams","filterParams","_extend","Qs","stringify","arrayFormat","InvenioResponseSerializer","InvenioSearchApi","params","invenio","paramsSerializer","interceptors","addInterceptors","use","resolve","reject","assertThisInitialized","getPrototypeOf","superPropBase","setPrototypeOf","InvenioSuggestionRequestSerializer","queryField","suggestionString","encode","InvenioSuggestionResponseSerializer","responseField","_serializeSuggestions","responseHits","Set","metadata","responseFieldPath","suggestions","split","InvenioSuggestionApi","pushHistory","window","history","pushState","path","replaceHistory","replaceState","UrlParser","_sanitizeParamValue","parsedValue","parseInt","_isNaN","_value","JSON","parse","_isNil","e","console","error","parsedParams","ignoreQueryPrefix","Object","entries","entry","key","UrlParamValidator","isValid","UrlHandlerApi","_filterListToString","childFilter","urlFilterSeparator","concat","_mapQueryStateToUrlParams","queryState","keys","stateKey","urlParamsMapping","paramKey","addQueryPrefix","skipNulls","indices","_filterStringToList","filterStr","childSepPos","indexOf","aggNamePos","slice","end","filterList","push","_mapUrlParamsToQueryState","urlParamsObj","result","urlParamValidator","queryStateKey","fromUrlParamsMapping","_mergeParamsIntoState","urlStateObj","_queryState","_cloneDeep","get","urlParser","location","newQueryState","newUrlParams","set","keepHistory","replace","_isObject","layout","_isBoolean","_isString","SET_QUERY_COMPONENT_INITIAL_STATE","SET_QUERY_STATE_URL_EXTERNALLY_CHANGED","SET_QUERY_STRING","SET_QUERY_SORTING","SET_QUERY_SORT_BY","SET_QUERY_SORT_ORDER","SET_QUERY_STATE","SET_QUERY_PAGINATION_PAGE","SET_QUERY_PAGINATION_SIZE","SET_QUERY_FILTERS","SET_QUERY_SUGGESTIONS","SET_SUGGESTION_STRING","CLEAR_QUERY_SUGGESTIONS","RESULTS_LOADING","RESULTS_FETCH_SUCCESS","RESULTS_FETCH_ERROR","RESULTS_UPDATE_LAYOUT","RESET_QUERY","startsWith","first","second","toString","array","q","str","removeLastChild","arr","lastChild","updateQueryFilters","queryFilter","stateFilters","strQuery","strStateFilters","stateObjQuery","anyRemoved","filteredStrStates","strStateFilter","childFilterExists","parentFilterExists","strState","updateQueryState","oldState","newState","storeKeys","pickedState","_pick","store_keys","state","action","type","loading","combineReducers","queryReducer","results","resultsReducer","configureStore","appConfig","initialQueryState","initialResultsState","preloadedQueryState","urlHandlerApi","preloadedState","createStore","rootReducer","applyMiddleware","thunk","withExtraArgument","connectExtended","mapStateToProps","mapDispatchToProps","mergeProps","connect","setInitialState","initialState","dispatch","onAppInitialized","searchOnInit","executeQuery","shouldUpdateUrlQueryString","onBrowserHistoryExternallyChanged","getState","currentStateQuery","newStateQuery","shouldReplaceUrlQueryString","updateQueryString","updateQuerySorting","sortByValue","sortOrderValue","updateQuerySortBy","updateQuerySortOrder","updateQueryPaginationPage","updateQueryPaginationSize","updateResultsLayout","resetQuery","searchApi","updateSuggestions","executeSuggestionQuery","suggestionApi","clearSuggestions","ActiveFilters","props","_getLabel","currentFilter","label","activeFilter","_renderElement","removeActiveFilter","index","renderElement","renderActiveFilters","_renderActiveFilters","Component","defaultProps","ActiveFiltersComponent","BucketAggregationValues","_isSelected","selectedFilters","getChildAggCmps","bucket","hasChildAggregation","childAgg","selectedChildFilters","childBuckets","isThisAggregation","isThisValue","onFilterClicked","field","renderContainerElement","renderValueElement","_renderValueElement","isSelected","doc_count","childAggCmps","_renderContainerElement","valuesCmp","buckets","BucketAggregation","_renderValues","resultBuckets","agg","renderValuesContainerElement","title","containerCmp","_getSelectedFilters","userSelectionFilters","_getResultBuckets","resultsAggregations","thisAggs","BucketAggregationComponent","AutocompleteSearchBar","_handleAutocompleteChange","minCharsToAutocomplete","onInputChange","setState","currentValue","handleAutocompleteChange","executeSearch","debounce","_","debounceTime","leading","renderSuggestions","_renderSuggestions","querySuggestions","onSuggestionSelected","suggestion","text","placeholder","onBtnSearchClick","event","input","onKeyPress","content","onClick","AutocompleteSearchBarUncontrolled","AutocompleteSearchBarComponent","ShouldRender","condition","children","Count","totalResults","CountComponent","EmptyResults","EmptyResultsComponent","ErrorComponent","LayoutSwitcher","currentLayout","onLayoutChange","clickHandler","name","layoutName","updateLayout","defaultValue","defaultLayout","LayoutSwitcherComponent","ResultsLoader","ResultsLoaderComponent","Pagination","onPageChange","activePage","currentPage","updateQueryPage","currentSize","options","pages","Math","ceil","boundaryRangeCount","siblingRangeCount","showEllipsis","showFirst","showLast","showPrev","showNext","_onPageChange","extraParams","Paginator","PaginationComponent","Bootstrap","onQueryChanged","detail","appReceiver","app","search_query","historyListen","eventListenerEnabled","searchOnUrlQueryStringChanged","historyUnlisten","addEventListener","onpopstate","removeEventListener","_onAppInitialized","BootstrapComponent","ReactSearchKit","enabled","customHandler","overrideConfig","defaultSortByOnEmptyQuery","listen","store","ResultsGrid","renderGridItem","_renderGridItem","id","imgSrc","description","resultsPerRow","_results","ResultsGridComponent","ResultsList","renderListItem","_renderListItem","ResultsListComponent","ResultsMultiLayout","ResultsListCmp","resultsListCmp","ResultsGridCmp","resultsGridCmp","ResultsMultiLayoutComponent","ResultsPerPage","onValueChange","_options","element","onChange","updateQuerySize","values","ResultsPerPageComponent","SearchBar","SearchBarUncontrolled","SearchBarComponent","Sort","_computeValue","currentSortBy","currentSortOrder","selected","find","option","default","defaultValueOnEmptyString","defaultOnEmptyString","currentQueryString","SortComponent","SortBy","SortByComponent","SortOrder","SortOrderComponent","objectWithoutPropertiesLoose","withState","WrappedComponent","currentQueryState","currentResultsState","evt","CustomEvent","log","dispatchEvent"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAe,SAAS,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE;AAC/D,EAAE,IAAI,EAAE,QAAQ,YAAY,WAAW,CAAC,EAAE;AAC1C,IAAI,MAAM,IAAI,SAAS,CAAC,mCAAmC,CAAC,CAAC;AAC7D,GAAG;AACH;;ICMaA,mBAAb;AAAA;;AAAA,OAKEC,SALF,GAKc,UAAAC,UAAU,EAAI;AAAA,QAChBC,WADgB,GAC+BD,UAD/B,CAChBC,WADgB;AAAA,QACHC,MADG,GAC+BF,UAD/B,CACHE,MADG;AAAA,QACKC,SADL,GAC+BH,UAD/B,CACKG,SADL;AAAA,QACgBC,IADhB,GAC+BJ,UAD/B,CACgBI,IADhB;AAAA,QACsBC,IADtB,GAC+BL,UAD/B,CACsBK,IADtB;AAGxB,QAAMC,UAAU,GAAG,EAAnB;;AACA,QAAI,CAACC,QAAQ,CAACN,WAAD,CAAb,EAA4B;AAC1BK,MAAAA,UAAU,CAAC,OAAD,CAAV,GAAsB;AACpBE,QAAAA,YAAY,EAAE;AACZC,UAAAA,KAAK,EAAER;AADK;AADM,OAAtB;AAKD;;AACD,QAAIC,MAAJ,EAAY;AACV,UAAMQ,OAAO,GAAG,EAAhB;AACAA,MAAAA,OAAO,CAACR,MAAD,CAAP,GAAkBC,SAAS,IAAIA,SAAS,KAAK,MAA3B,GAAoC,MAApC,GAA6C,KAA/D;AACAG,MAAAA,UAAU,CAAC,MAAD,CAAV,GAAqBI,OAArB;AACD;;AAED,QAAIL,IAAI,GAAG,CAAX,EAAc;AACZC,MAAAA,UAAU,CAAC,MAAD,CAAV,GAAqBD,IAArB;AACD;;AAED,QAAID,IAAI,GAAG,CAAX,EAAc;AACZ,UAAMO,CAAC,GAAGN,IAAI,GAAG,CAAP,GAAWA,IAAX,GAAkB,CAA5B;AACA,UAAMO,IAAI,GAAG,CAACR,IAAI,GAAG,CAAR,IAAaO,CAA1B;AACAL,MAAAA,UAAU,CAAC,MAAD,CAAV,GAAqBM,IAArB;AACD;;AAED,WAAON,UAAP;AACD,GAjCH;AAAA;;ACVA;;;;;;;AAQA,IAAaO,oBAAb;AAAA;;AAAA,OAKEd,SALF,GAKc,UAAAe,OAAO,EAAI;AACrB,WAAO;AACLC,MAAAA,YAAY,EAAED,OAAO,CAACC,YAAR,IAAwB,EADjC;AAELC,MAAAA,IAAI,EAAEF,OAAO,CAACE,IAAR,CAAaA,IAAb,CAAkBC,GAAlB,CAAsB,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,OAAR;AAAA,OAAzB,CAFD;AAGLC,MAAAA,KAAK,EAAEN,OAAO,CAACE,IAAR,CAAaI,KAAb,CAAmBC;AAHrB,KAAP;AAKD,GAXH;AAAA;;ACRe,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;AACzD,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;AAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;AACpC,MAAM,KAAK,EAAE,KAAK;AAClB,MAAM,UAAU,EAAE,IAAI;AACtB,MAAM,YAAY,EAAE,IAAI;AACxB,MAAM,QAAQ,EAAE,IAAI;AACpB,KAAK,CAAC,CAAC;AACP,GAAG,MAAM;AACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACrB,GAAG;AACH;AACA,EAAE,OAAO,GAAG,CAAC;AACb;;CAAC,DCXD,SAAS,OAAO,CAAC,MAAM,EAAE,cAAc,EAAE;AACzC,EAAE,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACjC;AACA,EAAE,IAAI,MAAM,CAAC,qBAAqB,EAAE;AACpC,IAAI,IAAI,OAAO,GAAG,MAAM,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;AACvD,IAAI,IAAI,cAAc,EAAE,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE;AAChE,MAAM,OAAO,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,UAAU,CAAC;AACrE,KAAK,CAAC,CAAC;AACP,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACnC,GAAG;AACH;AACA,EAAE,OAAO,IAAI,CAAC;AACd,CAAC;AACD;AACA,AAAe,SAAS,cAAc,CAAC,MAAM,EAAE;AAC/C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,IAAI,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AAC1D;AACA,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;AACf,MAAM,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AAC3D,QAAQC,eAAc,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AACjD,OAAO,CAAC,CAAC;AACT,KAAK,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE;AACjD,MAAM,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,CAAC;AAChF,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACrD,QAAQ,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;AACzF,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB;;;;;;CAAC;AClCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,OAAO,IAAI,UAAU,OAAO,EAAE;AAClC,AACA;AACA,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC;AAC5B,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC,cAAc,CAAC;AACjC,EAAE,IAAIC,WAAS,CAAC;AAChB,EAAE,IAAI,OAAO,GAAG,OAAO,MAAM,KAAK,UAAU,GAAG,MAAM,GAAG,EAAE,CAAC;AAC3D,EAAE,IAAI,cAAc,GAAG,OAAO,CAAC,QAAQ,IAAI,YAAY,CAAC;AACxD,EAAE,IAAI,mBAAmB,GAAG,OAAO,CAAC,aAAa,IAAI,iBAAiB,CAAC;AACvE,EAAE,IAAI,iBAAiB,GAAG,OAAO,CAAC,WAAW,IAAI,eAAe,CAAC;AACjE;AACA,EAAE,SAAS,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;AACrD;AACA,IAAI,IAAI,cAAc,GAAG,OAAO,IAAI,OAAO,CAAC,SAAS,YAAY,SAAS,GAAG,OAAO,GAAG,SAAS,CAAC;AACjG,IAAI,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AAC5D,IAAI,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC;AACjD;AACA;AACA;AACA,IAAI,SAAS,CAAC,OAAO,GAAG,gBAAgB,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACjE;AACA,IAAI,OAAO,SAAS,CAAC;AACrB,GAAG;AACH,EAAE,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;AAClC,IAAI,IAAI;AACR,MAAM,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;AACxD,KAAK,CAAC,OAAO,GAAG,EAAE;AAClB,MAAM,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AACzC,KAAK;AACL,GAAG;AACH;AACA,EAAE,IAAI,sBAAsB,GAAG,gBAAgB,CAAC;AAChD,EAAE,IAAI,sBAAsB,GAAG,gBAAgB,CAAC;AAChD,EAAE,IAAI,iBAAiB,GAAG,WAAW,CAAC;AACtC,EAAE,IAAI,iBAAiB,GAAG,WAAW,CAAC;AACtC;AACA;AACA;AACA,EAAE,IAAI,gBAAgB,GAAG,EAAE,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,SAAS,GAAG,EAAE;AACzB,EAAE,SAAS,iBAAiB,GAAG,EAAE;AACjC,EAAE,SAAS,0BAA0B,GAAG,EAAE;AAC1C;AACA;AACA;AACA,EAAE,IAAI,iBAAiB,GAAG,EAAE,CAAC;AAC7B,EAAE,iBAAiB,CAAC,cAAc,CAAC,GAAG,YAAY;AAClD,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG,CAAC;AACJ;AACA,EAAE,IAAI,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC;AACvC,EAAE,IAAI,uBAAuB,GAAG,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3E,EAAE,IAAI,uBAAuB;AAC7B,MAAM,uBAAuB,KAAK,EAAE;AACpC,MAAM,MAAM,CAAC,IAAI,CAAC,uBAAuB,EAAE,cAAc,CAAC,EAAE;AAC5D;AACA;AACA,IAAI,iBAAiB,GAAG,uBAAuB,CAAC;AAChD,GAAG;AACH;AACA,EAAE,IAAI,EAAE,GAAG,0BAA0B,CAAC,SAAS;AAC/C,IAAI,SAAS,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;AAC3D,EAAE,iBAAiB,CAAC,SAAS,GAAG,EAAE,CAAC,WAAW,GAAG,0BAA0B,CAAC;AAC5E,EAAE,0BAA0B,CAAC,WAAW,GAAG,iBAAiB,CAAC;AAC7D,EAAE,0BAA0B,CAAC,iBAAiB,CAAC;AAC/C,IAAI,iBAAiB,CAAC,WAAW,GAAG,mBAAmB,CAAC;AACxD;AACA;AACA;AACA,EAAE,SAAS,qBAAqB,CAAC,SAAS,EAAE;AAC5C,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,SAAS,MAAM,EAAE;AACzD,MAAM,SAAS,CAAC,MAAM,CAAC,GAAG,SAAS,GAAG,EAAE;AACxC,QAAQ,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACzC,OAAO,CAAC;AACR,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA,EAAE,OAAO,CAAC,mBAAmB,GAAG,SAAS,MAAM,EAAE;AACjD,IAAI,IAAI,IAAI,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,WAAW,CAAC;AAClE,IAAI,OAAO,IAAI;AACf,QAAQ,IAAI,KAAK,iBAAiB;AAClC;AACA;AACA,QAAQ,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,MAAM,mBAAmB;AAC/D,QAAQ,KAAK,CAAC;AACd,GAAG,CAAC;AACJ;AACA,EAAE,OAAO,CAAC,IAAI,GAAG,SAAS,MAAM,EAAE;AAClC,IAAI,IAAI,MAAM,CAAC,cAAc,EAAE;AAC/B,MAAM,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,0BAA0B,CAAC,CAAC;AAChE,KAAK,MAAM;AACX,MAAM,MAAM,CAAC,SAAS,GAAG,0BAA0B,CAAC;AACpD,MAAM,IAAI,EAAE,iBAAiB,IAAI,MAAM,CAAC,EAAE;AAC1C,QAAQ,MAAM,CAAC,iBAAiB,CAAC,GAAG,mBAAmB,CAAC;AACxD,OAAO;AACP,KAAK;AACL,IAAI,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AACzC,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG,CAAC;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,KAAK,GAAG,SAAS,GAAG,EAAE;AAChC,IAAI,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;AAC5B,GAAG,CAAC;AACJ;AACA,EAAE,SAAS,aAAa,CAAC,SAAS,EAAE;AACpC,IAAI,SAAS,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE;AAClD,MAAM,IAAI,MAAM,GAAG,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;AAC/D,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;AACnC,QAAQ,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC3B,OAAO,MAAM;AACb,QAAQ,IAAI,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC;AAChC,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;AACjC,QAAQ,IAAI,KAAK;AACjB,YAAY,OAAO,KAAK,KAAK,QAAQ;AACrC,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;AAC3C,UAAU,OAAO,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,EAAE;AACrE,YAAY,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;AACnD,WAAW,EAAE,SAAS,GAAG,EAAE;AAC3B,YAAY,MAAM,CAAC,OAAO,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;AAClD,WAAW,CAAC,CAAC;AACb,SAAS;AACT;AACA,QAAQ,OAAO,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,SAAS,EAAE;AAC/D;AACA;AACA;AACA,UAAU,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC;AACnC,UAAU,OAAO,CAAC,MAAM,CAAC,CAAC;AAC1B,SAAS,EAAE,SAAS,KAAK,EAAE;AAC3B;AACA;AACA,UAAU,OAAO,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;AACzD,SAAS,CAAC,CAAC;AACX,OAAO;AACP,KAAK;AACL;AACA,IAAI,IAAI,eAAe,CAAC;AACxB;AACA,IAAI,SAAS,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE;AAClC,MAAM,SAAS,0BAA0B,GAAG;AAC5C,QAAQ,OAAO,IAAI,OAAO,CAAC,SAAS,OAAO,EAAE,MAAM,EAAE;AACrD,UAAU,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;AAC/C,SAAS,CAAC,CAAC;AACX,OAAO;AACP;AACA,MAAM,OAAO,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,eAAe,GAAG,eAAe,CAAC,IAAI;AAC9C,UAAU,0BAA0B;AACpC;AACA;AACA,UAAU,0BAA0B;AACpC,SAAS,GAAG,0BAA0B,EAAE,CAAC;AACzC,KAAK;AACL;AACA;AACA;AACA,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AAC3B,GAAG;AACH;AACA,EAAE,qBAAqB,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AACjD,EAAE,aAAa,CAAC,SAAS,CAAC,mBAAmB,CAAC,GAAG,YAAY;AAC7D,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG,CAAC;AACJ,EAAE,OAAO,CAAC,aAAa,GAAG,aAAa,CAAC;AACxC;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,KAAK,GAAG,SAAS,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE;AAChE,IAAI,IAAI,IAAI,GAAG,IAAI,aAAa;AAChC,MAAM,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,CAAC;AAC/C,KAAK,CAAC;AACN;AACA,IAAI,OAAO,OAAO,CAAC,mBAAmB,CAAC,OAAO,CAAC;AAC/C,QAAQ,IAAI;AACZ,QAAQ,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,MAAM,EAAE;AAC1C,UAAU,OAAO,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;AAC1D,SAAS,CAAC,CAAC;AACX,GAAG,CAAC;AACJ;AACA,EAAE,SAAS,gBAAgB,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE;AACpD,IAAI,IAAI,KAAK,GAAG,sBAAsB,CAAC;AACvC;AACA,IAAI,OAAO,SAAS,MAAM,CAAC,MAAM,EAAE,GAAG,EAAE;AACxC,MAAM,IAAI,KAAK,KAAK,iBAAiB,EAAE;AACvC,QAAQ,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;AACxD,OAAO;AACP;AACA,MAAM,IAAI,KAAK,KAAK,iBAAiB,EAAE;AACvC,QAAQ,IAAI,MAAM,KAAK,OAAO,EAAE;AAChC,UAAU,MAAM,GAAG,CAAC;AACpB,SAAS;AACT;AACA;AACA;AACA,QAAQ,OAAO,UAAU,EAAE,CAAC;AAC5B,OAAO;AACP;AACA,MAAM,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AAC9B,MAAM,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;AACxB;AACA,MAAM,OAAO,IAAI,EAAE;AACnB,QAAQ,IAAI,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;AACxC,QAAQ,IAAI,QAAQ,EAAE;AACtB,UAAU,IAAI,cAAc,GAAG,mBAAmB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACtE,UAAU,IAAI,cAAc,EAAE;AAC9B,YAAY,IAAI,cAAc,KAAK,gBAAgB,EAAE,SAAS;AAC9D,YAAY,OAAO,cAAc,CAAC;AAClC,WAAW;AACX,SAAS;AACT;AACA,QAAQ,IAAI,OAAO,CAAC,MAAM,KAAK,MAAM,EAAE;AACvC;AACA;AACA,UAAU,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC;AACrD;AACA,SAAS,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO,EAAE;AAC/C,UAAU,IAAI,KAAK,KAAK,sBAAsB,EAAE;AAChD,YAAY,KAAK,GAAG,iBAAiB,CAAC;AACtC,YAAY,MAAM,OAAO,CAAC,GAAG,CAAC;AAC9B,WAAW;AACX;AACA,UAAU,OAAO,CAAC,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACjD;AACA,SAAS,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,EAAE;AAChD,UAAU,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AAChD,SAAS;AACT;AACA,QAAQ,KAAK,GAAG,iBAAiB,CAAC;AAClC;AACA,QAAQ,IAAI,MAAM,GAAG,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;AACtD,QAAQ,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;AACtC;AACA;AACA,UAAU,KAAK,GAAG,OAAO,CAAC,IAAI;AAC9B,cAAc,iBAAiB;AAC/B,cAAc,sBAAsB,CAAC;AACrC;AACA,UAAU,IAAI,MAAM,CAAC,GAAG,KAAK,gBAAgB,EAAE;AAC/C,YAAY,SAAS;AACrB,WAAW;AACX;AACA,UAAU,OAAO;AACjB,YAAY,KAAK,EAAE,MAAM,CAAC,GAAG;AAC7B,YAAY,IAAI,EAAE,OAAO,CAAC,IAAI;AAC9B,WAAW,CAAC;AACZ;AACA,SAAS,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;AAC5C,UAAU,KAAK,GAAG,iBAAiB,CAAC;AACpC;AACA;AACA,UAAU,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC;AACnC,UAAU,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;AACnC,SAAS;AACT,OAAO;AACP,KAAK,CAAC;AACN,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,mBAAmB,CAAC,QAAQ,EAAE,OAAO,EAAE;AAClD,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD,IAAI,IAAI,MAAM,KAAKA,WAAS,EAAE;AAC9B;AACA;AACA,MAAM,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC9B;AACA,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO,EAAE;AACtC;AACA,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;AACzC;AACA;AACA,UAAU,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC;AACpC,UAAU,OAAO,CAAC,GAAG,GAAGA,WAAS,CAAC;AAClC,UAAU,mBAAmB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AACjD;AACA,UAAU,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO,EAAE;AAC1C;AACA;AACA,YAAY,OAAO,gBAAgB,CAAC;AACpC,WAAW;AACX,SAAS;AACT;AACA,QAAQ,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC;AACjC,QAAQ,OAAO,CAAC,GAAG,GAAG,IAAI,SAAS;AACnC,UAAU,gDAAgD,CAAC,CAAC;AAC5D,OAAO;AACP;AACA,MAAM,OAAO,gBAAgB,CAAC;AAC9B,KAAK;AACL;AACA,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AAClE;AACA,IAAI,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;AACjC,MAAM,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC;AAC/B,MAAM,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;AAC/B,MAAM,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC9B,MAAM,OAAO,gBAAgB,CAAC;AAC9B,KAAK;AACL;AACA,IAAI,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;AAC1B;AACA,IAAI,IAAI,EAAE,IAAI,EAAE;AAChB,MAAM,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC;AAC/B,MAAM,OAAO,CAAC,GAAG,GAAG,IAAI,SAAS,CAAC,kCAAkC,CAAC,CAAC;AACtE,MAAM,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC9B,MAAM,OAAO,gBAAgB,CAAC;AAC9B,KAAK;AACL;AACA,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;AACnB;AACA;AACA,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;AAChD;AACA;AACA,MAAM,OAAO,CAAC,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,QAAQ,EAAE;AACvC,QAAQ,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AAChC,QAAQ,OAAO,CAAC,GAAG,GAAGA,WAAS,CAAC;AAChC,OAAO;AACP;AACA,KAAK,MAAM;AACX;AACA,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL;AACA;AACA;AACA,IAAI,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC5B,IAAI,OAAO,gBAAgB,CAAC;AAC5B,GAAG;AACH;AACA;AACA;AACA,EAAE,qBAAqB,CAAC,EAAE,CAAC,CAAC;AAC5B;AACA,EAAE,EAAE,CAAC,iBAAiB,CAAC,GAAG,WAAW,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,EAAE,CAAC,cAAc,CAAC,GAAG,WAAW;AAClC,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG,CAAC;AACJ;AACA,EAAE,EAAE,CAAC,QAAQ,GAAG,WAAW;AAC3B,IAAI,OAAO,oBAAoB,CAAC;AAChC,GAAG,CAAC;AACJ;AACA,EAAE,SAAS,YAAY,CAAC,IAAI,EAAE;AAC9B,IAAI,IAAI,KAAK,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;AACpC;AACA,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE;AACnB,MAAM,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC/B,KAAK;AACL;AACA,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE;AACnB,MAAM,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACjC,MAAM,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC/B,KAAK;AACL;AACA,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAChC,GAAG;AACH;AACA,EAAE,SAAS,aAAa,CAAC,KAAK,EAAE;AAChC,IAAI,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,IAAI,EAAE,CAAC;AACxC,IAAI,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC;AAC3B,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC;AACtB,IAAI,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;AAC9B,GAAG;AACH;AACA,EAAE,SAAS,OAAO,CAAC,WAAW,EAAE;AAChC;AACA;AACA;AACA,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;AAC3C,IAAI,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;AAC5C,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACrB,GAAG;AACH;AACA,EAAE,OAAO,CAAC,IAAI,GAAG,SAAS,MAAM,EAAE;AAClC,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC;AAClB,IAAI,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;AAC5B,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrB,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;AACnB;AACA;AACA;AACA,IAAI,OAAO,SAAS,IAAI,GAAG;AAC3B,MAAM,OAAO,IAAI,CAAC,MAAM,EAAE;AAC1B,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AAC7B,QAAQ,IAAI,GAAG,IAAI,MAAM,EAAE;AAC3B,UAAU,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;AAC3B,UAAU,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAC5B,UAAU,OAAO,IAAI,CAAC;AACtB,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,MAAM,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK,CAAC;AACN,GAAG,CAAC;AACJ;AACA,EAAE,SAAS,MAAM,CAAC,QAAQ,EAAE;AAC5B,IAAI,IAAI,QAAQ,EAAE;AAClB,MAAM,IAAI,cAAc,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAC;AACpD,MAAM,IAAI,cAAc,EAAE;AAC1B,QAAQ,OAAO,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC7C,OAAO;AACP;AACA,MAAM,IAAI,OAAO,QAAQ,CAAC,IAAI,KAAK,UAAU,EAAE;AAC/C,QAAQ,OAAO,QAAQ,CAAC;AACxB,OAAO;AACP;AACA,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;AACnC,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,SAAS,IAAI,GAAG;AAC3C,UAAU,OAAO,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE;AACxC,YAAY,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE;AAC1C,cAAc,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AACvC,cAAc,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAChC,cAAc,OAAO,IAAI,CAAC;AAC1B,aAAa;AACb,WAAW;AACX;AACA,UAAU,IAAI,CAAC,KAAK,GAAGA,WAAS,CAAC;AACjC,UAAU,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AAC3B;AACA,UAAU,OAAO,IAAI,CAAC;AACtB,SAAS,CAAC;AACV;AACA,QAAQ,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AAChC,OAAO;AACP,KAAK;AACL;AACA;AACA,IAAI,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;AAChC,GAAG;AACH,EAAE,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AAC1B;AACA,EAAE,SAAS,UAAU,GAAG;AACxB,IAAI,OAAO,EAAE,KAAK,EAAEA,WAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AAC5C,GAAG;AACH;AACA,EAAE,OAAO,CAAC,SAAS,GAAG;AACtB,IAAI,WAAW,EAAE,OAAO;AACxB;AACA,IAAI,KAAK,EAAE,SAAS,aAAa,EAAE;AACnC,MAAM,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACpB,MAAM,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;AACpB;AACA;AACA,MAAM,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAGA,WAAS,CAAC;AACzC,MAAM,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AACxB,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC3B;AACA,MAAM,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AAC3B,MAAM,IAAI,CAAC,GAAG,GAAGA,WAAS,CAAC;AAC3B;AACA,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AAC7C;AACA,MAAM,IAAI,CAAC,aAAa,EAAE;AAC1B,QAAQ,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;AAC/B;AACA,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG;AACpC,cAAc,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC;AACrC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;AACtC,YAAY,IAAI,CAAC,IAAI,CAAC,GAAGA,WAAS,CAAC;AACnC,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA,IAAI,IAAI,EAAE,WAAW;AACrB,MAAM,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB;AACA,MAAM,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACzC,MAAM,IAAI,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;AAC5C,MAAM,IAAI,UAAU,CAAC,IAAI,KAAK,OAAO,EAAE;AACvC,QAAQ,MAAM,UAAU,CAAC,GAAG,CAAC;AAC7B,OAAO;AACP;AACA,MAAM,OAAO,IAAI,CAAC,IAAI,CAAC;AACvB,KAAK;AACL;AACA,IAAI,iBAAiB,EAAE,SAAS,SAAS,EAAE;AAC3C,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;AACrB,QAAQ,MAAM,SAAS,CAAC;AACxB,OAAO;AACP;AACA,MAAM,IAAI,OAAO,GAAG,IAAI,CAAC;AACzB,MAAM,SAAS,MAAM,CAAC,GAAG,EAAE,MAAM,EAAE;AACnC,QAAQ,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;AAC9B,QAAQ,MAAM,CAAC,GAAG,GAAG,SAAS,CAAC;AAC/B,QAAQ,OAAO,CAAC,IAAI,GAAG,GAAG,CAAC;AAC3B;AACA,QAAQ,IAAI,MAAM,EAAE;AACpB;AACA;AACA,UAAU,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AAClC,UAAU,OAAO,CAAC,GAAG,GAAGA,WAAS,CAAC;AAClC,SAAS;AACT;AACA,QAAQ,OAAO,CAAC,EAAE,MAAM,CAAC;AACzB,OAAO;AACP;AACA,MAAM,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;AAC5D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,QAAQ,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC;AACtC;AACA,QAAQ,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,EAAE;AACrC;AACA;AACA;AACA,UAAU,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,SAAS;AACT;AACA,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;AACvC,UAAU,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;AACxD,UAAU,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;AAC5D;AACA,UAAU,IAAI,QAAQ,IAAI,UAAU,EAAE;AACtC,YAAY,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE;AAC5C,cAAc,OAAO,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAClD,aAAa,MAAM,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE;AACrD,cAAc,OAAO,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC9C,aAAa;AACb;AACA,WAAW,MAAM,IAAI,QAAQ,EAAE;AAC/B,YAAY,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE;AAC5C,cAAc,OAAO,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAClD,aAAa;AACb;AACA,WAAW,MAAM,IAAI,UAAU,EAAE;AACjC,YAAY,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE;AAC9C,cAAc,OAAO,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC9C,aAAa;AACb;AACA,WAAW,MAAM;AACjB,YAAY,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;AACtE,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA,IAAI,MAAM,EAAE,SAAS,IAAI,EAAE,GAAG,EAAE;AAChC,MAAM,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;AAC5D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI;AACrC,YAAY,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC;AAC5C,YAAY,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,EAAE;AAC1C,UAAU,IAAI,YAAY,GAAG,KAAK,CAAC;AACnC,UAAU,MAAM;AAChB,SAAS;AACT,OAAO;AACP;AACA,MAAM,IAAI,YAAY;AACtB,WAAW,IAAI,KAAK,OAAO;AAC3B,WAAW,IAAI,KAAK,UAAU,CAAC;AAC/B,UAAU,YAAY,CAAC,MAAM,IAAI,GAAG;AACpC,UAAU,GAAG,IAAI,YAAY,CAAC,UAAU,EAAE;AAC1C;AACA;AACA,QAAQ,YAAY,GAAG,IAAI,CAAC;AAC5B,OAAO;AACP;AACA,MAAM,IAAI,MAAM,GAAG,YAAY,GAAG,YAAY,CAAC,UAAU,GAAG,EAAE,CAAC;AAC/D,MAAM,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;AACzB,MAAM,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACvB;AACA,MAAM,IAAI,YAAY,EAAE;AACxB,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AAC7B,QAAQ,IAAI,CAAC,IAAI,GAAG,YAAY,CAAC,UAAU,CAAC;AAC5C,QAAQ,OAAO,gBAAgB,CAAC;AAChC,OAAO;AACP;AACA,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACnC,KAAK;AACL;AACA,IAAI,QAAQ,EAAE,SAAS,MAAM,EAAE,QAAQ,EAAE;AACzC,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;AACnC,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC;AACzB,OAAO;AACP;AACA,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO;AACjC,UAAU,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;AACtC,QAAQ,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;AAC/B,OAAO,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC3C,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;AAC1C,QAAQ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC/B,QAAQ,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAC1B,OAAO,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,QAAQ,EAAE;AACvD,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;AAC7B,OAAO;AACP;AACA,MAAM,OAAO,gBAAgB,CAAC;AAC9B,KAAK;AACL;AACA,IAAI,MAAM,EAAE,SAAS,UAAU,EAAE;AACjC,MAAM,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;AAC5D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,QAAQ,IAAI,KAAK,CAAC,UAAU,KAAK,UAAU,EAAE;AAC7C,UAAU,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC1D,UAAU,aAAa,CAAC,KAAK,CAAC,CAAC;AAC/B,UAAU,OAAO,gBAAgB,CAAC;AAClC,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA,IAAI,OAAO,EAAE,SAAS,MAAM,EAAE;AAC9B,MAAM,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE;AAC5D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvC,QAAQ,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,EAAE;AACrC,UAAU,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC;AACxC,UAAU,IAAI,MAAM,CAAC,IAAI,KAAK,OAAO,EAAE;AACvC,YAAY,IAAI,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC;AACpC,YAAY,aAAa,CAAC,KAAK,CAAC,CAAC;AACjC,WAAW;AACX,UAAU,OAAO,MAAM,CAAC;AACxB,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,MAAM,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAC;AAC/C,KAAK;AACL;AACA,IAAI,aAAa,EAAE,SAAS,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE;AAC3D,MAAM,IAAI,CAAC,QAAQ,GAAG;AACtB,QAAQ,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC;AAClC,QAAQ,UAAU,EAAE,UAAU;AAC9B,QAAQ,OAAO,EAAE,OAAO;AACxB,OAAO,CAAC;AACR;AACA,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE;AAClC;AACA;AACA,QAAQ,IAAI,CAAC,GAAG,GAAGA,WAAS,CAAC;AAC7B,OAAO;AACP;AACA,MAAM,OAAO,gBAAgB,CAAC;AAC9B,KAAK;AACL,GAAG,CAAC;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,OAAO,CAAC;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,CAA6B,MAAM,CAAC,OAAO,CAAK;AAClD,CAAC,CAAC,CAAC;AACH;AACA,IAAI;AACJ,EAAE,kBAAkB,GAAG,OAAO,CAAC;AAC/B,CAAC,CAAC,OAAO,oBAAoB,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,GAAG,EAAE,wBAAwB,CAAC,CAAC,OAAO,CAAC,CAAC;AACnD;;;ACrtBA,eAAc,GAAGC,SAA8B;;ACA/C,SAAS,kBAAkB,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE;AAC3E,EAAE,IAAI;AACN,IAAI,IAAI,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AAC7B,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AAC3B,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;AAClB,IAAI,OAAO;AACX,GAAG;AACH;AACA,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE;AACjB,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;AACnB,GAAG,MAAM;AACT,IAAI,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAC/C,GAAG;AACH,CAAC;AACD;AACA,AAAe,SAAS,iBAAiB,CAAC,EAAE,EAAE;AAC9C,EAAE,OAAO,YAAY;AACrB,IAAI,IAAI,IAAI,GAAG,IAAI;AACnB,QAAQ,IAAI,GAAG,SAAS,CAAC;AACzB,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;AAClD,MAAM,IAAI,GAAG,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACrC;AACA,MAAM,SAAS,KAAK,CAAC,KAAK,EAAE;AAC5B,QAAQ,kBAAkB,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;AAC/E,OAAO;AACP;AACA,MAAM,SAAS,MAAM,CAAC,GAAG,EAAE;AAC3B,QAAQ,kBAAkB,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;AAC9E,OAAO;AACP;AACA,MAAM,KAAK,CAAC,SAAS,CAAC,CAAC;AACvB,KAAK,CAAC,CAAC;AACP,GAAG,CAAC;AACJ;;AClCA,SAAS,iBAAiB,CAAC,MAAM,EAAE,KAAK,EAAE;AAC1C,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AAC9B,IAAI,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,IAAI,KAAK,CAAC;AAC3D,IAAI,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;AACnC,IAAI,IAAI,OAAO,IAAI,UAAU,EAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC1D,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;AAC9D,GAAG;AACH,CAAC;AACD;AACA,AAAe,SAAS,YAAY,CAAC,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE;AAC3E,EAAE,IAAI,UAAU,EAAE,iBAAiB,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AACvE,EAAE,IAAI,WAAW,EAAE,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;AAC/D,EAAE,OAAO,WAAW,CAAC;AACrB;;CAAC,GCAYC,WAAb;AAAA;AAAA;AACE,uBAAYC,MAAZ,EAAoB;AAAA;;AAAA;;AAAA,SAyCpBC,MAzCoB;AAAA;AAAA;AAAA;AAAA;AAAA,uBAyCX,iBAAM3B,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACDc,gBAAAA,OADC,GACS,KAAI,CAACc,iBAAL,CAAuB7B,SAAvB,CAAiCC,UAAjC,CADT;AAAA;AAAA,uBAEgB,KAAI,CAAC6B,IAAL,CAAUC,OAAV,CAAkB;AACvCC,kBAAAA,MAAM,EAAE,MAD+B;AAEvCC,kBAAAA,IAAI,EAAElB;AAFiC,iBAAlB,CAFhB;;AAAA;AAEDmB,gBAAAA,QAFC;AAAA,iDAMA,KAAI,CAACC,kBAAL,CAAwBnC,SAAxB,CAAkCkC,QAAQ,CAACD,IAA3C,CANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzCW;;AAAA;AAAA;AAAA;AAAA;;AAClB,SAAKG,cAAL,CAAoBT,MAApB;AACA,SAAKU,eAAL,CAAqBV,MAArB;AACA,SAAKW,SAAL,CAAeX,MAAf;AACD;;AALH;AAAA;AAAA,mCAOiBA,MAPjB,EAOyB;AACrB,UAAI,CAACY,MAAM,CAACZ,MAAD,EAAS,KAAT,CAAX,EAA4B;AAC1B,cAAM,IAAIa,KAAJ,CAAU,+CAAV,CAAN;AACD;AACF;AAXH;AAAA;AAAA,oCAakBb,MAblB,EAa0B;AACtB,UAAMc,oBAAoB,GAAGC,MAAI,CAC/Bf,MAD+B,EAE/B,sBAF+B,EAG/B5B,mBAH+B,CAAjC;;AAKA,UAAM4C,qBAAqB,GAAGD,MAAI,CAChCf,MADgC,EAEhC,uBAFgC,EAGhCb,oBAHgC,CAAlC;;AAMA,WAAKe,iBAAL,GAAyB,IAAIY,oBAAJ,EAAzB;AACA,WAAKN,kBAAL,GAA0B,IAAIQ,qBAAJ,EAA1B;AACD;AA3BH;AAAA;AAAA,8BA6BYhB,MA7BZ,EA6BoB;AAChB,aAAOA,MAAM,CAACiB,EAAd;;AACA,UAAMC,WAAW;AACfC,QAAAA,OAAO,EAAEnB,MAAM,CAACoB;AADD,SAEZpB,MAFY,CAAjB;;AAIA,WAAKG,IAAL,GAAYkB,KAAK,CAACC,MAAN,CAAaJ,WAAb,CAAZ;AACD;AAED;;;;;AAtCF;;AAAA;AAAA;;ACHA;;AACA,IAAaK,wBAAb;AAAA;;AAAA;;AAAA,OACEC,UADF,GACe,UAACC,MAAD,EAASC,eAAT,EAA6B;AACxC,QAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,MAAd,CAAL,EAA4B;AAC1B,YAAM,IAAIZ,KAAJ,0BACaY,MADb,yCAAN;AAGD;;AACD,QAAI,EAAEA,MAAM,CAACI,MAAP,KAAkB,CAAlB,IAAuBJ,MAAM,CAACI,MAAP,KAAkB,CAA3C,CAAJ,EAAmD;AACjD,YAAM,IAAIhB,KAAJ,0BACaY,MADb,2DAAN;AAGD;;AACD,QAAMK,OAAO,GAAGL,MAAM,CAAC,CAAD,CAAtB;AACA,QAAMM,UAAU,GAAGN,MAAM,CAAC,CAAD,CAAzB;AACAC,IAAAA,eAAe,CAACI,OAAD,CAAf,GAA2BC,UAA3B;AACA,QAAMC,QAAQ,GAAGP,MAAM,CAACI,MAAP,KAAkB,CAAnC;;AACA,QAAIG,QAAJ,EAAc;AACZ,MAAA,KAAI,CAACR,UAAL,CAAgBC,MAAM,CAAC,CAAD,CAAtB,EAA2BC,eAA3B;AACD;AACF,GAnBH;;AAAA,OAqBEO,WArBF,GAqBgB,UAAAC,OAAO,EAAI;AACvB,QAAI,CAACP,KAAK,CAACC,OAAN,CAAcM,OAAd,CAAL,EAA6B;AAC3B,YAAM,IAAIrB,KAAJ,iCAAkCqB,OAAlC,0BAAN;AACD;AACD;;;;;;;;AAMA,QAAMR,eAAe,GAAG,EAAxB;AACAQ,IAAAA,OAAO,CAACC,OAAR,CAAgB,UAAAV,MAAM,EAAI;AACxB,MAAA,KAAI,CAACD,UAAL,CAAgBC,MAAhB,EAAwBC,eAAxB;AACD,KAFD;AAGA;;;;;;;AAMA,WAAOA,eAAP;AACD,GA1CH;;AAAA,OAgDErD,SAhDF,GAgDc,UAAAC,UAAU,EAAI;AAAA,QAChBC,WADgB,GACwCD,UADxC,CAChBC,WADgB;AAAA,QACHC,MADG,GACwCF,UADxC,CACHE,MADG;AAAA,QACKC,SADL,GACwCH,UADxC,CACKG,SADL;AAAA,QACgBC,IADhB,GACwCJ,UADxC,CACgBI,IADhB;AAAA,QACsBC,IADtB,GACwCL,UADxC,CACsBK,IADtB;AAAA,QAC4BuD,OAD5B,GACwC5D,UADxC,CAC4B4D,OAD5B;AAGxB,QAAME,SAAS,GAAG,EAAlB;;AACA,QAAI7D,WAAW,KAAK,IAApB,EAA0B;AACxB6D,MAAAA,SAAS,CAAC,GAAD,CAAT,GAAiB7D,WAAjB;AACD;;AACD,QAAIC,MAAM,KAAK,IAAf,EAAqB;AACnB4D,MAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB5D,MAApB;;AAEA,UAAIC,SAAS,KAAK,IAAlB,EAAwB;AACtB2D,QAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB3D,SAAS,KAAK,MAAd,cAA2BD,MAA3B,IAAsCA,MAA1D;AACD;AACF;;AACD,QAAIE,IAAI,GAAG,CAAX,EAAc;AACZ0D,MAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB1D,IAApB;AACD;;AACD,QAAIC,IAAI,GAAG,CAAX,EAAc;AACZyD,MAAAA,SAAS,CAAC,MAAD,CAAT,GAAoBzD,IAApB;AACD;;AACD,QAAM0D,YAAY,GAAG,KAAI,CAACJ,WAAL,CAAiBC,OAAjB,CAArB;;AACAI,IAAAA,OAAO,CAACF,SAAD,EAAYC,YAAZ,CAAP;;AAEA,WAAOE,EAAE,CAACC,SAAH,CAAaJ,SAAb,EAAwB;AAAEK,MAAAA,WAAW,EAAE;AAAf,KAAxB,CAAP;AACD,GAxEH;AAAA;;ACZA;;;;;;;;AAQA;AACA,IAAaC,yBAAb;AAAA;;AAAA,OAKErE,SALF,GAKc,UAAAe,OAAO,EAAI;AACrB,WAAO;AACLC,MAAAA,YAAY,EAAED,OAAO,CAACC,YAAR,IAAwB,EADjC;AAELC,MAAAA,IAAI,EAAEF,OAAO,CAACE,IAAR,CAAaA,IAFd;AAGLI,MAAAA,KAAK,EAAEN,OAAO,CAACE,IAAR,CAAaI;AAHf,KAAP;AAKD,GAXH;AAAA;;ICKaiD,gBAAb;AAAA;AAAA;AACE,4BAAY3C,MAAZ,EAAoB;AAAA;;AAAA;;AAAA,SA4DpBC,MA5DoB;AAAA;AAAA;AAAA;AAAA;AAAA,uBA4DX,iBAAM3B,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACgB,KAAI,CAAC6B,IAAL,CAAUC,OAAV,CAAkB;AACvCwC,kBAAAA,MAAM,EAAEtE;AAD+B,iBAAlB,CADhB;;AAAA;AACDiC,gBAAAA,QADC;AAAA,iDAIA,KAAI,CAACC,kBAAL,CAAwBnC,SAAxB,CAAkCkC,QAAQ,CAACD,IAA3C,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA5DW;;AAAA;AAAA;AAAA;AAAA;;AAClB,SAAKG,cAAL,CAAoBT,MAApB;AACA,SAAKU,eAAL,CAAqBV,MAArB;AACA,SAAKW,SAAL,CAAeX,MAAf;AACD;;AALH;AAAA;AAAA,mCAOiBA,MAPjB,EAOyB;AACrB,UAAI,CAACY,MAAM,CAACZ,MAAD,EAAS,KAAT,CAAX,EAA4B;AAC1B,cAAM,IAAIa,KAAJ,CAAU,mDAAV,CAAN;AACD;AACF;AAXH;AAAA;AAAA,oCAakBb,MAblB,EAa0B;AACtB,UAAMc,oBAAoB,GAAGC,MAAI,CAC/Bf,MAD+B,EAE/B,2BAF+B,EAG/BuB,wBAH+B,CAAjC;;AAKA,UAAMP,qBAAqB,GAAGD,MAAI,CAChCf,MADgC,EAEhC,4BAFgC,EAGhC0C,yBAHgC,CAAlC;;AAMA,WAAKxC,iBAAL,GAAyB,IAAIY,oBAAJ,EAAzB;AACA,WAAKN,kBAAL,GAA0B,IAAIQ,qBAAJ,EAA1B;AACD;AA3BH;AAAA;AAAA,8BA6BYhB,MA7BZ,EA6BoB;AAChB,aAAOA,MAAM,CAAC6C,OAAd;;AACA,UAAM3B,WAAW;AACf4B,QAAAA,gBAAgB,EAAE,KAAK5C,iBAAL,CAAuB7B,SAD1B;AAEf8C,QAAAA,OAAO,EAAEnB,MAAM,CAACoB;AAFD,SAGZpB,MAHY,CAAjB;;AAKA,WAAKG,IAAL,GAAYkB,KAAK,CAACC,MAAN,CAAaJ,WAAb,CAAZ;;AACA,UAAIlB,MAAM,CAAC+C,YAAX,EAAyB;AACvB,aAAKC,eAAL,CAAqBhD,MAAM,CAAC+C,YAA5B;AACD;AACF;AAxCH;AAAA;AAAA,oCA0CkBA,YA1ClB,EA0CgC;AAC5B,UAAIA,YAAY,CAAC3C,OAAjB,EAA0B;AACxB,aAAKD,IAAL,CAAU4C,YAAV,CAAuB3C,OAAvB,CAA+B6C,GAA/B,CACEF,YAAY,CAAC3C,OAAb,CAAqB8C,OADvB,EAEEH,YAAY,CAAC3C,OAAb,CAAqB+C,MAFvB;AAID;;AACD,UAAIJ,YAAY,CAACxC,QAAjB,EAA2B;AACzB,aAAKJ,IAAL,CAAU4C,YAAV,CAAuBxC,QAAvB,CAAgC0C,GAAhC,CACEF,YAAY,CAACxC,QAAb,CAAsB2C,OADxB,EAEEH,YAAY,CAACxC,QAAb,CAAsB4C,MAFxB;AAID;AACF;AAED;;;;;AAzDF;;AAAA;AAAA;;ACde,SAAS,OAAO,CAAC,GAAG,EAAE;AACrC,EAAE,yBAAyB,CAAC;AAC5B;AACA,EAAE,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,QAAQ,EAAE;AAC3E,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,GAAG,EAAE;AACpC,MAAM,OAAO,OAAO,GAAG,CAAC;AACxB,KAAK,CAAC;AACN,GAAG,MAAM;AACT,IAAI,OAAO,GAAG,SAAS,OAAO,CAAC,GAAG,EAAE;AACpC,MAAM,OAAO,GAAG,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,GAAG,CAAC,WAAW,KAAK,MAAM,IAAI,GAAG,KAAK,MAAM,CAAC,SAAS,GAAG,QAAQ,GAAG,OAAO,GAAG,CAAC;AACnI,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC;AACtB;;CAAC,DCdc,SAAS,sBAAsB,CAAC,IAAI,EAAE;AACrD,EAAE,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE;AACvB,IAAI,MAAM,IAAI,cAAc,CAAC,2DAA2D,CAAC,CAAC;AAC1F,GAAG;AACH;AACA,EAAE,OAAO,IAAI,CAAC;AACd;;CAAC,DCJc,SAAS,0BAA0B,CAAC,IAAI,EAAE,IAAI,EAAE;AAC/D,EAAE,IAAI,IAAI,KAAK,OAAO,CAAC,IAAI,CAAC,KAAK,QAAQ,IAAI,OAAO,IAAI,KAAK,UAAU,CAAC,EAAE;AAC1E,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH;AACA,EAAE,OAAOC,sBAAqB,CAAC,IAAI,CAAC,CAAC;AACrC;;CAAC,DCRc,SAAS,eAAe,CAAC,CAAC,EAAE;AAC3C,EAAE,eAAe,GAAG,MAAM,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,GAAG,SAAS,eAAe,CAAC,CAAC,EAAE;AAChG,IAAI,OAAO,CAAC,CAAC,SAAS,IAAI,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AACnD,GAAG,CAAC;AACJ,EAAE,OAAO,eAAe,CAAC,CAAC,CAAC,CAAC;AAC5B;;CAAC,DCJc,SAAS,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE;AACzD,EAAE,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,EAAE;AAClE,IAAI,MAAM,GAAGC,eAAc,CAAC,MAAM,CAAC,CAAC;AACpC,IAAI,IAAI,MAAM,KAAK,IAAI,EAAE,MAAM;AAC/B,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB;;CAAC,DCPc,SAAS,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACzD,EAAE,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,CAAC,GAAG,EAAE;AACrD,IAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC;AACvB,GAAG,MAAM;AACT,IAAI,IAAI,GAAG,SAAS,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE;AACrD,MAAM,IAAI,IAAI,GAAGC,cAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AACjD,MAAM,IAAI,CAAC,IAAI,EAAE,OAAO;AACxB,MAAM,IAAI,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AACjE;AACA,MAAM,IAAI,IAAI,CAAC,GAAG,EAAE;AACpB,QAAQ,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACvC,OAAO;AACP;AACA,MAAM,OAAO,IAAI,CAAC,KAAK,CAAC;AACxB,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,IAAI,MAAM,CAAC,CAAC;AACpD;;CAAC,DCnBc,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;AAC9C,EAAE,eAAe,GAAG,MAAM,CAAC,cAAc,IAAI,SAAS,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE;AAC5E,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;AACpB,IAAI,OAAO,CAAC,CAAC;AACb,GAAG,CAAC;AACJ;AACA,EAAE,OAAO,eAAe,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/B;;CAAC,DCNc,SAAS,SAAS,CAAC,QAAQ,EAAE,UAAU,EAAE;AACxD,EAAE,IAAI,OAAO,UAAU,KAAK,UAAU,IAAI,UAAU,KAAK,IAAI,EAAE;AAC/D,IAAI,MAAM,IAAI,SAAS,CAAC,oDAAoD,CAAC,CAAC;AAC9E,GAAG;AACH;AACA,EAAE,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,IAAI,UAAU,CAAC,SAAS,EAAE;AACzE,IAAI,WAAW,EAAE;AACjB,MAAM,KAAK,EAAE,QAAQ;AACrB,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,YAAY,EAAE,IAAI;AACxB,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,IAAI,UAAU,EAAEC,eAAc,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;AACvD;;CAAC,GCDKC,qCACJ,4CAAYC,UAAZ,EAAwB;AAAA;;AAAA;;AAAA,OAQxBpF,SARwB,GAQZ,UAAAC,UAAU,EAAI;AAAA,QAChBoF,gBADgB,GACKpF,UADL,CAChBoF,gBADgB;AAGxB,QAAMtB,SAAS,GAAG,EAAlB;;AACA,QAAIsB,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BtB,MAAAA,SAAS,CAAC,GAAD,CAAT,GAAiB,KAAI,CAACqB,UAAL,GAAkB,GAAlB,GAAwBC,gBAAzC;AACD;;AAED,WAAOnB,EAAE,CAACC,SAAH,CAAaJ,SAAb,EAAwB;AAAEK,MAAAA,WAAW,EAAE,QAAf;AAAyBkB,MAAAA,MAAM,EAAE;AAAjC,KAAxB,CAAP;AACD,GAjBuB;;AACtB,OAAKF,UAAL,GAAkBA,UAAlB;AACD;AAED;;;;;;IAgBIG,sCACJ,6CAAYC,aAAZ,EAA2B;AAAA;;AAAA;;AAAA,OAI3BC,qBAJ2B,GAIH,UAAAC,YAAY,EAAI;AACtC,WAAOpC,KAAK,CAACzC,IAAN,CACL,IAAI8E,GAAJ,CACED,YAAY,CAACxE,GAAb,CAAiB,UAAAC,GAAG;AAAA,aAAIuB,MAAI,CAACvB,GAAG,CAACyE,QAAL,EAAe,MAAI,CAACC,iBAApB,CAAR;AAAA,KAApB,CADF,CADK,CAAP;AAKD,GAV0B;;AAAA,OAgB3B7F,SAhB2B,GAgBf,UAAAe,OAAO,EAAI;AACrB,WAAO;AACL+E,MAAAA,WAAW,EAAE,MAAI,CAACL,qBAAL,CAA2B1E,OAAO,CAACE,IAAR,CAAaA,IAAb,IAAqB,EAAhD;AADR,KAAP;AAGD,GApB0B;;AACzB,OAAK4E,iBAAL,GAAyBL,aAAa,CAACO,KAAd,CAAoB,GAApB,CAAzB;AACD;;AAqBH,IAAaC,oBAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,mCACiBrE,MADjB,EACyB;AACrB,+FAAqBA,MAArB;;AAEA,UAAI,CAACY,MAAM,CAACZ,MAAD,EAAS,gCAAT,CAAX,EAAuD;AACrD,cAAM,IAAIa,KAAJ,CACJ,4EADI,CAAN;AAGD;;AACD,UAAI,CAACD,MAAM,CAACZ,MAAD,EAAS,mCAAT,CAAX,EAA0D;AACxD,cAAM,IAAIa,KAAJ,CACJ,iFADI,CAAN;AAGD;AACF;AAdH;AAAA;AAAA,oCAgBkBb,MAhBlB,EAgB0B;AACtB,UAAMc,oBAAoB,GAAGC,MAAI,CAC/Bf,MAD+B,EAE/B,2BAF+B,EAG/BwD,kCAH+B,CAAjC;;AAKA,UAAMxC,qBAAqB,GAAGD,MAAI,CAChCf,MADgC,EAEhC,4BAFgC,EAGhC4D,mCAHgC,CAAlC;;AAMA,WAAK1D,iBAAL,GAAyB,IAAIY,oBAAJ,CACvBd,MAAM,CAAC6C,OAAP,CAAesB,WAAf,CAA2BV,UADJ,CAAzB;AAGA,WAAKjD,kBAAL,GAA0B,IAAIQ,qBAAJ,CACxBhB,MAAM,CAAC6C,OAAP,CAAesB,WAAf,CAA2BN,aADH,CAA1B;AAGD;AAlCH;;AAAA;AAAA,EAA0ClB,gBAA1C;;AC1CA,IAAM2B,WAAW,GAAG,SAAdA,WAAc,CAAAvF,KAAK,EAAI;AAC3B,MAAIwF,MAAM,CAACC,OAAP,CAAeC,SAAnB,EAA8B;AAC5BF,IAAAA,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB;AAAEC,MAAAA,IAAI,EAAE3F;AAAR,KAAzB,EAA0C,EAA1C,EAA8CA,KAA9C;AACD;AACF,CAJD;;AAMA,IAAM4F,cAAc,GAAG,SAAjBA,cAAiB,CAAA5F,KAAK,EAAI;AAC9B,MAAIwF,MAAM,CAACC,OAAP,CAAeI,YAAnB,EAAiC;AAC/BL,IAAAA,MAAM,CAACC,OAAP,CAAeI,YAAf,CAA4B;AAAEF,MAAAA,IAAI,EAAE3F;AAAR,KAA5B,EAA6C,EAA7C,EAAiDA,KAAjD;AACD;AACF,CAJD;AAMA;;;IACM8F;;;;;OACJC,sBAAsB,UAAAnF,KAAK,EAAI;AAC7B,QAAIoF,WAAW,GAAGC,QAAQ,CAACrF,KAAD,CAA1B;;AACA,QAAIsF,MAAM,CAACF,WAAD,CAAV,EAAyB;AACvB,UAAI;AACF,YAAMG,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWzF,KAAX,CAAf;;AACA,YAAI,CAAC0F,MAAM,CAACH,MAAD,CAAX,EAAqB;AACnBH,UAAAA,WAAW,GAAGG,MAAd;AACD;AACF,OALD,CAKE,OAAOI,CAAP,EAAU;AACV,YAAI3F,KAAK,KAAK,WAAd,EAA2B;AACzBoF,UAAAA,WAAW,GAAGpF,KAAd;AACD,SAFD,MAEO;AACL4F,UAAAA,OAAO,CAACC,KAAR,8BAAoC7F,KAApC;AACD;AACF;AACF;;AACD,WAAOoF,WAAP;AACD;;OAMDK,QAAQ,YAAsB;AAAA,QAArB7G,WAAqB,uEAAP,EAAO;AAC5B,QAAMkH,YAAY,GAAGlD,EAAE,CAAC6C,KAAH,CAAS7G,WAAT,EAAsB;AAAEmH,MAAAA,iBAAiB,EAAE;AAArB,KAAtB,CAArB;AACA,QAAM9C,MAAM,GAAG,EAAf;AACA+C,IAAAA,MAAM,CAACC,OAAP,CAAeH,YAAf,EAA6BtD,OAA7B,CAAqC,UAAA0D,KAAK,EAAI;AAC5C,UAAMC,GAAG,GAAGD,KAAK,CAAC,CAAD,CAAjB;AACA,UAAMlG,KAAK,GAAGkG,KAAK,CAAC,CAAD,CAAnB;AACAjD,MAAAA,MAAM,CAACkD,GAAD,CAAN,GAAc,KAAI,CAAChB,mBAAL,CAAyBnF,KAAzB,CAAd;AACD,KAJD;AAKA,WAAOiD,MAAP;AACD;;AAGH;;;IACMmD;;;OAMJC,UAAU,UAACF,GAAD,EAAMnG,KAAN;AAAA,WAAgB,IAAhB;AAAA;;AAGZ;;;AACA,IAAasG,aAAb,GACE,yBAAyB;AAAA;;AAAA,MAAbjG,MAAa,uEAAJ,EAAI;;AAAA;;AAAA,OA4CzBkG,mBA5CyB,GA4CH,UAAAzE,MAAM,EAAI;AAC9B,QAAM0E,WAAW,GACf1E,MAAM,CAACI,MAAP,KAAkB,CAAlB,GACI,MAAI,CAACuE,kBAAL,CAAwBC,MAAxB,CAA+B,MAAI,CAACH,mBAAL,CAAyBzE,MAAM,CAAC,CAAD,CAA/B,CAA/B,CADJ,GAEI,EAHN;AAIA,qBAAUA,MAAM,CAAC,CAAD,CAAhB,cAAuBA,MAAM,CAAC,CAAD,CAA7B,SAAmC0E,WAAnC;AACD,GAlDwB;;AAAA,OAuDzBG,yBAvDyB,GAuDG,UAAAC,UAAU,EAAI;AACxC,QAAM3D,MAAM,GAAG,EAAf;AACA+C,IAAAA,MAAM,CAACa,IAAP,CAAYD,UAAZ,EACG9E,MADH,CACU,UAAAgF,QAAQ;AAAA,aAAIA,QAAQ,IAAI,MAAI,CAACC,gBAArB;AAAA,KADlB,EAEGjF,MAFH,CAEU,UAAAgF,QAAQ,EAAI;AAClB;AACA,UACE,CAACA,QAAQ,KAAK,MAAb,IAAuBA,QAAQ,KAAK,MAArC,KACAF,UAAU,CAACE,QAAD,CAAV,IAAwB,CAF1B,EAGE;AACA,eAAO,KAAP;AACD;;AACD,aAAOF,UAAU,CAACE,QAAD,CAAV,KAAyB,IAAhC;AACD,KAXH,EAYGtE,OAZH,CAYW,UAAAsE,QAAQ,EAAI;AACnB,UAAME,QAAQ,GAAG,MAAI,CAACD,gBAAL,CAAsBD,QAAtB,CAAjB;;AACA,UAAIA,QAAQ,KAAK,SAAjB,EAA4B;AAC1B7D,QAAAA,MAAM,CAAC+D,QAAD,CAAN,GAAmBJ,UAAU,CAACE,QAAD,CAAV,CAAqBlH,GAArB,CAAyB,UAAAkC,MAAM;AAAA,iBAChD,MAAI,CAACyE,mBAAL,CAAyBzE,MAAzB,CADgD;AAAA,SAA/B,CAAnB;AAGD,OAJD,MAIO;AACLmB,QAAAA,MAAM,CAAC+D,QAAD,CAAN,GAAmBJ,UAAU,CAACE,QAAD,CAA7B;AACD;AACF,KArBH,EAFwC;;AA0BxC,WAAOlE,EAAE,CAACC,SAAH,CAAaI,MAAb,EAAqB;AAC1BgE,MAAAA,cAAc,EAAE,IADU;AAE1BC,MAAAA,SAAS,EAAE,IAFe;AAG1BC,MAAAA,OAAO,EAAE,KAHiB;;AAAA,KAArB,CAAP;AAKD,GAtFwB;;AAAA,OA4FzBC,mBA5FyB,GA4FH,UAAAC,SAAS,EAAI;AACjC,QAAMC,WAAW,GAAGD,SAAS,CAACE,OAAV,CAAkB,MAAI,CAACd,kBAAvB,CAApB;AACA,QAAMpE,QAAQ,GAAGiF,WAAW,GAAG,CAAC,CAAhC;AAEA,QAAME,UAAU,GAAGH,SAAS,CAACE,OAAV,CAAkB,GAAlB,CAAnB;;AACA,QAAIC,UAAU,KAAK,CAAC,CAApB,EAAuB;AACrB,YAAM,IAAItG,KAAJ,oBACOmG,SADP,8DAAN;AAGD;;AACD,QAAMlF,OAAO,GAAGkF,SAAS,CAACI,KAAV,CAAgB,CAAhB,EAAmBD,UAAnB,CAAhB;AACA,QAAME,GAAG,GAAGrF,QAAQ,GAAGiF,WAAH,GAAiBD,SAAS,CAACnF,MAA/C;AACA,QAAMlC,KAAK,GAAGqH,SAAS,CAACI,KAAV,CAAgBD,UAAU,GAAG,CAA7B,EAAgCE,GAAhC,CAAd;AACA,QAAIC,UAAU,GAAG,CAACxF,OAAD,EAAUnC,KAAV,CAAjB;;AACA,QAAIqC,QAAJ,EAAc;AACZ,UAAMmE,WAAW,GAAGa,SAAS,CAACI,KAAV,CAAgBH,WAAW,GAAG,CAA9B,EAAiCD,SAAS,CAACnF,MAA3C,CAApB;AACAyF,MAAAA,UAAU,CAACC,IAAX,CAAgB,MAAI,CAACR,mBAAL,CAAyBZ,WAAzB,CAAhB;AACD;;AACD,WAAOmB,UAAP;AACD,GA/GwB;;AAAA,OAoHzBE,yBApHyB,GAoHG,UAAAC,YAAY,EAAI;AAC1C,QAAMC,MAAM,GAAG,EAAf;AACA/B,IAAAA,MAAM,CAACa,IAAP,CAAYiB,YAAZ,EAA0BtF,OAA1B,CAAkC,UAAAwE,QAAQ,EAAI;AAC5C,UAAI,MAAI,CAACgB,iBAAL,CAAuB3B,OAAvB,CAA+BW,QAA/B,EAAyCc,YAAY,CAACd,QAAD,CAArD,CAAJ,EAAsE;AACpE,YAAMiB,aAAa,GAAG,MAAI,CAACC,oBAAL,CAA0BlB,QAA1B,CAAtB;AACAe,QAAAA,MAAM,CAACE,aAAD,CAAN,GAAwBH,YAAY,CAACd,QAAD,CAApC,CAFoE;;AAIpE,YAAIiB,aAAa,KAAK,SAAtB,EAAiC;AAC/B,cAAI,CAACjG,KAAK,CAACC,OAAN,CAAc6F,YAAY,CAACd,QAAD,CAA1B,CAAL,EAA4C;AAC1C;AACAc,YAAAA,YAAY,CAACd,QAAD,CAAZ,GAAyB,CAACc,YAAY,CAACd,QAAD,CAAb,CAAzB;AACD;;AACDe,UAAAA,MAAM,CAACE,aAAD,CAAN,GAAwBH,YAAY,CAACd,QAAD,CAAZ,CAAuBpH,GAAvB,CAA2B,UAAAkC,MAAM;AAAA,mBACvD,MAAI,CAACsF,mBAAL,CAAyBtF,MAAzB,CADuD;AAAA,WAAjC,CAAxB;AAGD;AACF;AACF,KAfD;AAgBA,WAAOiG,MAAP;AACD,GAvIwB;;AAAA,OAyIzBI,qBAzIyB,GAyID,UAACC,WAAD,EAAcxB,UAAd,EAA6B;AACnD,QAAMyB,WAAW,GAAGC,UAAU,CAAC1B,UAAD,CAA9B;;AACAZ,IAAAA,MAAM,CAACa,IAAP,CAAYuB,WAAZ,EAAyB5F,OAAzB,CAAiC,UAAAsE,QAAQ,EAAI;AAC3C,UAAIA,QAAQ,IAAIuB,WAAhB,EAA6B;AAC3BA,QAAAA,WAAW,CAACvB,QAAD,CAAX,GAAwBsB,WAAW,CAACtB,QAAD,CAAnC;AACD;AACF,KAJD;AAKA,WAAOuB,WAAP;AACD,GAjJwB;;AAAA,OAuJzBE,GAvJyB,GAuJnB,UAAA3B,UAAU,EAAI;AAClB,QAAMkB,YAAY,GAAG,MAAI,CAACU,SAAL,CAAe/C,KAAf,CAAqBb,MAAM,CAAC6D,QAAP,CAAgBnI,MAArC,CAArB;;AACA,QAAM8H,WAAW,GAAG,MAAI,CAACP,yBAAL,CAA+BC,YAA/B,CAApB;;AACA,QAAMY,aAAa,GAAG,MAAI,CAACP,qBAAL,CAA2BC,WAA3B,EAAwCxB,UAAxC,CAAtB;;AACA,QAAM+B,YAAY,GAAG,MAAI,CAAChC,yBAAL,CAA+B+B,aAA/B,CAArB;;AACA1D,IAAAA,cAAc,CAAC2D,YAAD,CAAd;AACA,WAAOD,aAAP;AACD,GA9JwB;;AAAA,OAoKzBE,GApKyB,GAoKnB,UAAAjK,UAAU,EAAI;AAClB,QAAI,MAAI,CAACkK,WAAT,EAAsB;AACpB,UAAMF,YAAY,GAAG,MAAI,CAAChC,yBAAL,CAA+BhI,UAA/B,CAArB;;AACAgG,MAAAA,WAAW,CAACgE,YAAD,CAAX;AACD,KAHD,MAGO;AACL,MAAA,MAAI,CAACG,OAAL,CAAanK,UAAb;AACD;AACF,GA3KwB;;AAAA,OAiLzBmK,OAjLyB,GAiLf,UAAAnK,UAAU,EAAI;AACtB,QAAMgK,YAAY,GAAG,MAAI,CAAChC,yBAAL,CAA+BhI,UAA/B,CAArB;;AACAqG,IAAAA,cAAc,CAAC2D,YAAD,CAAd;AACD,GApLwB;;AACvB,OAAK5B,gBAAL,GAAwBgC,SAAS,CAAC1I,MAAM,CAAC0G,gBAAR,CAAT,GACpB1G,MAAM,CAAC0G,gBADa,GAEpB;AACEnI,IAAAA,WAAW,EAAE,GADf;AAEEC,IAAAA,MAAM,EAAE,MAFV;AAGEC,IAAAA,SAAS,EAAE,OAHb;AAIEC,IAAAA,IAAI,EAAE,GAJR;AAKEC,IAAAA,IAAI,EAAE,GALR;AAMEgK,IAAAA,MAAM,EAAE,GANV;AAOEzG,IAAAA,OAAO,EAAE;AAPX,GAFJ;AAYA,OAAKsG,WAAL,GACExI,MAAM,CAACwI,WAAP,KAAuB3I,SAAvB,GAAmCG,MAAM,CAACwI,WAA1C,GAAwD,IAD1D;;AAEA,MAAI,CAACI,UAAU,CAAC,KAAKJ,WAAN,CAAf,EAAmC;AACjC,UAAM,IAAI3H,KAAJ,0DAC6C,KAAK2H,WADlD,gBAAN;AAGD;;AAED,OAAKpC,kBAAL,GACEpG,MAAM,CAACoG,kBAAP,KAA8BvG,SAA9B,GAA0CG,MAAM,CAACoG,kBAAjD,GAAsE,GADxE;;AAEA,MAAI,CAACyC,SAAS,CAAC,KAAKzC,kBAAN,CAAd,EAAyC;AACvC,UAAM,IAAIvF,KAAJ,gEACmD,KAAKuF,kBADxD,gBAAN;AAGD;;AAED,OAAKuB,iBAAL,GACE3H,MAAM,CAAC2H,iBAAP,IAA4B,IAAI5B,iBAAJ,EAD9B;AAEA,OAAKoC,SAAL,GAAiBnI,MAAM,CAACmI,SAAP,IAAoB,IAAItD,SAAJ,EAArC,CA/BuB;;AAkCvB,OAAKgD,oBAAL,GAA4B,EAA5B;AACAlC,EAAAA,MAAM,CAACa,IAAP,CAAY,KAAKE,gBAAjB,EAAmCvE,OAAnC,CAA2C,UAAAsE,QAAQ,EAAI;AACrD,IAAA,MAAI,CAACoB,oBAAL,CAA0B,MAAI,CAACnB,gBAAL,CAAsBD,QAAtB,CAA1B,IAA6DA,QAA7D;AACD,GAFD;AAGD;AAED;;;;AAzCF;;AC5EA;;;;;;;AAQA,AAAO,IAAMqC,iCAAiC,GAC5C,mCADK;AAEP,AAAO,IAAMC,sCAAsC,GACjD,wCADK;AAEP,AAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AACP,AAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,AAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,AAAO,IAAMC,oBAAoB,GAAG,sBAA7B;AACP,AAAO,IAAMC,eAAe,GAAG,iBAAxB;AACP,AAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,AAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,AAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAAO,IAAMC,uBAAuB,GAAG,yBAAhC;AAEP,AAAO,IAAMC,eAAe,GAAG,iBAAxB;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAAO,IAAMC,mBAAmB,GAAG,qBAA5B;AACP,AAAO,IAAMC,qBAAqB,GAAG,uBAA9B;AACP,AAEO,IAAMC,WAAW,GAAG,aAApB;;AC9BP;;;;;;;AAQA,AAGA;;;;;;AAKA,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AACjC,SAAOD,KAAK,CAAC/C,OAAN,CAAcgD,MAAd,MAA0B,CAAjC;AACD;;AAED,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,SAAO7H,EAAE,CAACC,SAAH,CAAa;AAAE6H,IAAAA,CAAC,EAAED;AAAL,GAAb,CAAP;AACD;;AAED,SAAShF,KAAT,CAAekF,GAAf,EAAoB;AAClB,SAAO/H,EAAE,CAAC6C,KAAH,CAASkF,GAAT,EAAc,GAAd,CAAP;AACD;;AAED,SAASC,eAAT,CAAyBC,GAAzB,EAA8B;AAC5B,MAAMxI,QAAQ,GAAGwI,GAAG,CAAC3I,MAAJ,KAAe,CAAhC;;AACA,MAAIG,QAAJ,EAAc;AACZ,QAAM0F,MAAM,GAAG,CAAC8C,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,CAAf;AACA,QAAMC,SAAS,GAAGF,eAAe,CAACC,GAAG,CAAC,CAAD,CAAJ,CAAjC;;AACA,QAAIC,SAAS,CAAC5I,MAAd,EAAsB;AACpB6F,MAAAA,MAAM,CAACH,IAAP,CAAYkD,SAAZ;AACD;;AACD,WAAO/C,MAAP;AACD;;AACD,SAAO,EAAP;AACD;;AAED,AAAO,IAAMgD,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,WAAD,EAAcC,YAAd,EAA+B;AAC/D,MAAI/L,QAAQ,CAAC8L,WAAD,CAAZ,EAA2B;AAC3B;;;;AAGA,MAAME,QAAQ,GAAGV,QAAQ,CAACQ,WAAD,CAAzB;AACA,MAAMG,eAAe,GAAGF,YAAY,CAACrL,GAAb,CAAiB,UAAAwL,aAAa;AAAA,WACpDZ,QAAQ,CAACY,aAAD,CAD4C;AAAA,GAA9B,CAAxB;AAIA;;;;;;;;;;;;;;;AAcA,MAAIC,UAAU,GAAG,KAAjB;AACA,MAAMC,iBAAiB,GAAGH,eAAe,CAACrJ,MAAhB,CAAuB,UAAAyJ,cAAc,EAAI;AACjE,QAAMC,iBAAiB,GAAGnB,UAAU,CAACkB,cAAD,EAAiBL,QAAjB,CAApC;AACA,QAAMO,kBAAkB,GAAGpB,UAAU,CAACa,QAAD,EAAWK,cAAX,CAArC;;AAEA,QAAIC,iBAAiB,IAAI,CAACH,UAA1B,EAAsC;AACpCA,MAAAA,UAAU,GAAG,IAAb;AACD;;AACD,WAAO,CAACG,iBAAD,IAAsB,CAACC,kBAA9B;AACD,GARyB,CAA1B;;AAUA,MAAI,CAACJ,UAAL,EAAiB;AACf;;;;;;;AAOAC,IAAAA,iBAAiB,CAAC1D,IAAlB,CAAuBsD,QAAvB;AACD,GATD,MASO;AACL;;;;;;AAMA,QAAM7I,QAAQ,GAAG2I,WAAW,CAAC9I,MAAZ,KAAuB,CAAxC;;AACA,QAAIG,QAAJ,EAAc;AACZ,UAAMwI,GAAG,GAAGD,eAAe,CAACI,WAAD,CAA3B;AACAM,MAAAA,iBAAiB,CAAC1D,IAAlB,CAAuB4C,QAAQ,CAACK,GAAD,CAA/B;AACD;AACF;AAED;;;;;AAGA,SAAOS,iBAAiB,CAAC1L,GAAlB,CAAsB,UAAA8L,QAAQ;AAAA,WAAIjG,KAAK,CAACiG,QAAD,CAAT;AAAA,GAA9B,CAAP;AACD,CA9DM;AAgEP,AAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD,EAAWC,QAAX,EAAqBC,SAArB,EAAmC;AACjE,MAAIC,WAAW,GAAGC,KAAK,CAACH,QAAD,EAAWC,SAAX,CAAvB;;AACA,MAAI,aAAaC,WAAjB,EAA8B;AAC5BA,IAAAA,WAAW,CAAC,SAAD,CAAX,GAAyBhB,kBAAkB,CACzCgB,WAAW,CAACxJ,OAD6B,EAEzCqJ,QAAQ,CAACrJ,OAFgC,CAA3C;AAID;;AACD,SAAOwJ,WAAP;AACD,CATM;;AC9EP,IAAME,UAAU,GAAG,CACjB,aADiB,EAEjB,QAFiB,EAGjB,WAHiB,EAIjB,MAJiB,EAKjB,MALiB,EAMjB,QANiB,EAOjB,SAPiB,EAQjB,aARiB,CAAnB;AAWA,oBAAe,YAAwB;AAAA,MAAvBC,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK/C,gBAAL;AACE,gCAAY6C,KAAZ;AAAmBtN,QAAAA,WAAW,EAAEuN,MAAM,CAAC1M,OAAvC;AAAgDV,QAAAA,IAAI,EAAE;AAAtD;;AACF,SAAKuK,iBAAL;AACE,gCACK4C,KADL;AAEErN,QAAAA,MAAM,EAAEsN,MAAM,CAAC1M,OAAP,CAAeZ,MAFzB;AAGEC,QAAAA,SAAS,EAAEqN,MAAM,CAAC1M,OAAP,CAAeX,SAH5B;AAIEC,QAAAA,IAAI,EAAE;AAJR;;AAMF,SAAKwK,iBAAL;AACE,gCACK2C,KADL;AAEErN,QAAAA,MAAM,EAAEsN,MAAM,CAAC1M,OAFjB;AAGEV,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAKyK,oBAAL;AACE,gCACK0C,KADL;AAEEpN,QAAAA,SAAS,EAAEqN,MAAM,CAAC1M,OAFpB;AAGEV,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAK2K,yBAAL;AACE,gCACKwC,KADL;AAEEnN,QAAAA,IAAI,EAAEoN,MAAM,CAAC1M;AAFf;;AAIF,SAAKkK,yBAAL;AACE,gCACKuC,KADL;AAEElN,QAAAA,IAAI,EAAEmN,MAAM,CAAC1M,OAFf;AAGEV,QAAAA,IAAI,EAAE;AAHR;;AAKF,SAAK6K,iBAAL;AAAwB;AACtB,kCACKsC,KADL;AAEEnN,UAAAA,IAAI,EAAE,CAFR;AAGEwD,UAAAA,OAAO,EAAEwI,kBAAkB,CAACoB,MAAM,CAAC1M,OAAR,EAAiByM,KAAK,CAAC3J,OAAvB;AAH7B;AAKD;;AACD,SAAKsH,qBAAL;AACE,gCACKqC,KADL;AAEE1H,QAAAA,WAAW,EAAE2H,MAAM,CAAC1M,OAAP,CAAe+E;AAF9B;;AAIF,SAAKuF,uBAAL;AACE,gCACKmC,KADL;AAEE1H,QAAAA,WAAW,EAAE2H,MAAM,CAAC1M,OAAP,CAAe+E;AAF9B;;AAIF,SAAKsF,qBAAL;AACE,gCACKoC,KADL;AAEEnI,QAAAA,gBAAgB,EAAEoI,MAAM,CAAC1M;AAF3B;;AAIF,SAAK0J,iCAAL;AACE,gCACK+C,KADL,MAEKC,MAAM,CAAC1M,OAFZ;;AAIF,SAAK2J,sCAAL;AACE,gCACK8C,KADL,MAEKC,MAAM,CAAC1M,OAFZ;;AAIF,SAAKgK,eAAL;AACE,gCACKyC,KADL,MAEKP,gBAAgB,CAACO,KAAD,EAAQC,MAAM,CAAC1M,OAAf,EAAwBwM,UAAxB,CAFrB;;AAIF,SAAK9B,qBAAL;AACE,gCACK+B,KADL;AAEElD,QAAAA,MAAM,EAAEmD,MAAM,CAAC1M;AAFjB;;AAIF,SAAK2K,WAAL;AACE,gCACK8B,KADL;AAEEtN,QAAAA,WAAW,EAAE,EAFf;AAGEG,QAAAA,IAAI,EAAE,CAHR;AAIEwD,QAAAA,OAAO,EAAE;AAJX;;AAMF;AACE,aAAO2J,KAAP;AAnFJ;AAqFD,CAtFD;;ACxBA,sBAAe,YAAwB;AAAA,MAAvBA,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AACrC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKpC,eAAL;AACE,gCACKkC,KADL;AAEEG,QAAAA,OAAO,EAAE,IAFX;AAGE1L,QAAAA,IAAI,qBACCuL,KAAK,CAACvL,IADP;AAHN;;AAOF,SAAKsJ,qBAAL;AACE,aAAO;AACLoC,QAAAA,OAAO,EAAE,KADJ;AAEL1L,QAAAA,IAAI,qBACCuL,KAAK,CAACvL,IADP;AAEFjB,UAAAA,YAAY,EAAEyM,MAAM,CAAC1M,OAAP,CAAeC,YAF3B;AAGFC,UAAAA,IAAI,EAAEwM,MAAM,CAAC1M,OAAP,CAAeE,IAHnB;AAIFI,UAAAA,KAAK,EAAEoM,MAAM,CAAC1M,OAAP,CAAeM;AAJpB,UAFC;AAQL8F,QAAAA,KAAK,EAAE;AARF,OAAP;;AAUF,SAAKqE,mBAAL;AACE,aAAO;AACLmC,QAAAA,OAAO,EAAE,KADJ;AAEL1L,QAAAA,IAAI,qBACCuL,KAAK,CAACvL,IADP;AAEFjB,UAAAA,YAAY,EAAE,EAFZ;AAGFC,UAAAA,IAAI,EAAE,EAHJ;AAIFI,UAAAA,KAAK,EAAE;AAJL,UAFC;AAQL8F,QAAAA,KAAK,EAAEsG,MAAM,CAAC1M;AART,OAAP;;AAUF;AACE,aAAOyM,KAAP;AAhCJ;AAkCD,CAnCD;;ACdA;;;;;;;AAQA,AAKA,kBAAeI,eAAe,CAAC;AAC7BlN,EAAAA,KAAK,EAAEmN,YADsB;AAE7BC,EAAAA,OAAO,EAAEC;AAFoB,CAAD,CAA9B;;ACbA;;;;;;;AAQA,AAMO,SAASC,cAAT,CAAwBC,SAAxB,EAAmC;AACxC,MAAMC,iBAAiB,GAAG;AACxBhO,IAAAA,WAAW,EAAE,EADW;AAExB4F,IAAAA,WAAW,EAAE,EAFW;AAGxB3F,IAAAA,MAAM,EAAE,IAHgB;AAIxBC,IAAAA,SAAS,EAAE,IAJa;AAKxBC,IAAAA,IAAI,EAAE,CALkB;AAMxBC,IAAAA,IAAI,EAAE,EANkB;AAOxBuD,IAAAA,OAAO,EAAE,EAPe;AAQxByG,IAAAA,MAAM,EAAE;AARgB,GAA1B;AAWA,MAAM6D,mBAAmB,GAAG;AAC1BR,IAAAA,OAAO,EAAE,KADiB;AAE1B1L,IAAAA,IAAI,EAAE;AACJhB,MAAAA,IAAI,EAAE,EADF;AAEJI,MAAAA,KAAK,EAAE,CAFH;AAGJL,MAAAA,YAAY,EAAE;AAHV,KAFoB;AAO1BmG,IAAAA,KAAK,EAAE;AAPmB,GAA5B,CAZwC;;AAuBxC,MAAMiH,mBAAmB,GAAGH,SAAS,CAACI,aAAV,GACxBJ,SAAS,CAACI,aAAV,CAAwBxE,GAAxB,CAA4BqE,iBAA5B,CADwB,GAExBA,iBAFJ;AAGA,MAAMI,cAAc,GAAG;AACrB5N,IAAAA,KAAK,EAAE0N,mBADc;AAErBN,IAAAA,OAAO,EAAEK;AAFY,GAAvB;AAIA,SAAOI,WAAW,CAChBC,WADgB,EAEhBF,cAFgB,EAGhBG,eAAe,CAACC,KAAK,CAACC,iBAAN,CAAwBV,SAAxB,CAAD,CAHC,CAAlB;AAKD;;AAED,SAASW,eAAT,CAAyBC,eAAzB,EAA0CC,kBAA1C,EAA8DC,UAA9D,EAA0E;AACxE,SAAOC,OAAO,CACZH,eADY,EAEZC,kBAFY,EAGZC,UAHY,CAAd;AAKD;;AC3BM,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,YAAY,EAAI;AAC7C,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAEjD,iCADC;AAEP1J,MAAAA,OAAO,EAAEmO;AAFF,KAAD,CAAR;AAID,GALD;AAMD,CAPM;AASP,AAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,YAAY,EAAI;AAC9C,SAAO,UAAAF,QAAQ,EAAI;AACjB,QAAIE,YAAJ,EAAkB;AAChBF,MAAAA,QAAQ,CAACG,YAAY,CAAC;AAAEC,QAAAA,0BAA0B,EAAE;AAA9B,OAAD,CAAb,CAAR;AACD;AACF,GAJD;AAKD,CANM;AAQP,AAAO,IAAMC,iCAAiC,GAAG,SAApCA,iCAAoC,GAAM;AACrD,SAAO,UAACL,QAAD,EAAWM,QAAX,EAAqB9N,MAArB,EAAgC;AACrC,QAAM0M,aAAa,GAAG1M,MAAM,CAAC0M,aAA7B;;AACA,QAAIA,aAAJ,EAAmB;AACjB,UAAMqB,iBAAiB,GAAGD,QAAQ,GAAG/O,KAArC;AACA,UAAMiP,aAAa,GAAGtB,aAAa,CAACxE,GAAd,CAAkB6F,iBAAlB,CAAtB;AACAP,MAAAA,QAAQ,CAAC;AACPzB,QAAAA,IAAI,EAAEhD,sCADC;AAEP3J,QAAAA,OAAO,EAAE4O;AAFF,OAAD,CAAR;AAIAR,MAAAA,QAAQ,CACNG,YAAY,CAAC;AACXC,QAAAA,0BAA0B,EAAE,KADjB;AAEXK,QAAAA,2BAA2B,EAAE;AAFlB,OAAD,CADN,CAAR;AAMD;AACF,GAhBD;AAiBD,CAlBM;AAoBP,AAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAA3P,WAAW,EAAI;AAC9C,SAAO,UAAAiP,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAE/C,gBADC;AAEP5J,MAAAA,OAAO,EAAEb;AAFF,KAAD,CAAR;AAIAiP,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAND;AAOD,CARM;AAUP,AAAO,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,WAAD,EAAcC,cAAd,EAAiC;AACjE,SAAO,UAAAb,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAE9C,iBADC;AAEP7J,MAAAA,OAAO,EAAE;AAAEZ,QAAAA,MAAM,EAAE4P,WAAV;AAAuB3P,QAAAA,SAAS,EAAE4P;AAAlC;AAFF,KAAD,CAAR;AAIAb,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAND;AAOD,CARM;AAUP,AAAO,IAAMW,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAF,WAAW,EAAI;AAC9C,SAAO,UAAAZ,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAE7C,iBADC;AAEP9J,MAAAA,OAAO,EAAEgP;AAFF,KAAD,CAAR;AAIAZ,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAND;AAOD,CARM;AAUP,AAAO,IAAMY,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAF,cAAc,EAAI;AACpD,SAAO,UAAAb,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEzB,MAAAA,IAAI,EAAE5C,oBAAR;AAA8B/J,MAAAA,OAAO,EAAEiP;AAAvC,KAAD,CAAR;AACAb,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAHD;AAID,CALM;AAOP,AAAO,IAAMa,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAA9P,IAAI,EAAI;AAC/C,SAAO,UAAA8O,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEzB,MAAAA,IAAI,EAAE1C,yBAAR;AAAmCjK,MAAAA,OAAO,EAAEV;AAA5C,KAAD,CAAR;AACA8O,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAHD;AAID,CALM;AAOP,AAAO,IAAMc,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAA9P,IAAI,EAAI;AAC/C,SAAO,UAAA6O,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEzB,MAAAA,IAAI,EAAEzC,yBAAR;AAAmClK,MAAAA,OAAO,EAAET;AAA5C,KAAD,CAAR;AACA6O,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAHD;AAID,CALM;AAOP,AAAO,IAAMjD,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAxI,OAAO,EAAI;AAC3C,SAAO,UAAAsL,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAExC,iBADC;AAEPnK,MAAAA,OAAO,EAAE8C;AAFF,KAAD,CAAR;AAIAsL,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAND;AAOD,CARM;AAUP,AAAO,IAAMe,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAA/F,MAAM,EAAI;AAC3C;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAO,iBAAO6E,QAAP,EAAiBM,QAAjB,EAA2B9N,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACC0M,gBAAAA,aADD,GACiB1M,MAAM,CAAC0M,aADxB;;AAAA,qBAEDA,aAFC;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGGc,QAAQ,CAAC;AACbzB,kBAAAA,IAAI,EAAEjC,qBADO;AAEb1K,kBAAAA,OAAO,EAAEuJ;AAFI,iBAAD,CAHX;;AAAA;AAOGqF,gBAAAA,aAPH,GAOmBF,QAAQ,GAAG/O,KAP9B;AAQH2N,gBAAAA,aAAa,CAACnE,GAAd,CAAkByF,aAAlB;AARG;AAAA;;AAAA;AAUHR,gBAAAA,QAAQ,CAAC;AACPzB,kBAAAA,IAAI,EAAEjC,qBADC;AAEP1K,kBAAAA,OAAO,EAAEuJ;AAFF,iBAAD,CAAR;;AAVG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBD,CAjBM;AAmBP,AAAO,IAAMgG,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B,SAAO,UAAAnB,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAEhC;AADC,KAAD,CAAR;AAGAyD,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GALD;AAMD,CAPM;AASP,AAAO,IAAMA,YAAY,GAAG,SAAfA,YAAe,GAGjB;AAAA,kFAAP,EAAO;AAAA,oCAFTC,0BAES;AAAA,MAFTA,0BAES,sCAFoB,IAEpB;AAAA,oCADTK,2BACS;AAAA,MADTA,2BACS,sCADqB,KACrB;;AACT;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAO,kBAAOT,QAAP,EAAiBM,QAAjB,EAA2B9N,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACCuG,gBAAAA,UADD,GACc0B,UAAU,CAAC6F,QAAQ,GAAG/O,KAAZ,CADxB;AAEC6P,gBAAAA,SAFD,GAEa5O,MAAM,CAAC4O,SAFpB;AAGClC,gBAAAA,aAHD,GAGiB1M,MAAM,CAAC0M,aAHxB;;AAKL,oBAAIA,aAAJ,EAAmB;AACjB,sBAAIuB,2BAAJ,EAAiC;AAC/BvB,oBAAAA,aAAa,CAACjE,OAAd,CAAsBlC,UAAtB;AACD,mBAFD,MAEO,IAAIqH,0BAAJ,EAAgC;AACrClB,oBAAAA,aAAa,CAACnE,GAAd,CAAkBhC,UAAlB;AACD;AACF;;AAEDiH,gBAAAA,QAAQ,CAAC;AAAEzB,kBAAAA,IAAI,EAAEpC;AAAR,iBAAD,CAAR;AAbK;AAAA;AAAA,uBAeoBiF,SAAS,CAAC3O,MAAV,CAAiBsG,UAAjB,CAfpB;;AAAA;AAeGhG,gBAAAA,QAfH;AAgBHiN,gBAAAA,QAAQ,CAAC;AACPzB,kBAAAA,IAAI,EAAEnC,qBADC;AAEPxK,kBAAAA,OAAO,EAAE;AACPC,oBAAAA,YAAY,EAAEkB,QAAQ,CAAClB,YADhB;AAEPC,oBAAAA,IAAI,EAAEiB,QAAQ,CAACjB,IAFR;AAGPI,oBAAAA,KAAK,EAAEa,QAAQ,CAACb;AAHT;AAFF,iBAAD,CAAR;AAhBG;AAAA;;AAAA;AAAA;AAAA;AAyBH6F,gBAAAA,OAAO,CAACC,KAAR;AACAgI,gBAAAA,QAAQ,CAAC;AAAEzB,kBAAAA,IAAI,EAAElC,mBAAR;AAA6BzK,kBAAAA,OAAO;AAApC,iBAAD,CAAR;;AA1BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BD,CAjCM;AAmCP,AAAO,IAAMyP,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAnL,gBAAgB,EAAI;AACnD,SAAO,UAAA8J,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAEtC,qBADC;AAEPrK,MAAAA,OAAO,EAAEsE;AAFF,KAAD,CAAR;AAIA8J,IAAAA,QAAQ,CAACsB,sBAAsB,EAAvB,CAAR;AACD,GAND;AAOD,CARM;AAUP,AAAO,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AAC1C;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAO,kBAAOtB,QAAP,EAAiBM,QAAjB,EAA2B9N,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AACCuG,gBAAAA,UADD,GACc0B,UAAU,CAAC6F,QAAQ,GAAG/O,KAAZ,CADxB;AAECgQ,gBAAAA,aAFD,GAEiB/O,MAAM,CAAC+O,aAFxB;AAAA;AAAA;AAAA,uBAKoBA,aAAa,CAAC9O,MAAd,CAAqBsG,UAArB,CALpB;;AAAA;AAKGhG,gBAAAA,QALH;AAMHiN,gBAAAA,QAAQ,CAAC;AACPzB,kBAAAA,IAAI,EAAEvC,qBADC;AAEPpK,kBAAAA,OAAO,EAAE;AACP+E,oBAAAA,WAAW,EAAE5D,QAAQ,CAAC4D;AADf;AAFF,iBAAD,CAAR;AANG;AAAA;;AAAA;AAAA;AAAA;AAaHoB,gBAAAA,OAAO,CAACC,KAAR,CAAc,oDAAd;;AAbG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBD,CAjBM;AAmBP,AAAO,IAAMwJ,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AACpC,SAAO,UAAAxB,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAErC,uBADC;AAEPtK,MAAAA,OAAO,EAAE;AACP+E,QAAAA,WAAW,EAAE;AADN;AAFF,KAAD,CAAR;AAMD,GAPD;AAQD,CATM;AAWP,AAAO,IAAMmH,kBAAgB,GAAG,SAAnBA,gBAAmB,CAAA/E,UAAU,EAAI;AAC5C,SAAO,UAAAiH,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPzB,MAAAA,IAAI,EAAE3C,eADC;AAEPhK,MAAAA,OAAO,EAAEmH;AAFF,KAAD,CAAR;AAIAiH,IAAAA,QAAQ,CAACG,YAAY,EAAb,CAAR;AACD,GAND;AAOD,CARM;;IC3NcsB;;;;;AACnB,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;;AADiB,UAQnBC,SARmB,GAQP,UAAA1N,MAAM,EAAI;AACpB,UAAMK,OAAO,GAAGL,MAAM,CAAC,CAAD,CAAtB;AACA,UAAI9B,KAAK,GAAG8B,MAAM,CAAC,CAAD,CAAlB;AACA,UAAI2N,aAAa,GAAG,CAACtN,OAAD,EAAUnC,KAAV,CAApB;AACA,UAAMqC,QAAQ,GAAGP,MAAM,CAACI,MAAP,KAAkB,CAAnC;;AACA,UAAIG,QAAJ,EAAc;AAAA,8BACoB,MAAKmN,SAAL,CAAe1N,MAAM,CAAC,CAAD,CAArB,CADpB;AAAA,YACJ4N,KADI,mBACJA,KADI;AAAA,YACGC,YADH,mBACGA,YADH;;AAEZ3P,QAAAA,KAAK,aAAMA,KAAN,cAAe0P,KAAf,CAAL;AACAD,QAAAA,aAAa,CAAC7H,IAAd,CAAmB+H,YAAnB;AACD;;AACD,aAAO;AACLD,QAAAA,KAAK,EAAE1P,KADF;AAEL2P,QAAAA,YAAY,EAAEF;AAFT,OAAP;AAID,KAtBkB;;AAAA,UAwBnBG,cAxBmB,GAwBF,UAACrN,OAAD,EAAUsN,kBAAV,EAAiC;AAChD,aAAOtN,OAAO,CAAC3C,GAAR,CAAY,UAACkC,MAAD,EAASgO,KAAT,EAAmB;AAAA,+BACJ,MAAKN,SAAL,CAAe1N,MAAf,CADI;AAAA,YAC5B4N,KAD4B,oBAC5BA,KAD4B;AAAA,YACrBC,YADqB,oBACrBA,YADqB;;AAEpC,eACE,oBAAC,KAAD;AACE,UAAA,KAAK,MADP;AAEE,UAAA,GAAG,EAAEG,KAFP;AAGE,UAAA,OAAO,EAAE;AAAA,mBAAMD,kBAAkB,CAACF,YAAD,CAAxB;AAAA;AAHX,WAKGD,KALH,EAME,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC;AAAX,UANF,CADF;AAUD,OAZM,CAAP;AAaD,KAtCkB;;AAEjB,UAAK3E,kBAAL,GAA0BwE,KAAK,CAACxE,kBAAhC;AACA,UAAKgF,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AACA,UAAKI,mBAAL,GACET,KAAK,CAACS,mBAAN,IAA6B,MAAKC,oBADpC;AAJiB;AAMlB;;;;6BAkCQ;AACP,UAAM1N,OAAO,GAAG,KAAKgN,KAAL,CAAWhN,OAA3B;AACA,aAAOA,OAAO,CAACL,MAAR,GACH,KAAK6N,aAAL,CAAmBxN,OAAnB,EAA4B,KAAKwI,kBAAjC,CADG,GAEH,IAFJ;AAGD;;;;EA9CwCmF;AAuD3CZ,aAAa,CAACa,YAAd,GAA6B;AAC3BJ,EAAAA,aAAa,EAAE;AADY,CAA7B;;ACnEA;;;;;;;AAQA;AAIA,IAAMvC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtC9C,IAAAA,kBAAkB,EAAE,4BAAAjJ,MAAM;AAAA,aAAI+L,QAAQ,CAAC9C,oBAAkB,CAACjJ,MAAD,CAAnB,CAAZ;AAAA;AADY,GAAL;AAAA,CAAnC;;AAIA,IAAawN,eAAa,GAAG5B,eAAO,CAClC,UAAAxB,KAAK;AAAA,SAAK;AACR3J,IAAAA,OAAO,EAAE2J,KAAK,CAAC9M,KAAN,CAAYmD;AADb,GAAL;AAAA,CAD6B,EAIlCiL,kBAJkC,CAAP,CAK3B4C,aAL2B,CAAtB;;ICJcC;;;;;AACnB,mCAAYd,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,iGAAMA,KAAN;;AADiB,UAYnBe,WAZmB,GAYL,UAACnO,OAAD,EAAUnC,KAAV,EAAiBuQ,eAAjB,EAAqC;AACjD;AACA,aACEA,eAAe,CAACzO,MAAhB,CACE,UAAAA,MAAM;AAAA,eAAIA,MAAM,CAAC,CAAD,CAAN,KAAcK,OAAd,IAAyBL,MAAM,CAAC,CAAD,CAAN,KAAc9B,KAA3C;AAAA,OADR,EAEEkC,MAFF,IAEY,CAHd;AAKD,KAnBkB;;AAAA,UAqBnBsO,eArBmB,GAqBD,UAACC,MAAD,EAASF,eAAT,EAA6B;AAC7C,UAAMG,mBAAmB,GACvB,MAAKC,QAAL,IAAiB,MAAKA,QAAL,CAAc,SAAd,KAA4BF,MAD/C;AAEA,UAAIG,oBAAoB,GAAG,EAA3B;;AACA,UAAIF,mBAAJ,EAAyB;AACvB,YAAMG,YAAY,GAAGJ,MAAM,CAAC,MAAKE,QAAL,CAAc,SAAd,CAAD,CAAN,CAAiC,SAAjC,CAArB;AACAJ,QAAAA,eAAe,CAAC/N,OAAhB,CAAwB,UAAAV,MAAM,EAAI;AAChC,cAAMgP,iBAAiB,GAAGhP,MAAM,CAAC,CAAD,CAAN,KAAc,MAAKK,OAA7C;AACA,cAAM4O,WAAW,GAAGjP,MAAM,CAAC,CAAD,CAAN,KAAc2O,MAAM,CAACtK,GAAzC;AACA,cAAM9D,QAAQ,GAAGP,MAAM,CAACI,MAAP,KAAkB,CAAnC;;AACA,cAAI4O,iBAAiB,IAAIC,WAArB,IAAoC1O,QAAxC,EAAkD;AAChDuO,YAAAA,oBAAoB,CAAChJ,IAArB,CAA0B9F,MAAM,CAAC,CAAD,CAAhC;AACD;AACF,SAPD;;AAQA,YAAMkP,eAAe,GAAG,SAAlBA,eAAkB,CAAAhR,KAAK,EAAI;AAC/B,gBAAKgR,eAAL,CAAqB,CAAC,MAAK7O,OAAN,EAAesO,MAAM,CAACtK,GAAtB,EAA2BnG,KAA3B,CAArB;AACD,SAFD;;AAGA,eACE,oBAAC,uBAAD;AACE,UAAA,OAAO,EAAE6Q,YADX;AAEE,UAAA,eAAe,EAAED,oBAFnB;AAGE,UAAA,KAAK,EAAE,MAAKD,QAAL,CAAcM,KAHvB;AAIE,UAAA,OAAO,EAAE,MAAKN,QAAL,CAAcxO,OAJzB;AAKE,UAAA,QAAQ,EAAE,MAAKwO,QAAL,CAAcA,QAL1B;AAME,UAAA,eAAe,EAAEK,eANnB;AAOE,UAAA,sBAAsB,EAAE,MAAKE,sBAP/B;AAQE,UAAA,kBAAkB,EAAE,MAAKC;AAR3B,UADF;AAYD;;AACD,aAAO,IAAP;AACD,KApDkB;;AAAA,UAsDnBC,mBAtDmB,GAsDG,UACpBX,MADoB,EAEpBY,UAFoB,EAGpBL,eAHoB,EAIpBR,eAJoB,EAKjB;AACH,UAAMd,KAAK,aAAMe,MAAM,CAACtK,GAAb,eAAqBsK,MAAM,CAACa,SAA5B,MAAX;AACA,UAAMC,YAAY,GAAGf,eAAe,CAACC,MAAD,CAApC;AACA,aACE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,GAAG,EAAEA,MAAM,CAACtK;AAAvB,SACE,oBAAC,QAAD;AACE,QAAA,KAAK,EAAEuJ,KADT;AAEE,QAAA,KAAK,EAAEe,MAAM,CAACtK,GAFhB;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM6K,eAAe,CAACP,MAAM,CAACtK,GAAR,CAArB;AAAA,SAHX;AAIE,QAAA,OAAO,EAAEkL;AAJX,QADF,EAOGE,YAPH,CADF;AAWD,KAzEkB;;AAAA,UA2EnBC,uBA3EmB,GA2EO,UAAAC,SAAS;AAAA,aAAI,oBAAC,IAAD,QAAOA,SAAP,CAAJ;AAAA,KA3EhB;;AAEjB,UAAKR,KAAL,GAAa1B,KAAK,CAAC0B,KAAnB;AACA,UAAK9O,OAAL,GAAeoN,KAAK,CAACpN,OAArB;AACA,UAAKwO,QAAL,GAAgBpB,KAAK,CAACoB,QAAtB;AACA,UAAKK,eAAL,GAAuBzB,KAAK,CAACyB,eAA7B;AACA,UAAKE,sBAAL,GACE3B,KAAK,CAAC2B,sBAAN,IAAgC,MAAKM,uBADvC;AAEA,UAAKL,kBAAL,GACE5B,KAAK,CAAC4B,kBAAN,IAA4B,MAAKC,mBADnC;AARiB;AAUlB;;;;6BAmEQ;AAAA;;AAAA,wBAC8B,KAAK7B,KADnC;AAAA,UACCmC,OADD,eACCA,OADD;AAAA,UACUnB,eADV,eACUA,eADV;AAGP,UAAMkB,SAAS,GAAGC,OAAO,CAAC9R,GAAR,CAAY,UAAA6Q,MAAM,EAAI;AACtC,YAAMY,UAAU,GAAG,MAAI,CAACf,WAAL,CACjB,MAAI,CAACnO,OADY,EAEjBsO,MAAM,CAACtK,GAFU,EAGjBoK,eAHiB,CAAnB;;AAKA,YAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAAAhR,KAAK,EAAI;AAC/B,UAAA,MAAI,CAACgR,eAAL,CAAqB,CAAC,MAAI,CAAC7O,OAAN,EAAenC,KAAf,CAArB;AACD,SAFD;;AAGA,YAAMwQ,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,MAAM;AAAA,iBAC5B,MAAI,CAACD,eAAL,CAAqBC,MAArB,EAA6BF,eAA7B,CAD4B;AAAA,SAA9B;;AAEA,eAAO,MAAI,CAACY,kBAAL,CACLV,MADK,EAELY,UAFK,EAGLL,eAHK,EAILR,eAJK,CAAP;AAMD,OAjBiB,CAAlB;AAkBA,aAAO,KAAKU,sBAAL,CAA4BO,SAA5B,CAAP;AACD;;;;EApGkDvB;AAsHrDG,uBAAuB,CAACF,YAAxB,GAAuC;AACrCe,EAAAA,sBAAsB,EAAE,IADa;AAErCC,EAAAA,kBAAkB,EAAE;AAFiB,CAAvC;;ICpHqBQ;;;;;AACnB,6BAAYpC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,2FAAMA,KAAN;;AADiB,UAQnByB,eARmB,GAQD,UAAAlP,MAAM,EAAI;AAC1B,YAAKiJ,kBAAL,CAAwBjJ,MAAxB;AACD,KAVkB;;AAAA,UAYnB8P,aAZmB,GAYH,UAACC,aAAD,EAAgBtB,eAAhB,EAAoC;AAClD,aACE,oBAAC,uBAAD;AACE,QAAA,OAAO,EAAEsB,aADX;AAEE,QAAA,eAAe,EAAEtB,eAFnB;AAGE,QAAA,KAAK,EAAE,MAAKuB,GAAL,CAASb,KAHlB;AAIE,QAAA,OAAO,EAAE,MAAKa,GAAL,CAAS3P,OAJpB;AAKE,QAAA,QAAQ,EAAE,MAAK2P,GAAL,CAASnB,QALrB;AAME,QAAA,eAAe,EAAE,MAAKK,eANxB;AAOE,QAAA,sBAAsB,EAAE,MAAKzB,KAAL,CAAWwC,4BAPrC;AAQE,QAAA,kBAAkB,EAAE,MAAKxC,KAAL,CAAW4B;AARjC,QADF;AAYD,KAzBkB;;AAAA,UA2BnBvB,cA3BmB,GA2BF,UAACoC,KAAD,EAAQC,YAAR,EAAyB;AACxC,aAAOA,YAAY,GACjB,oBAAC,IAAD,QACE,oBAAC,IAAD,CAAM,OAAN,QACE,oBAAC,IAAD,CAAM,MAAN,QAAcD,KAAd,CADF,CADF,EAIE,oBAAC,IAAD,CAAM,OAAN,QAAeC,YAAf,CAJF,CADiB,GAOf,IAPJ;AAQD,KApCkB;;AAAA,UAsCnBC,mBAtCmB,GAsCG,UAAAC,oBAAoB,EAAI;AAC5C;AACA,aAAOA,oBAAoB,CAACrQ,MAArB,CACL,UAAAA,MAAM;AAAA,eAAIA,MAAM,CAAC,CAAD,CAAN,KAAc,MAAKgQ,GAAL,CAAS3P,OAA3B;AAAA,OADD,CAAP;AAGD,KA3CkB;;AAAA,UA6CnBiQ,iBA7CmB,GA6CC,UAAAC,mBAAmB,EAAI;AACzC;AACA,UAAMC,QAAQ,GAAGlR,MAAI,CAACiR,mBAAD,EAAsB,MAAKP,GAAL,CAAS3P,OAA/B,EAAwC,EAAxC,CAArB;;AACA,aAAO,aAAamQ,QAAb,GAAwBA,QAAQ,CAAC,SAAD,CAAhC,GAA8C,EAArD;AACD,KAjDkB;;AAEjB,UAAKN,KAAL,GAAazC,KAAK,CAACyC,KAAnB;AACA,UAAKF,GAAL,GAAWvC,KAAK,CAACuC,GAAjB;AACA,UAAK/G,kBAAL,GAA0BwE,KAAK,CAACxE,kBAAhC;AACA,UAAKgF,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AALiB;AAMlB;;;;6BA6CQ;AAAA,wBAC+C,KAAKL,KADpD;AAAA,UACC4C,oBADD,eACCA,oBADD;AAAA,UACuBE,mBADvB,eACuBA,mBADvB;;AAEP,UAAM9B,eAAe,GAAG,KAAK2B,mBAAL,CAAyBC,oBAAzB,CAAxB;;AACA,UAAMN,aAAa,GAAG,KAAKO,iBAAL,CAAuBC,mBAAvB,CAAtB;;AACA,UAAMZ,SAAS,GAAGI,aAAa,CAAC3P,MAAd,GACd,KAAK0P,aAAL,CAAmBC,aAAnB,EAAkCtB,eAAlC,CADc,GAEd,IAFJ;AAGA,aAAO,KAAKR,aAAL,CAAmB,KAAKiC,KAAxB,EAA+BP,SAA/B,CAAP;AACD;;;;EA5D4CvB;AA8E/CyB,iBAAiB,CAACxB,YAAlB,GAAiC;AAC/BJ,EAAAA,aAAa,EAAE,IADgB;AAE/BgC,EAAAA,4BAA4B,EAAE,IAFC;AAG/BZ,EAAAA,kBAAkB,EAAE;AAHW,CAAjC;;AC5FA;;;;;;;AAQA;AAIA,IAAM3D,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtC9C,IAAAA,kBAAkB,EAAE,4BAAAjJ,MAAM;AAAA,aAAI+L,QAAQ,CAAC9C,oBAAkB,CAACjJ,MAAD,CAAnB,CAAZ;AAAA;AADY,GAAL;AAAA,CAAnC;;AAIA,IAAa6P,mBAAiB,GAAGjE,eAAO,CACtC,UAAAxB,KAAK;AAAA,SAAK;AACRiG,IAAAA,oBAAoB,EAAEjG,KAAK,CAAC9M,KAAN,CAAYmD,OAD1B;AAER8P,IAAAA,mBAAmB,EAAEnG,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBjB;AAFhC,GAAL;AAAA,CADiC,EAKtC8N,oBALsC,CAAP,CAM/B+E,iBAN+B,CAA1B;;AChBP,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;AAC/B,EAAE,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;AACjC,EAAE,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;AAC9B;AACA,EAAE,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;AAC1D;AACA,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACvE,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;AAC1B;AACA,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;AAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;AACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AAChD,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC9B,KAAK;AACL,GAAG,MAAM;AACT,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC5B,GAAG;AACH;AACA,EAAE,IAAI,KAAK,CAAC,UAAU,EAAE;AACxB,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;AACnC,GAAG,MAAM;AACT,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;AACpD,GAAG;AACH,CAAC;;;;;ICXKC;;;;;AACJ,iCAAYjD,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+FAAMA,KAAN;;AADiB,UAmBnBkD,yBAnBmB,GAmBS,UAAA1O,gBAAgB,EAAI;AAC9C,UAAIA,gBAAgB,CAAC7B,MAAjB,IAA2B,MAAKwQ,sBAApC,EAA4D;AAC1D,cAAKxD,iBAAL,CAAuBnL,gBAAvB;AACD;AACF,KAvBkB;;AAAA,UAyBnB4O,aAzBmB;AAAA;AAAA;AAAA;AAAA;AAAA,uBAyBH,iBAAM/T,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACR,MAAKgU,QAAL,CAAc;AAClBC,kBAAAA,YAAY,EAAEjU;AADI,iBAAd,CADQ;;AAAA;AAKd,sBAAKkU,wBAAL,CAA8B,MAAK5G,KAAL,CAAW2G,YAAzC;;AALc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzBG;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAiCnBE,aAjCmB,GAiCH,YAAM;AACpB,YAAKxE,iBAAL,CAAuB,MAAKrC,KAAL,CAAW2G,YAAlC;AACD,KAnCkB;;AAEjB,UAAKtE,iBAAL,GAAyB,MAAKgB,KAAL,CAAWhB,iBAApC;AACA,UAAKW,iBAAL,GAAyB,MAAKK,KAAL,CAAWyD,QAAX,GACrBC,CAAC,CAACD,QAAF,CAAW,MAAKzD,KAAL,CAAWL,iBAAtB,EAAyC,MAAKK,KAAL,CAAW2D,YAApD,EAAkE;AAChEC,MAAAA,OAAO,EAAE;AADuD,KAAlE,CADqB,GAIrB,MAAK5D,KAAL,CAAWL,iBAJf;AAKA,UAAKG,gBAAL,GAAwB,MAAKE,KAAL,CAAWF,gBAAnC;AACA,UAAKqD,sBAAL,GAA8B,MAAKnD,KAAL,CAAWmD,sBAAzC;AACA,UAAKxG,KAAL,GAAa;AACX2G,MAAAA,YAAY,EAAE,MAAKtD,KAAL,CAAW3Q,WAAX,IAA0B;AAD7B,KAAb;AAGA,UAAKmR,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AACA,UAAKwD,iBAAL,GAAyB7D,KAAK,CAAC6D,iBAAN,IAA2B,MAAKC,kBAAzD;AACA,UAAKP,wBAAL,GACEvD,KAAK,CAACuD,wBAAN,IAAkC,MAAKL,yBADzC;AAfiB;AAiBlB;;;;uCAoBkBa,kBAAkB;AAAA;;AACnC,UAAMC,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAG,kBAAMC,UAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACrB,MAAI,CAACZ,QAAL,CAAc;AAClBC,oBAAAA,YAAY,EAAEW;AADI,mBAAd,CADqB;;AAAA;AAI3B,kBAAA,MAAI,CAACnE,gBAAL;;AACA,kBAAA,MAAI,CAAC0D,aAAL;;AAL2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAH;;AAAA,wBAApBQ,oBAAoB;AAAA;AAAA;AAAA,SAA1B;;AAQA,UAAID,gBAAgB,CAACpR,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,eAAO,IAAP;AACD;;AAED,aACE,gCACGoR,gBAAgB,CAAC1T,GAAjB,CAAqB,UAAA6T,IAAI;AAAA,eACxB;AAAI,UAAA,OAAO,EAAE;AAAA,mBAAMF,oBAAoB,CAACE,IAAD,CAA1B;AAAA,WAAb;AAA+C,UAAA,GAAG,EAAEA;AAApD,WACGA,IADH,CADwB;AAAA,OAAzB,CADH,CADF;AASD;;;mCAGCC,aACA9U,aACA0U,kBACAX,eACAI,eACA;AACA,UAAMY,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAQC,KAAR,EAAkB;AACzCd,QAAAA,aAAa;AACd,OAFD;;AAGA,UAAMe,UAAU,GAAG,SAAbA,UAAa,CAACF,KAAD,EAAQC,KAAR,EAAkB;AACnC,YAAID,KAAK,CAACzN,GAAN,KAAc,OAAlB,EAA2B;AACzB4M,UAAAA,aAAa;AACd;AACF,OAJD;;AAMA,aACE;AAAK,QAAA,SAAS,EAAC;AAAf,SACE,oBAAC,KAAD;AACE,QAAA,MAAM,EAAE;AACNgB,UAAAA,OAAO,EAAE,QADH;AAENC,UAAAA,OAAO,EAAEL;AAFH,SADV;AAKE,QAAA,KAAK,MALP;AAME,QAAA,WAAW,EAAED,WANf;AAOE,QAAA,QAAQ,EAAE,kBAACE,KAAD,SAAsB;AAAA,cAAZ5T,KAAY,SAAZA,KAAY;AAC9B2S,UAAAA,aAAa,CAAC3S,KAAD,CAAb;AACD,SATH;AAUE,QAAA,KAAK,EAAEpB,WAVT;AAWE,QAAA,UAAU,EAAEkV;AAXd,QADF,EAcG,KAAKV,iBAAL,CAAuBE,gBAAvB,CAdH,CADF;AAkBD;;;6BAEQ;AAAA,wBAC8B,KAAK/D,KADnC;AAAA,UACCmE,WADD,eACCA,WADD;AAAA,UACclP,WADd,eACcA,WADd;AAEP,aAAO,KAAKuL,aAAL,CACL2D,WADK,EAEL,KAAKxH,KAAL,CAAW2G,YAFN,EAGLrO,WAHK,EAIL,KAAKmO,aAJA,EAKL,KAAKI,aALA,CAAP;AAOD;;;;EA3GiC7C;;AA4HpCsC,qBAAqB,CAACrC,YAAtB,GAAqC;AACnCJ,EAAAA,aAAa,EAAE,IADoB;AAEnCqD,EAAAA,iBAAiB,EAAE,IAFgB;AAGnCN,EAAAA,wBAAwB,EAAE,IAHS;AAInCY,EAAAA,WAAW,EAAE,gBAJsB;AAKnChB,EAAAA,sBAAsB,EAAE;AALW,CAArC;;AAQA,IAAMuB,iCAAiC,GAAG,SAApCA,iCAAoC,CAAA1E,KAAK;AAAA,SAC7C,oBAAC,qBAAD;AAAuB,IAAA,GAAG,EAAEA,KAAK,CAAC3Q;AAAlC,KAAmD2Q,KAAnD,EAD6C;AAAA,CAA/C;;AClJA;;;;;;;AAQA;AAQA,IAAM/B,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCU,IAAAA,iBAAiB,EAAE,6BAAAnP,KAAK;AAAA,aAAIyO,QAAQ,CAACU,iBAAiB,CAACnP,KAAD,CAAlB,CAAZ;AAAA,KADc;AAEtC8P,IAAAA,iBAAiB,EAAE,6BAAA9P,KAAK;AAAA,aAAIyO,QAAQ,CAACqB,iBAAiB,CAAC9P,KAAD,CAAlB,CAAZ;AAAA,KAFc;AAGtCiQ,IAAAA,gBAAgB,EAAE;AAAA,aAAMxB,QAAQ,CAACwB,gBAAgB,EAAjB,CAAd;AAAA;AAHoB,GAAL;AAAA,CAAnC;;AAMA,IAAM9B,eAAe,GAAG,SAAlBA,eAAkB,CAAArB,KAAK;AAAA,SAAK;AAChCtN,IAAAA,WAAW,EAAEsN,KAAK,CAAC9M,KAAN,CAAYR,WADO;AAEhC4F,IAAAA,WAAW,EAAE0H,KAAK,CAAC9M,KAAN,CAAYoF;AAFO,GAAL;AAAA,CAA7B;;AAKA,IAAagO,uBAAqB,GAAG9E,eAAO,CAC1CH,eAD0C,EAE1CC,oBAF0C,CAAP,CAGnC0G,iCAHmC,CAA9B;;IChBcC;;;;;;;;;;;;;6BACV;AAAA,UACCC,SADD,GACe,KAAK7E,KADpB,CACC6E,SADD;AAEP,aAAOA,SAAS,GAAG,oBAAC,QAAD,QAAW,KAAK7E,KAAL,CAAW8E,QAAtB,CAAH,GAAgD,IAAhE;AACD;;;;EAJuCnE;AAW1CiE,YAAY,CAAChE,YAAb,GAA4B;AAC1BiE,EAAAA,SAAS,EAAE;AADe,CAA5B;;ICTqBE;;;;;AACnB,iBAAY/E,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;AACA,UAAKQ,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AAFiB;AAGlB;;;;mCAEc2E,cAAc;AAC3B,aAAO,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAd,SAAuBA,YAAvB,CAAP;AACD;;;6BAEQ;AAAA,wBAC2B,KAAKhF,KADhC;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUkI,YADV,eACUA,YADV;AAEP,aACE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,CAAClI,OAAD,IAAYkI,YAAY,GAAG;AAApD,SACG,KAAKxE,aAAL,CAAmBwE,YAAnB,CADH,CADF;AAKD;;;;EAjBgCrE;AA0BnCoE,KAAK,CAACnE,YAAN,GAAqB;AACnBJ,EAAAA,aAAa,EAAE;AADI,CAArB;;ACvCA;;;;;;;AAQA,IAGauE,OAAK,GAAG5G,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AACrCG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADc;AAErCkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ;AAFI,GAAL;AAAA,CAAN,CAAP,CAGjByU,KAHiB,CAAd;;ICGcC;;;;;AACnB,wBAAYlF,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;;AADiB,UAMnBK,cANmB,GAMF,UAAChR,WAAD,EAAcoQ,UAAd;AAAA,aACf,oBAAC,OAAD;AAAS,QAAA,WAAW,MAApB;AAAqB,QAAA,SAAS,EAAC;AAA/B,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI;AAAZ,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QADF,sBADF,EAKE,qDAAqBpQ,WAArB,OALF,EAME,+BANF,EAOE,oBAAC,MAAD;AAAQ,QAAA,OAAO,MAAf;AAAgB,QAAA,OAAO,EAAE;AAAA,iBAAMoQ,UAAU,EAAhB;AAAA;AAAzB,uBAPF,CADe;AAAA,KANE;;AAEjB,UAAKA,UAAL,GAAkBO,KAAK,CAACP,UAAxB;AACA,UAAKe,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AAHiB;AAIlB;;;;6BAgBQ;AAAA,wBAC+C,KAAKL,KADpD;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUkI,YADV,eACUA,YADV;AAAA,UACwB1O,KADxB,eACwBA,KADxB;AAAA,UAC+BjH,WAD/B,eAC+BA,WAD/B;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAE,CAACyN,OAAD,IAAYnN,QAAQ,CAAC2G,KAAD,CAApB,IAA+B0O,YAAY,KAAK;AAD7D,SAGG,KAAKxE,aAAL,CAAmBnR,WAAnB,EAAgC,KAAKoQ,UAArC,CAHH,CADF;AAOD;;;;EA9BuCkB;AAyC1CuE,YAAY,CAACtE,YAAb,GAA4B;AAC1BvR,EAAAA,WAAW,EAAE,EADa;AAE1BmR,EAAAA,aAAa,EAAE;AAFW,CAA5B;;ACvDA;;;;;;;AAQA;AAIA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCmB,IAAAA,UAAU,EAAE;AAAA,aAAMnB,QAAQ,CAACmB,UAAU,EAAX,CAAd;AAAA;AAD0B,GAAL;AAAA,CAAnC;;AAGA,IAAayF,cAAY,GAAG/G,eAAO,CACjC,UAAAxB,KAAK;AAAA,SAAK;AACRG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADf;AAERkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFzB;AAGR8F,IAAAA,KAAK,EAAEqG,KAAK,CAACM,OAAN,CAAc3G,KAHb;AAIRjH,IAAAA,WAAW,EAAEsN,KAAK,CAAC9M,KAAN,CAAYR;AAJjB,GAAL;AAAA,CAD4B,EAOjC4O,oBAPiC,CAAP,CAQ1BkH,YAR0B,CAArB;;ICFcxT;;;;;AACnB,iBAAYqO,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAKnBK,cALmB,GAKF,UAAA/J,KAAK,EAAI;AACxB,aAAO,sFAAP;AACD,KAPkB;;AAEjB,UAAKkK,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AAFiB;AAGlB;;;;6BAMQ;AAAA,wBACoB,KAAKL,KADzB;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUxG,KADV,eACUA,KADV;AAEP,aACE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,CAACwG,OAAD,IAAY,CAACnN,QAAQ,CAAC2G,KAAD;AAA9C,SACE,oBAAC,QAAD,QAAW,KAAKkK,aAAL,CAAmBlK,KAAnB,CAAX,CADF,CADF;AAKD;;;;EAjBgCqK;AA0BnChP,OAAK,CAACiP,YAAN,GAAqB;AACnBJ,EAAAA,aAAa,EAAE;AADI,CAArB;;ACvCA;;;;;;;AAQA,IAGa7O,OAAK,GAAGwM,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AACrCG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADc;AAErCxG,IAAAA,KAAK,EAAEqG,KAAK,CAACM,OAAN,CAAc3G;AAFgB,GAAL;AAAA,CAAN,CAAP,CAGjB8O,OAHiB,CAAd;;ICEcC;;;;;AACnB,0BAAYrF,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,UAQnBK,cARmB,GAQF,UAACiF,aAAD,EAAgBC,cAAhB,EAAmC;AAClD,UAAMC,YAAY,GAAG,SAAfA,YAAe,CAACnB,KAAD,QAAqB;AAAA,YAAXoB,IAAW,QAAXA,IAAW;AACxCF,QAAAA,cAAc,CAACE,IAAD,CAAd;AACD,OAFD;;AAGA,aACE,oBAAC,IAAD;AAAM,QAAA,OAAO,MAAb;AAAc,QAAA,IAAI;AAAlB,SACE,oBAAC,IAAD,CAAM,IAAN;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,MAAM,EAAEH,aAAa,KAAK,MAF5B;AAGE,QAAA,OAAO,EAAEE;AAHX,SAKE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QALF,CADF,EAQE,oBAAC,IAAD,CAAM,IAAN;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,MAAM,EAAEF,aAAa,KAAK,MAF5B;AAGE,QAAA,OAAO,EAAEE;AAHX,SAKE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QALF,CARF,CADF;AAkBD,KA9BkB;;AAAA,UAwCnBD,cAxCmB,GAwCF,UAAAG,UAAU,EAAI;AAC7B,YAAKC,YAAL,CAAkBD,UAAlB;AACD,KA1CkB;;AAEjB,UAAKE,YAAL,GAAoB,MAAK5F,KAAL,CAAW6F,aAA/B;AACA,UAAKF,YAAL,GAAoB3F,KAAK,CAAC2F,YAA1B;AACA,UAAKvH,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AALiB;AAMlB;;;;wCA0BmB;AAClB,UAAI,KAAKL,KAAL,CAAWsF,aAAX,KAA6B,IAAjC,EAAuC;AACrC,aAAKlH,eAAL,CAAqB;AACnB3E,UAAAA,MAAM,EAAE,KAAKmM;AADM,SAArB;AAGD;AACF;;;6BAMQ;AAAA,wBAC0C,KAAK5F,KAD/C;AAAA,UACCsF,aADD,eACCA,aADD;AAAA,UACgBxI,OADhB,eACgBA,OADhB;AAAA,UACyBkI,YADzB,eACyBA,YADzB;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAEM,aAAa,KAAK,IAAlB,IAA0B,CAACxI,OAA3B,IAAsCkI,YAAY,GAAG;AADlE,SAGG,KAAKxE,aAAL,CAAmB8E,aAAnB,EAAkC,KAAKC,cAAvC,CAHH,CADF;AAOD;;;;EAtDyC5E;AAmE5C0E,cAAc,CAACzE,YAAf,GAA8B;AAC5BiF,EAAAA,aAAa,EAAE,MADa;AAE5BP,EAAAA,aAAa,EAAE,IAFa;AAG5B9E,EAAAA,aAAa,EAAE;AAHa,CAA9B;;AChFA;;;;;;;AAQA;AAIA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCqH,IAAAA,YAAY,EAAE,sBAAAlM,MAAM;AAAA,aAAI6E,QAAQ,CAACkB,mBAAmB,CAAC/F,MAAD,CAApB,CAAZ;AAAA,KADkB;AAEtC2E,IAAAA,eAAe,EAAE,2BAAAC,YAAY;AAAA,aAAIC,QAAQ,CAACF,eAAe,CAACC,YAAD,CAAhB,CAAZ;AAAA;AAFS,GAAL;AAAA,CAAnC;;AAIA,IAAagH,gBAAc,GAAGlH,eAAO,CACnC,UAAAxB,KAAK;AAAA,SAAK;AACRG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADf;AAERwI,IAAAA,aAAa,EAAE3I,KAAK,CAAC9M,KAAN,CAAY4J,MAFnB;AAGRuL,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ;AAHzB,GAAL;AAAA,CAD8B,EAMnCyN,oBANmC,CAAP,CAO5B6H,cAP4B,CAAvB;;ICJcC;;;;;AACnB,yBAAY/F,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;;AADiB,UAKnBK,cALmB,GAKF;AAAA,aAAM,oBAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,IAAI,EAAC,MAApB;AAA2B,QAAA,MAAM,EAAC;AAAlC,QAAN;AAAA,KALE;;AAEjB,UAAKG,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AAFiB;AAGlB;;;;6BAIQ;AACP,aAAO,KAAKL,KAAL,CAAWlD,OAAX,GAAqB,KAAK0D,aAAL,EAArB,GAA4C,KAAKR,KAAL,CAAW8E,QAA9D;AACD;;;;EAVwCnE;AAkB3CoF,aAAa,CAACnF,YAAd,GAA6B;AAC3BJ,EAAAA,aAAa,EAAE;AADY,CAA7B;;AC9BA;;;;;;;AAQA,IAGauF,eAAa,GAAG5H,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AAC7CG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH;AADsB,GAAL;AAAA,CAAN,CAAP,CAEzBkJ,aAFyB,CAAtB;;ICEcC;;;;;AACnB,sBAAYjG,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;;AADiB,UAgBnBkG,YAhBmB,GAgBJ,UAAAC,UAAU,EAAI;AAC3B,UAAIA,UAAU,KAAK,MAAKnG,KAAL,CAAWoG,WAA9B,EAA2C;;AAC3C,YAAKC,eAAL,CAAqBF,UAArB;AACD,KAnBkB;;AAAA,UAqBnB9F,cArBmB,GAqBF,UACf+F,WADe,EAEfE,WAFe,EAGftB,YAHe,EAIfkB,YAJe,EAKfK,OALe,EAOZ;AACH,UAAMC,KAAK,GAAGC,IAAI,CAACC,IAAL,CAAU1B,YAAY,GAAGsB,WAAzB,CAAd;AACA,UAAMK,kBAAkB,GAAGJ,OAAO,CAACI,kBAAnC;AACA,UAAMC,iBAAiB,GAAGL,OAAO,CAACK,iBAAlC;AACA,UAAMC,YAAY,GAAGN,OAAO,CAACM,YAA7B;AACA,UAAMC,SAAS,GAAGP,OAAO,CAACO,SAA1B;AACA,UAAMC,QAAQ,GAAGR,OAAO,CAACQ,QAAzB;AACA,UAAMC,QAAQ,GAAGT,OAAO,CAACS,QAAzB;AACA,UAAMC,QAAQ,GAAGV,OAAO,CAACU,QAAzB;;AACA,UAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAC7C,KAAD,QAA2B;AAAA,YAAjB8B,UAAiB,QAAjBA,UAAiB;AAC/CD,QAAAA,YAAY,CAACC,UAAD,CAAZ;AACD,OAFD;;AATG,wCADAgB,WACA;AADAA,QAAAA,WACA;AAAA;;AAaH,aACE,oBAACC,YAAD;AACE,QAAA,UAAU,EAAEhB,WADd;AAEE,QAAA,UAAU,EAAEI,KAFd;AAGE,QAAA,YAAY,EAAEU,aAHhB;AAIE,QAAA,aAAa,EAAEP,kBAJjB;AAKE,QAAA,YAAY,EAAEC,iBALhB;AAME,QAAA,YAAY,EAAEC,YAAY,GAAGlW,SAAH,GAAe,IAN3C;AAOE,QAAA,SAAS,EAAEmW,SAAS,GAAGnW,SAAH,GAAe,IAPrC;AAQE,QAAA,QAAQ,EAAEoW,QAAQ,GAAGpW,SAAH,GAAe,IARnC;AASE,QAAA,QAAQ,EAAEqW,QAAQ,GAAGrW,SAAH,GAAe,IATnC;AAUE,QAAA,QAAQ,EAAEsW,QAAQ,GAAGtW,SAAH,GAAe;AAVnC,SAWMwW,WAXN,EADF;AAeD,KAxDkB;;AAEjB,UAAKvB,YAAL,GAAoB5F,KAAK,CAAC4F,YAA1B;AACA,UAAKS,eAAL,GAAuBrG,KAAK,CAACqG,eAA7B;AACA,UAAKjI,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AALiB;AAMlB;;;;wCAEmB;AAClB,UAAI,KAAKL,KAAL,CAAWoG,WAAX,KAA2B,CAAC,CAAhC,EAAmC;AACjC,aAAKhI,eAAL,CAAqB;AACnB5O,UAAAA,IAAI,EAAE,KAAKoW;AADQ,SAArB;AAGD;AACF;;;6BA2CQ;AAAA,wBAOH,KAAK5F,KAPF;AAAA,UAELlD,OAFK,eAELA,OAFK;AAAA,UAGLkI,YAHK,eAGLA,YAHK;AAAA,UAILoB,WAJK,eAILA,WAJK;AAAA,UAKLE,WALK,eAKLA,WALK;AAAA,UAMLC,OANK,eAMLA,OANK;AAQP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EACP,CAACzJ,OAAD,IAAYsJ,WAAW,GAAG,CAAC,CAA3B,IAAgCE,WAAW,GAAG,CAAC,CAA/C,IAAoDtB,YAAY,GAAG;AAFvE,SAKG,KAAKxE,aAAL,CACC4F,WADD,EAECE,WAFD,EAGCtB,YAHD,EAIC,KAAKkB,YAJN,EAKCK,OALD,CALH,CADF;AAeD;;;;EAjFqC5F;AAsGxCsF,UAAU,CAACrF,YAAX,GAA0B;AACxB2F,EAAAA,OAAO,EAAE;AACPI,IAAAA,kBAAkB,EAAE,CADb;AAEPC,IAAAA,iBAAiB,EAAE,CAFZ;AAGPC,IAAAA,YAAY,EAAE,IAHP;AAIPC,IAAAA,SAAS,EAAE,IAJJ;AAKPC,IAAAA,QAAQ,EAAE,IALH;AAMPC,IAAAA,QAAQ,EAAE,IANH;AAOPC,IAAAA,QAAQ,EAAE;AAPH,GADe;AAUxBrB,EAAAA,YAAY,EAAE,EAVU;AAWxBpF,EAAAA,aAAa,EAAE;AAXS,CAA1B;;ACnHA;;;;;;;AAQA;AAOA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtC+H,IAAAA,eAAe,EAAE,yBAAA7W,IAAI;AAAA,aAAI8O,QAAQ,CAACgB,yBAAyB,CAAC9P,IAAD,CAA1B,CAAZ;AAAA,KADiB;AAEtC4O,IAAAA,eAAe,EAAE,2BAAA3N,KAAK;AAAA,aAAI6N,QAAQ,CAACF,eAAe,CAAC3N,KAAD,CAAhB,CAAZ;AAAA;AAFgB,GAAL;AAAA,CAAnC;;AAKA,IAAawV,YAAU,GAAG9H,eAAO,CAC/B,UAAAxB,KAAK;AAAA,SAAK;AACRyJ,IAAAA,WAAW,EAAEzJ,KAAK,CAAC9M,KAAN,CAAYL,IADjB;AAER8W,IAAAA,WAAW,EAAE3J,KAAK,CAAC9M,KAAN,CAAYJ,IAFjB;AAGRqN,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OAHf;AAIRkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ;AAJzB,GAAL;AAAA,CAD0B,EAO/ByN,oBAP+B,CAAP,CAQxBoJ,UARwB,CAAnB;;ICTcC;;;;;AACnB,qBAAYtH,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAYnB5D,gBAZmB,GAYA,UAAAvM,KAAK;AAAA,aAAI,MAAKmQ,KAAL,CAAW5D,gBAAX,CAA4BvM,KAA5B,CAAJ;AAAA,KAZL;;AAAA,UAcnB0X,cAdmB,GAcF,gBAAyB;AAAA,UAAdrX,OAAc,QAAtBsX,MAAsB;AACxC,UAAIC,WAAW,GAAGvX,OAAO,CAACwX,GAAR,IAAe,MAAKA,GAAtC;;AACA,UAAID,WAAW,KAAK,MAAKC,GAAzB,EAA8B;AAC5B,cAAKtL,gBAAL,CAAsBlM,OAAO,CAACyX,YAA9B;AACD;AACF,KAnBkB;;AAEjB,UAAKD,GAAL,GAAW1H,KAAK,CAAC0H,GAAjB;AACA,UAAKlJ,YAAL,GAAoBwB,KAAK,CAACxB,YAA1B;AACA,UAAKoJ,aAAL,GAAqB5H,KAAK,CAAC4H,aAA3B;AACA,UAAKC,oBAAL,GAA4B7H,KAAK,CAAC6H,oBAAlC;AACA,UAAKtJ,gBAAL,GAAwByB,KAAK,CAACzB,gBAA9B;AACA,UAAKI,iCAAL,GACEqB,KAAK,CAACrB,iCADR;AAEA,UAAKmJ,6BAAL,GAAqC9H,KAAK,CAAC8H,6BAA3C;AATiB;AAUlB;;;;wCAWmB;AAAA;;AAClB,UAAI,KAAKF,aAAT,EAAwB;AACtB,aAAKG,eAAL,GAAuB,KAAKH,aAAL,CAAmB,YAAM;AAC9C,UAAA,MAAI,CAACjJ,iCAAL;AACD,SAFsB,CAAvB;AAGD;;AAED,UAAI,KAAKkJ,oBAAT,EAA+B;AAC7BxS,QAAAA,MAAM,CAAC2S,gBAAP,CAAwB,cAAxB,EAAwC,KAAKT,cAA7C;AACD;;AAEDlS,MAAAA,MAAM,CAAC4S,UAAP,GAAoB,YAAM;AACxB,QAAA,MAAI,CAACH,6BAAL;AACD,OAFD;;AAIA,WAAKvJ,gBAAL,CAAsB,KAAKC,YAA3B;AACD;;;6BAEQ;AACP,aAAO,oBAAC,QAAD,QAAW,KAAKwB,KAAL,CAAW8E,QAAtB,CAAP;AACD;;;2CAEsB;AACrB,WAAKiD,eAAL,IAAwB,KAAKA,eAAL,EAAxB;;AACA1S,MAAAA,MAAM,CAAC4S,UAAP,GAAoB,YAAM,EAA1B;;AACA5S,MAAAA,MAAM,CAAC6S,mBAAP,CAA2B,cAA3B,EAA2C,KAAKX,cAAhD;AACD;;;;EAhDoC5G;AA0DvC2G,SAAS,CAAC1G,YAAV,GAAyB;AACvBpC,EAAAA,YAAY,EAAE,IADS;AAEvBoJ,EAAAA,aAAa,EAAE;AAFQ,CAAzB;;ACrEA;;;;;;;AAQA;AASA,IAAM3J,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCC,IAAAA,gBAAgB,EAAE,4BAAAC,YAAY;AAAA,aAAIF,QAAQ,CAAC6J,gBAAiB,CAAC3J,YAAD,CAAlB,CAAZ;AAAA,KADQ;AAEtCG,IAAAA,iCAAiC,EAAE;AAAA,aACjCL,QAAQ,CAACK,iCAAiC,EAAlC,CADyB;AAAA,KAFG;AAItCvC,IAAAA,gBAAgB,EAAE,0BAAA/E,UAAU;AAAA,aAAIiH,QAAQ,CAAClC,kBAAgB,CAAC/E,UAAD,CAAjB,CAAZ;AAAA,KAJU;AAKtCyQ,IAAAA,6BAA6B,EAAE;AAAA,aAC7BxJ,QAAQ,CAACG,YAAY,CAAC;AAAEC,QAAAA,0BAA0B,EAAE;AAA9B,OAAD,CAAb,CADqB;AAAA;AALO,GAAL;AAAA,CAAnC;;AASA,AAAO,IAAM4I,WAAS,GAAGnJ,eAAO,CAAC,IAAD,EAAOF,oBAAP,CAAP,CAAkCmK,SAAlC,CAAlB;;ICXMC,cAAb;AAAA;AAAA;AAAA;;AACE,0BAAYrI,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;AACA,QAAM5C,SAAS,GAAG;AAChBsC,MAAAA,SAAS,EAAEM,KAAK,CAACN,SADD;AAEhBG,MAAAA,aAAa,EAAEG,KAAK,CAACH,aAFL;AAGhBrC,MAAAA,aAAa,EAAEwC,KAAK,CAACxC,aAAN,CAAoB8K,OAApB,GACXtI,KAAK,CAACxC,aAAN,CAAoB+K,aAApB,IACA,IAAIxR,aAAJ,CAAkBiJ,KAAK,CAACxC,aAAN,CAAoBgL,cAAtC,CAFW,GAGX,IANY;AAOhBC,MAAAA,yBAAyB,EAAEzI,KAAK,CAACyI;AAPjB,KAAlB;AASA,UAAKb,aAAL,GAAqB5H,KAAK,CAAC1K,OAAN,GAAgB0K,KAAK,CAAC1K,OAAN,CAAcoT,MAA9B,GAAuC,IAA5D;AACA,UAAKC,KAAL,GAAaxL,cAAc,CAACC,SAAD,CAA3B;AACA,UAAKsK,GAAL,GAAW1H,KAAK,CAAC0H,GAAjB;AACA,UAAKG,oBAAL,GAA4B7H,KAAK,CAAC6H,oBAAlC;AAdiB;AAelB;;AAhBH;AAAA;AAAA,6BAkBW;AAAA,UACCrJ,YADD,GACkB,KAAKwB,KADvB,CACCxB,YADD;AAGP,aACE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,KAAKmK;AAAtB,SACE,oBAACrB,WAAD;AACE,QAAA,YAAY,EAAE9I,YADhB;AAEE,QAAA,aAAa,EAAE,KAAKoJ,aAFtB;AAGE,QAAA,GAAG,EAAE,KAAKF,GAHZ;AAIE,QAAA,oBAAoB,EAAE,KAAKG;AAJ7B,SAMG,KAAK7H,KAAL,CAAW8E,QANd,CADF,CADF;AAYD;AAjCH;;AAAA;AAAA,EAAoCnE,SAApC;AA2DA0H,cAAc,CAACzH,YAAf,GAA8B;AAC5Bf,EAAAA,aAAa,EAAE,IADa;AAE5BrC,EAAAA,aAAa,EAAE;AACb8K,IAAAA,OAAO,EAAE,IADI;AAEbE,IAAAA,cAAc,EAAE,EAFH;AAGbD,IAAAA,aAAa,EAAE;AAHF,GAFa;AAO5B/J,EAAAA,YAAY,EAAE,IAPc;AAQ5BiK,EAAAA,yBAAyB,EAAE,IARC;AAS5BnT,EAAAA,OAAO,EAAE,IATmB;AAU5BoS,EAAAA,GAAG,EAAE,KAVuB;AAW5BG,EAAAA,oBAAoB,EAAE;AAXM,CAA9B;;IC7DqBe;;;;;AACnB,uBAAY5I,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AACA,UAAKQ,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AACA,UAAKwI,cAAL,GAAsB7I,KAAK,CAAC6I,cAAN,IAAwB,MAAKC,eAAnD;AAHiB;AAIlB;;;;oCAEetQ,QAAQ+H,OAAO;AAC7B,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,MAAX;AAAY,QAAA,GAAG,EAAEA,KAAjB;AAAwB,QAAA,IAAI,aAAM/H,MAAM,CAACuQ,EAAb;AAA5B,SACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAEvQ,MAAM,CAACwQ,MAAP,IAAiB;AAA7B,QADF,EAEE,oBAAC,IAAD,CAAM,OAAN,QACE,oBAAC,IAAD,CAAM,MAAN,QAAcxQ,MAAM,CAACiK,KAArB,CADF,EAEE,oBAAC,IAAD,CAAM,WAAN,QAAmBjK,MAAM,CAACyQ,WAA1B,CAFF,CAFF,CADF;AASD;;;mCAEchM,SAASiM,eAAe;AAAA;;AACrC,UAAMC,QAAQ,GAAGlM,OAAO,CAAC5M,GAAR,CAAY,UAACmI,MAAD,EAAS+H,KAAT;AAAA,eAC3B,MAAI,CAACsI,cAAL,CAAoBrQ,MAApB,EAA4B+H,KAA5B,CAD2B;AAAA,OAAZ,CAAjB;;AAIA,aAAO,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,WAAW,EAAE2I;AAAzB,SAAyCC,QAAzC,CAAP;AACD;;;6BAEQ;AAAA,wBACoC,KAAKnJ,KADzC;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUkI,YADV,eACUA,YADV;AAAA,UACwB/H,OADxB,eACwBA,OADxB;AAEP,UAAMiM,aAAa,GAAG,KAAKlJ,KAAL,CAAWkJ,aAAjC;AACA,aACE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,CAACpM,OAAD,IAAYkI,YAAY,GAAG;AAApD,SACG,KAAKxE,aAAL,CAAmBvD,OAAnB,EAA4BiM,aAA5B,CADH,CADF;AAKD;;;;EAnCsCvI;AA+CzCiI,WAAW,CAAChI,YAAZ,GAA2B;AACzBsI,EAAAA,aAAa,EAAE,CADU;AAEzB1I,EAAAA,aAAa,EAAE,IAFU;AAGzBqI,EAAAA,cAAc,EAAE;AAHS,CAA3B;;AC5DA;;;;;;;AAQA,IAGaD,aAAW,GAAGzK,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AAC3CG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADoB;AAE3CkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFU;AAG3CyM,IAAAA,OAAO,EAAEN,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBhB;AAHe,GAAL;AAAA,CAAN,CAAP,CAIvBgZ,WAJuB,CAApB;;ICEcC;;;;;AACnB,uBAAYrJ,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AACA,UAAKQ,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AACA,UAAKiJ,cAAL,GAAsBtJ,KAAK,CAACsJ,cAAN,IAAwB,MAAKC,eAAnD;AAHiB;AAIlB;;;;oCAEe/Q,QAAQ+H,OAAO;AAC7B,aACE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEA,KAAX;AAAkB,QAAA,IAAI,aAAM/H,MAAM,CAACuQ,EAAb;AAAtB,SACE,oBAAC,IAAD,CAAM,KAAN;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,GAAG,EAAEvQ,MAAM,CAACwQ,MAAP,IAAiB;AAFxB,QADF,EAME,oBAAC,IAAD,CAAM,OAAN,QACE,oBAAC,IAAD,CAAM,MAAN,QAAcxQ,MAAM,CAACiK,KAArB,CADF,EAEE,oBAAC,IAAD,CAAM,WAAN,QAAmBjK,MAAM,CAACyQ,WAA1B,CAFF,CANF,CADF;AAaD;;;mCAEchM,SAAS;AAAA;;AACtB,UAAMkM,QAAQ,GAAGlM,OAAO,CAAC5M,GAAR,CAAY,UAACmI,MAAD,EAAS+H,KAAT;AAAA,eAC3B,MAAI,CAAC+I,cAAL,CAAoB9Q,MAApB,EAA4B+H,KAA5B,CAD2B;AAAA,OAAZ,CAAjB;;AAIA,aACE,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,OAAO,MAAnB;AAAoB,QAAA,OAAO,MAA3B;AAA4B,QAAA,IAAI;AAAhC,SACG4I,QADH,CADF;AAKD;;;6BAEQ;AAAA,wBACoC,KAAKnJ,KADzC;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUkI,YADV,eACUA,YADV;AAAA,UACwB/H,OADxB,eACwBA,OADxB;AAEP,aACE,oBAAC,YAAD;AAAc,QAAA,SAAS,EAAE,CAACH,OAAD,IAAYkI,YAAY,GAAG;AAApD,SACG,KAAKxE,aAAL,CAAmBvD,OAAnB,CADH,CADF;AAKD;;;;EA1CsC0D;AAqDzC0I,WAAW,CAACzI,YAAZ,GAA2B;AACzBJ,EAAAA,aAAa,EAAE,IADU;AAEzB8I,EAAAA,cAAc,EAAE;AAFS,CAA3B;;AClEA;;;;;;;AAQA,IAGaD,aAAW,GAAGlL,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AAC3CG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADoB;AAE3CkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFU;AAG3CyM,IAAAA,OAAO,EAAEN,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBhB;AAHe,GAAL;AAAA,CAAN,CAAP,CAIvBoZ,WAJuB,CAApB;;ICGcC;;;;;AACnB,8BAAYzJ,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AACjB,4FAAMA,KAAN;;AADiB,UAOnBK,cAPmB,GAOF,UAAA5G,MAAM;AAAA,aACrBA,MAAM,KAAK,MAAX,GAAoB,oBAAC,MAAD,CAAM,cAAN,OAApB,GAA8C,oBAAC,MAAD,CAAM,cAAN,OADzB;AAAA,KAPJ;;AAEjB,UAAK+G,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AACA,UAAKqJ,cAAL,GAAsB1J,KAAK,CAAC2J,cAAN,IAAwBN,aAA9C;AACA,UAAKO,cAAL,GAAsB5J,KAAK,CAAC6J,cAAN,IAAwBjB,aAA9C;AAJiB;AAKlB;;;;6BAKQ;AAAA,wBAC0C,KAAK5I,KAD/C;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUkI,YADV,eACUA,YADV;AAAA,UACwBM,aADxB,eACwBA,aADxB;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAEA,aAAa,IAAI,IAAjB,IAAyB,CAACxI,OAA1B,IAAqCkI,YAAY,GAAG;AADjE,SAGG,KAAKxE,aAAL,CAAmB8E,aAAnB,CAHH,CADF;AAOD;;;;EApB6C3E;AA+BhD8I,kBAAkB,CAAC7I,YAAnB,GAAkC;AAChC0E,EAAAA,aAAa,EAAE,IADiB;AAEhC9E,EAAAA,aAAa,EAAE,IAFiB;AAGhCmJ,EAAAA,cAAc,EAAE,IAHgB;AAIhCE,EAAAA,cAAc,EAAE;AAJgB,CAAlC;;AC7CA;;;;;;;AAQA,IAGaJ,oBAAkB,GAAGtL,eAAO,CAAC,UAAAxB,KAAK;AAAA,SAAK;AAClDG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OAD2B;AAElDkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFiB;AAGlD8U,IAAAA,aAAa,EAAE3I,KAAK,CAAC9M,KAAN,CAAY4J;AAHuB,GAAL;AAAA,CAAN,CAAP,CAI9BqQ,kBAJ8B,CAA3B;;ICEcC;;;;;AACnB,0BAAY/J,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,UAiBnBK,cAjBmB,GAiBF,UAACiG,WAAD,EAAcC,OAAd,EAAuByD,aAAvB,EAAyC;AACxD,UAAMC,QAAQ,GAAG1D,OAAO,CAAClW,GAAR,CAAY,UAAC6Z,OAAD,EAAU3J,KAAV,EAAoB;AAC/C,eAAO;AAAE3J,UAAAA,GAAG,EAAE2J,KAAP;AAAc2D,UAAAA,IAAI,EAAEgG,OAAO,CAAChG,IAA5B;AAAkCzT,UAAAA,KAAK,EAAEyZ,OAAO,CAACzZ;AAAjD,SAAP;AACD,OAFgB,CAAjB;;AAGA,aACE,oBAAC,QAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,OAAO,MAFT;AAGE,QAAA,OAAO,EAAEwZ,QAHX;AAIE,QAAA,KAAK,EAAE3D,WAJT;AAKE,QAAA,QAAQ,EAAE,kBAAClQ,CAAD;AAAA,cAAM3F,KAAN,QAAMA,KAAN;AAAA,iBAAkBuZ,aAAa,CAACvZ,KAAD,CAA/B;AAAA;AALZ,QADF;AASD,KA9BkB;;AAAA,UAgCnB0Z,QAhCmB,GAgCR,UAAA1Z,KAAK,EAAI;AAClB,UAAIA,KAAK,KAAK,MAAKuP,KAAL,CAAWsG,WAAzB,EAAsC;;AACtC,YAAK8D,eAAL,CAAqB3Z,KAArB;AACD,KAnCkB;;AAEjB,UAAK8V,OAAL,GAAevG,KAAK,CAACqK,MAArB;AACA,UAAKzE,YAAL,GAAoB5F,KAAK,CAAC4F,YAA1B;AACA,UAAKwE,eAAL,GAAuB,MAAKpK,KAAL,CAAWoK,eAAlC;AACA,UAAKhM,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AANiB;AAOlB;;;;wCAEmB;AAClB,UAAI,KAAKL,KAAL,CAAWsG,WAAX,KAA2B,CAAC,CAAhC,EAAmC;AACjC,aAAKlI,eAAL,CAAqB;AACnB3O,UAAAA,IAAI,EAAE,KAAKmW;AADQ,SAArB;AAGD;AACF;;;6BAsBQ;AAAA,wBACwC,KAAK5F,KAD7C;AAAA,UACClD,OADD,eACCA,OADD;AAAA,UACUwJ,WADV,eACUA,WADV;AAAA,UACuBtB,YADvB,eACuBA,YADvB;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAE,CAAClI,OAAD,IAAYkI,YAAY,GAAG,CAA3B,IAAgCsB,WAAW,KAAK,CAAC;AAD9D,SAGG,KAAK9F,aAAL,CAAmB8F,WAAnB,EAAgC,KAAKC,OAArC,EAA8C,KAAK4D,QAAnD,CAHH,CADF;AAOD;;;;EA/CyCxJ;AA6D5CoJ,cAAc,CAACnJ,YAAf,GAA8B;AAC5BgF,EAAAA,YAAY,EAAE,EADc;AAE5BpF,EAAAA,aAAa,EAAE;AAFa,CAA9B;;AC1EA;;;;;;;AAQA;AAOA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtC8L,IAAAA,eAAe,EAAE,yBAAA3a,IAAI;AAAA,aAAI6O,QAAQ,CAACiB,yBAAyB,CAAC9P,IAAD,CAA1B,CAAZ;AAAA,KADiB;AAEtC2O,IAAAA,eAAe,EAAE,2BAAA3N,KAAK;AAAA,aAAI6N,QAAQ,CAACF,eAAe,CAAC3N,KAAD,CAAhB,CAAZ;AAAA;AAFgB,GAAL;AAAA,CAAnC;;AAKA,IAAasZ,gBAAc,GAAG5L,eAAO,CACnC,UAAAxB,KAAK;AAAA,SAAK;AACRG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADf;AAERwJ,IAAAA,WAAW,EAAE3J,KAAK,CAAC9M,KAAN,CAAYJ,IAFjB;AAGRuV,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ;AAHzB,GAAL;AAAA,CAD8B,EAMnCyN,oBANmC,CAAP,CAO5BqM,cAP4B,CAAvB;;ICRDC;;;;;AACJ,qBAAYvK,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAoCnBoD,aApCmB,GAoCH,UAAA/T,WAAW,EAAI;AAC7B,YAAKgU,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEjU;AADF,OAAd;AAGD,KAxCkB;;AAAA,UA0CnBmU,aA1CmB,GA0CH,YAAM;AACpB,YAAKxE,iBAAL,CAAuB,MAAKrC,KAAL,CAAW2G,YAAlC;AACD,KA5CkB;;AAEjB,UAAKtE,iBAAL,GAAyB,MAAKgB,KAAL,CAAWhB,iBAApC;AACA,UAAKrC,KAAL,GAAa;AACX2G,MAAAA,YAAY,EAAE,MAAKtD,KAAL,CAAW3Q,WAAX,IAA0B;AAD7B,KAAb;AAGA,UAAKmR,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AANiB;AAOlB;;;;mCAEc8D,aAAa9U,aAAa+T,eAAeI,eAAe;AACrEW,MAAAA,WAAW,GAAGA,WAAW,IAAI,gBAA7B;;AACA,UAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAQC,KAAR,EAAkB;AACzCd,QAAAA,aAAa;AACd,OAFD;;AAGA,UAAMe,UAAU,GAAG,SAAbA,UAAa,CAACF,KAAD,EAAQC,KAAR,EAAkB;AACnC,YAAID,KAAK,CAACzN,GAAN,KAAc,OAAlB,EAA2B;AACzB4M,UAAAA,aAAa;AACd;AACF,OAJD;;AAKA,aACE,oBAAC,KAAD;AACE,QAAA,MAAM,EAAE;AACNgB,UAAAA,OAAO,EAAE,QADH;AAENC,UAAAA,OAAO,EAAEL;AAFH,SADV;AAKE,QAAA,KAAK,MALP;AAME,QAAA,WAAW,EAAED,WANf;AAOE,QAAA,QAAQ,EAAE,kBAACE,KAAD,QAAsB;AAAA,cAAZ5T,KAAY,QAAZA,KAAY;AAC9B2S,UAAAA,aAAa,CAAC3S,KAAD,CAAb;AACD,SATH;AAUE,QAAA,KAAK,EAAEpB,WAVT;AAWE,QAAA,UAAU,EAAEkV;AAXd,QADF;AAeD;;;6BAYQ;AAAA,UACCJ,WADD,GACiB,KAAKnE,KADtB,CACCmE,WADD;AAEP,aAAO,KAAK3D,aAAL,CACL2D,WADK,EAEL,KAAKxH,KAAL,CAAW2G,YAFN,EAGL,KAAKF,aAHA,EAIL,KAAKI,aAJA,CAAP;AAMD;;;;EAvDqB7C;;AAiExB4J,SAAS,CAAC3J,YAAV,GAAyB;AACvBuD,EAAAA,WAAW,EAAE,EADU;AAEvB9U,EAAAA,WAAW,EAAE,EAFU;AAGvBmR,EAAAA,aAAa,EAAE;AAHQ,CAAzB;;AAMA,IAAMgK,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAxK,KAAK;AAAA,SACjC,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAEA,KAAK,CAAC3Q;AAAtB,KAAuC2Q,KAAvC,EADiC;AAAA,CAAnC;;ACnFA;;;;;;;AAQA;AAIA,IAAM/B,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCU,IAAAA,iBAAiB,EAAE,6BAAAnP,KAAK;AAAA,aAAIyO,QAAQ,CAACU,iBAAiB,CAACnP,KAAD,CAAlB,CAAZ;AAAA;AADc,GAAL;AAAA,CAAnC;;AAIA,IAAa0a,WAAS,GAAGpM,eAAO,CAC9B,UAAAxB,KAAK;AAAA,SAAK;AACRtN,IAAAA,WAAW,EAAEsN,KAAK,CAAC9M,KAAN,CAAYR;AADjB,GAAL;AAAA,CADyB,EAI9B4O,oBAJ8B,CAAP,CAKvBwM,qBALuB,CAAlB;;ICHcC;;;;;AACnB,gBAAY1K,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;;AADiB,UAiDnB2K,aAjDmB,GAiDH,UAACrb,MAAD,EAASC,SAAT,EAAuB;AACrC,uBAAUD,MAAV,cAAoBC,SAApB;AACD,KAnDkB;;AAAA,UAqDnB8Q,cArDmB,GAqDF,UACfuK,aADe,EAEfC,gBAFe,EAGftE,OAHe,EAIfyD,aAJe,EAKZ;AACH,UAAMc,QAAQ,GAAG,MAAKH,aAAL,CAAmBC,aAAnB,EAAkCC,gBAAlC,CAAjB;;AACA,UAAMZ,QAAQ,GAAG1D,OAAO,CAAClW,GAAR,CAAY,UAAC6Z,OAAD,EAAU3J,KAAV,EAAoB;AAC/C,eAAO;AACL3J,UAAAA,GAAG,EAAE2J,KADA;AAEL2D,UAAAA,IAAI,EAAEgG,OAAO,CAAChG,IAFT;AAGLzT,UAAAA,KAAK,EAAEyZ,OAAO,CAACzZ;AAHV,SAAP;AAKD,OANgB,CAAjB;;AAOA,aACE,oBAAC,QAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,OAAO,MAFT;AAGE,QAAA,OAAO,EAAEwZ,QAHX;AAIE,QAAA,KAAK,EAAEa,QAJT;AAKE,QAAA,QAAQ,EAAE,kBAAC1U,CAAD;AAAA,cAAM3F,KAAN,QAAMA,KAAN;AAAA,iBAAkBuZ,aAAa,CAACvZ,KAAD,CAA/B;AAAA;AALZ,QADF;AASD,KA5EkB;;AAAA,UA8EnB0Z,QA9EmB,GA8ER,UAAA1Z,KAAK,EAAI;AAClB,UACEA,KAAK,KACL,MAAKka,aAAL,CAAmB,MAAK3K,KAAL,CAAW4K,aAA9B,EAA6C,MAAK5K,KAAL,CAAW6K,gBAAxD,CAFF,EAIE;;AACF,UAAMC,QAAQ,GAAG,MAAKvE,OAAL,CAAawE,IAAb,CAAkB,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACva,KAAP,KAAiBA,KAArB;AAAA,OAAxB,CAAjB;;AACA,YAAKwO,kBAAL,CAAwB6L,QAAQ,CAACxb,MAAjC,EAAyCwb,QAAQ,CAACvb,SAAlD;AACD,KAtFkB;;AAEjB,UAAKgX,OAAL,GAAevG,KAAK,CAACqK,MAArB;AACA,UAAKpL,kBAAL,GAA0Be,KAAK,CAACf,kBAAhC;AACA,UAAKb,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;;AAEA,UAAKkG,OAAL,CAAatT,OAAb,CACE,UAAA+X,MAAM;AAAA,aACHA,MAAM,CAAC,OAAD,CAAN,GAAkB,MAAKL,aAAL,CAAmBK,MAAM,CAAC1b,MAA1B,EAAkC0b,MAAM,CAACzb,SAAzC,CADf;AAAA,KADR,EAPiB;;;AAajB,QAAMqW,YAAY,GAAG,MAAKW,OAAL,CAAawE,IAAb,CACnB,UAAAC,MAAM;AAAA,aAAI,aAAaA,MAAb,IAAuBA,MAAM,CAACC,OAAlC;AAAA,KADa,CAArB;;AAGA,UAAKrF,YAAL,GAAoB;AAClBtW,MAAAA,MAAM,EAAEsW,YAAY,CAACtW,MAAb,IAAuB,MAAKiX,OAAL,CAAa,CAAb,EAAgBjX,MAD7B;AAElBC,MAAAA,SAAS,EAAEqW,YAAY,CAACrW,SAAb,IAA0B,MAAKgX,OAAL,CAAa,CAAb,EAAgBhX;AAFnC,KAApB;;AAKA,QAAM2b,yBAAyB,GAAG,MAAK3E,OAAL,CAAawE,IAAb,CAChC,UAAAC,MAAM;AAAA,aAAI,0BAA0BA,MAA1B,IAAoCA,MAAM,CAACG,oBAA/C;AAAA,KAD0B,CAAlC;;AAGA,UAAKD,yBAAL,GAAiC;AAC/B5b,MAAAA,MAAM,EAAE4b,yBAAyB,GAC7BA,yBAAyB,CAAC5b,MADG,GAE7B,MAAKiX,OAAL,CAAa,CAAb,EAAgBjX,MAHW;AAI/BC,MAAAA,SAAS,EAAE2b,yBAAyB,GAChCA,yBAAyB,CAAC3b,SADM,GAEhC,MAAKgX,OAAL,CAAa,CAAb,EAAgBhX;AANW,KAAjC;AAxBiB;AAgClB;;;;wCAEmB;AAClB,UACE,KAAKyQ,KAAL,CAAW4K,aAAX,KAA6B,IAA7B,IACA,KAAK5K,KAAL,CAAW6K,gBAAX,KAAgC,IAFlC,EAGE;AACA,YAAMjF,YAAY,GAAG,KAAK5F,KAAL,CAAWoL,kBAAX,GACjB,KAAKxF,YADY,GAEjB,KAAKsF,yBAFT;AAGA,aAAK9M,eAAL,CAAqB;AACnB9O,UAAAA,MAAM,EAAEsW,YAAY,CAACtW,MADF;AAEnBC,UAAAA,SAAS,EAAEqW,YAAY,CAACrW;AAFL,SAArB;AAID;AACF;;;6BAyCQ;AAAA,wBAMH,KAAKyQ,KANF;AAAA,UAEL4K,aAFK,eAELA,aAFK;AAAA,UAGLC,gBAHK,eAGLA,gBAHK;AAAA,UAIL/N,OAJK,eAILA,OAJK;AAAA,UAKLkI,YALK,eAKLA,YALK;AAOP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EACP4F,aAAa,KAAK,IAAlB,IACAC,gBAAgB,KAAK,IADrB,IAEA,CAAC/N,OAFD,IAGAkI,YAAY,GAAG;AALnB,SAQG,KAAKxE,aAAL,CACCoK,aADD,EAECC,gBAFD,EAGC,KAAKtE,OAHN,EAIC,KAAK4D,QAJN,CARH,CADF;AAiBD;;;;EAjH+BxJ;AA+HlC+J,IAAI,CAAC9J,YAAL,GAAoB;AAClBgK,EAAAA,aAAa,EAAE,IADG;AAElBC,EAAAA,gBAAgB,EAAE,IAFA;AAGlBrK,EAAAA,aAAa,EAAE;AAHG,CAApB;;AC5IA;;;;;;;AAQA;AAIA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCW,IAAAA,kBAAkB,EAAE,8BAAC3P,MAAD,EAASC,SAAT;AAAA,aAClB+O,QAAQ,CAACW,kBAAkB,CAAC3P,MAAD,EAASC,SAAT,CAAnB,CADU;AAAA,KADkB;AAGtC6O,IAAAA,eAAe,EAAE,2BAAA3N,KAAK;AAAA,aAAI6N,QAAQ,CAACF,eAAe,CAAC3N,KAAD,CAAhB,CAAZ;AAAA;AAHgB,GAAL;AAAA,CAAnC;;AAMA,IAAaia,MAAI,GAAGvM,eAAO,CACzB,UAAAxB,KAAK;AAAA,SAAK;AACRyO,IAAAA,kBAAkB,EAAEzO,KAAK,CAAC9M,KAAN,CAAYR,WADxB;AAERub,IAAAA,aAAa,EAAEjO,KAAK,CAAC9M,KAAN,CAAYP,MAFnB;AAGRub,IAAAA,gBAAgB,EAAElO,KAAK,CAAC9M,KAAN,CAAYN,SAHtB;AAIRuN,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OAJf;AAKRkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ;AALzB,GAAL;AAAA,CADoB,EAQzByN,oBARyB,CAAP,CASlBoN,IATkB,CAAb;;ICLcC;;;;;AACnB,kBAAYtL,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;;AADiB,UAqBnBK,cArBmB,GAqBF,UAACuK,aAAD,EAAgBrE,OAAhB,EAAyByD,aAAzB,EAA2C;AAC1D,UAAMC,QAAQ,GAAG1D,OAAO,CAAClW,GAAR,CAAY,UAAC6Z,OAAD,EAAU3J,KAAV,EAAoB;AAC/C,eAAO;AAAE3J,UAAAA,GAAG,EAAE2J,KAAP;AAAc2D,UAAAA,IAAI,EAAEgG,OAAO,CAAChG,IAA5B;AAAkCzT,UAAAA,KAAK,EAAEyZ,OAAO,CAACzZ;AAAjD,SAAP;AACD,OAFgB,CAAjB;;AAGA,aACE,oBAAC,QAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,OAAO,MAFT;AAGE,QAAA,OAAO,EAAEwZ,QAHX;AAIE,QAAA,KAAK,EAAEW,aAJT;AAKE,QAAA,QAAQ,EAAE,kBAACxU,CAAD;AAAA,cAAM3F,KAAN,QAAMA,KAAN;AAAA,iBAAkBuZ,aAAa,CAACvZ,KAAD,CAA/B;AAAA;AALZ,QADF;AASD,KAlCkB;;AAAA,UAoCnB0Z,QApCmB,GAoCR,UAAA1Z,KAAK,EAAI;AAClB,UAAIA,KAAK,KAAK,MAAKuP,KAAL,CAAW4K,aAAzB,EAAwC;;AACxC,YAAKxL,iBAAL,CAAuB3O,KAAvB;AACD,KAvCkB;;AAEjB,UAAK8V,OAAL,GAAevG,KAAK,CAACqK,MAArB;AACA,UAAKzE,YAAL,GAAoB,MAAK5F,KAAL,CAAW4F,YAA/B;AACA,UAAKsF,yBAAL,GAAiC,MAAKlL,KAAL,CAAWkL,yBAA5C;AACA,UAAK9L,iBAAL,GAAyBY,KAAK,CAACZ,iBAA/B;AACA,UAAKhB,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AAPiB;AAQlB;;;;wCAEmB;AAClB,UAAI,KAAKL,KAAL,CAAW4K,aAAX,KAA6B,IAAjC,EAAuC;AACrC,YAAMtb,MAAM,GAAG,KAAK0Q,KAAL,CAAWoL,kBAAX,GACX,KAAKxF,YADM,GAEX,KAAKsF,yBAAL,IAAkC,KAAKtF,YAF3C;AAGA,aAAKxH,eAAL,CAAqB;AACnB9O,UAAAA,MAAM,EAAEA;AADW,SAArB;AAGD;AACF;;;6BAsBQ;AAAA,wBAC0C,KAAK0Q,KAD/C;AAAA,UACC4K,aADD,eACCA,aADD;AAAA,UACgB9N,OADhB,eACgBA,OADhB;AAAA,UACyBkI,YADzB,eACyBA,YADzB;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAE4F,aAAa,KAAK,IAAlB,IAA0B,CAAC9N,OAA3B,IAAsCkI,YAAY,GAAG;AADlE,SAGG,KAAKxE,aAAL,CAAmBoK,aAAnB,EAAkC,KAAKrE,OAAvC,EAAgD,KAAK4D,QAArD,CAHH,CADF;AAOD;;;;EAnDiCxJ;AAmEpC2K,MAAM,CAAC1K,YAAP,GAAsB;AACpBsK,EAAAA,yBAAyB,EAAE,IADP;AAEpBN,EAAAA,aAAa,EAAE,IAFK;AAGpBpK,EAAAA,aAAa,EAAE;AAHK,CAAtB;;AChFA;;;;;;;AAQA;AAGA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCc,IAAAA,iBAAiB,EAAE,6BAAAF,WAAW;AAAA,aAAIZ,QAAQ,CAACc,iBAAiB,CAACF,WAAD,CAAlB,CAAZ;AAAA,KADQ;AAEtCd,IAAAA,eAAe,EAAE,2BAAA3N,KAAK;AAAA,aAAI6N,QAAQ,CAACF,eAAe,CAAC3N,KAAD,CAAhB,CAAZ;AAAA;AAFgB,GAAL;AAAA,CAAnC;;AAKA,IAAa6a,QAAM,GAAGnN,eAAO,CAC3B,UAAAxB,KAAK;AAAA,SAAK;AACRG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADf;AAERkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFzB;AAGRoa,IAAAA,aAAa,EAAEjO,KAAK,CAAC9M,KAAN,CAAYP,MAHnB;AAIR8b,IAAAA,kBAAkB,EAAEzO,KAAK,CAAC9M,KAAN,CAAYR;AAJxB,GAAL;AAAA,CADsB,EAO3B4O,oBAP2B,CAAP,CAQpBsN,MARoB,CAAf;;ICHcC;;;;;AACnB,qBAAYxL,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,UAiBnBK,cAjBmB,GAiBF,UAACwK,gBAAD,EAAmBtE,OAAnB,EAA4ByD,aAA5B,EAA8C;AAC7D,UAAMC,QAAQ,GAAG1D,OAAO,CAAClW,GAAR,CAAY,UAAC6Z,OAAD,EAAU3J,KAAV,EAAoB;AAC/C,eAAO;AAAE3J,UAAAA,GAAG,EAAE2J,KAAP;AAAc2D,UAAAA,IAAI,EAAEgG,OAAO,CAAChG,IAA5B;AAAkCzT,UAAAA,KAAK,EAAEyZ,OAAO,CAACzZ;AAAjD,SAAP;AACD,OAFgB,CAAjB;;AAGA,aACE,oBAAC,QAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,OAAO,MAFT;AAGE,QAAA,OAAO,EAAEwZ,QAHX;AAIE,QAAA,KAAK,EAAEY,gBAJT;AAKE,QAAA,QAAQ,EAAE,kBAACzU,CAAD;AAAA,cAAM3F,KAAN,QAAMA,KAAN;AAAA,iBAAkBuZ,aAAa,CAACvZ,KAAD,CAA/B;AAAA;AALZ,QADF;AASD,KA9BkB;;AAAA,UAgCnB0Z,QAhCmB,GAgCR,UAAA1Z,KAAK,EAAI;AAClB,UAAIA,KAAK,KAAK,MAAKuP,KAAL,CAAW6K,gBAAzB,EAA2C;;AAC3C,YAAKxL,oBAAL,CAA0B5O,KAA1B;AACD,KAnCkB;;AAEjB,UAAK8V,OAAL,GAAevG,KAAK,CAACqK,MAArB;AACA,UAAKzE,YAAL,GAAoB,MAAK5F,KAAL,CAAW4F,YAA/B;AACA,UAAKvG,oBAAL,GAA4BW,KAAK,CAACX,oBAAlC;AACA,UAAKjB,eAAL,GAAuB4B,KAAK,CAAC5B,eAA7B;AACA,UAAKoC,aAAL,GAAqBR,KAAK,CAACQ,aAAN,IAAuB,MAAKH,cAAjD;AANiB;AAOlB;;;;wCAEmB;AAClB,UAAI,KAAKL,KAAL,CAAW6K,gBAAX,KAAgC,IAApC,EAA0C;AACxC,aAAKzM,eAAL,CAAqB;AACnB7O,UAAAA,SAAS,EAAE,KAAKqW;AADG,SAArB;AAGD;AACF;;;6BAsBQ;AAAA,wBAC6C,KAAK5F,KADlD;AAAA,UACC6K,gBADD,eACCA,gBADD;AAAA,UACmB/N,OADnB,eACmBA,OADnB;AAAA,UAC4BkI,YAD5B,eAC4BA,YAD5B;AAEP,aACE,oBAAC,YAAD;AACE,QAAA,SAAS,EAAE6F,gBAAgB,KAAK,IAArB,IAA6B,CAAC/N,OAA9B,IAAyCkI,YAAY,GAAG;AADrE,SAGG,KAAKxE,aAAL,CAAmBqK,gBAAnB,EAAqC,KAAKtE,OAA1C,EAAmD,KAAK4D,QAAxD,CAHH,CADF;AAOD;;;;EA/CoCxJ;AA6DvC6K,SAAS,CAAC5K,YAAV,GAAyB;AACvBiK,EAAAA,gBAAgB,EAAE,IADK;AAEvBrK,EAAAA,aAAa,EAAE;AAFQ,CAAzB;;AC1EA;;;;;;;AAQA;AAIA,IAAMvC,oBAAkB,GAAG,SAArBA,kBAAqB,CAAAK,QAAQ;AAAA,SAAK;AACtCe,IAAAA,oBAAoB,EAAE,gCAAAF,cAAc;AAAA,aAClCb,QAAQ,CAACe,oBAAoB,CAACF,cAAD,CAArB,CAD0B;AAAA,KADE;AAGtCf,IAAAA,eAAe,EAAE,2BAAA3N,KAAK;AAAA,aAAI6N,QAAQ,CAACF,eAAe,CAAC3N,KAAD,CAAhB,CAAZ;AAAA;AAHgB,GAAL;AAAA,CAAnC;;AAMA,IAAa+a,WAAS,GAAGrN,eAAO,CAC9B,UAAAxB,KAAK;AAAA,SAAK;AACRG,IAAAA,OAAO,EAAEH,KAAK,CAACM,OAAN,CAAcH,OADf;AAERkI,IAAAA,YAAY,EAAErI,KAAK,CAACM,OAAN,CAAc7L,IAAd,CAAmBZ,KAFzB;AAGRqa,IAAAA,gBAAgB,EAAElO,KAAK,CAAC9M,KAAN,CAAYN;AAHtB,GAAL;AAAA,CADyB,EAM9B0O,oBAN8B,CAAP,CAOvBwN,SAPuB,CAAlB;;AClBQ,SAAS,6BAA6B,CAAC,MAAM,EAAE,QAAQ,EAAE;AACxE,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;AAChC,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;AAClB,EAAE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACvC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;AACb;AACA,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AACxB,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;AAC7C,IAAI,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAC9B,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB;;CAAC,DCZc,SAAS,wBAAwB,CAAC,MAAM,EAAE,QAAQ,EAAE;AACnE,EAAE,IAAI,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE,CAAC;AAChC,EAAE,IAAI,MAAM,GAAGC,6BAA4B,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAC9D,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC;AACb;AACA,EAAE,IAAI,MAAM,CAAC,qBAAqB,EAAE;AACpC,IAAI,IAAI,gBAAgB,GAAG,MAAM,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;AAChE;AACA,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAClD,MAAM,GAAG,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;AAChC,MAAM,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS;AAC/C,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,SAAS;AAC7E,MAAM,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AAChC,KAAK;AACL,GAAG;AACH;AACA,EAAE,OAAO,MAAM,CAAC;AAChB;;CAAC,DCPM,SAASC,SAAT,CAAmBhL,SAAnB,EAA8B;AACnC,MAAMiL,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,QAAGtN,QAAH,QAAGA,QAAH;AAAA,QAAgB0B,KAAhB;;AAAA,WAA4B,oBAAC,SAAD,EAAeA,KAAf,CAA5B;AAAA,GAAzB;;AACA,MAAMhC,eAAe,GAAG,SAAlBA,eAAkB,CAAArB,KAAK;AAAA,WAAK;AAChCkP,MAAAA,iBAAiB,EAAElP,KAAK,CAAC9M,KADO;AAEhCic,MAAAA,mBAAmB,EAAEnP,KAAK,CAACM;AAFK,KAAL;AAAA,GAA7B;;AAKA,SAAOkB,eAAO,CACZH,eADY,EAEZ,IAFY,CAAP,CAGL4N,gBAHK,CAAP;AAID;;ICtBYrE,cAAc,GAAG,SAAjBA,cAAiB,CAAArX,OAAO,EAAI;AACvC,MAAI6b,GAAG,GAAG,IAAIC,WAAJ,CAAgB,cAAhB,EAAgC;AACxCxE,IAAAA,MAAM,EAAEtX;AADgC,GAAhC,CAAV;AAGAmG,EAAAA,OAAO,CAAC4V,GAAR,CAAY/b,OAAO,CAACyX,YAApB;AAEAtS,EAAAA,MAAM,CAAC6W,aAAP,CAAqBH,GAArB;AACD,CAPM;;;;"}